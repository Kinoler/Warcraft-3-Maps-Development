//W3x2lni Data: 2021-05-02 13:22:00.867
globals
constant integer IV=101
constant integer IW=102
constant integer IX=103
constant integer Ib=101
constant integer Ia=102
constant integer IZ=103
constant integer Ih=101
constant integer Ii=102
constant integer Ij=103
constant integer Id=101
constant integer Ie=102
constant integer If=103
constant integer Il=101
constant integer Im=102
constant integer In=103
constant integer Io=104
constant integer Ip=105
constant string IE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-+= \\!@#$%^&*()/?>.<,;:'\"{}[]|`~"
constant integer ID=StringLength(IE)
string array Ik
string array IU
string array Ig
string array IY
string array Ic
boolean Hv=false
gamecache Hn=null
constant string IS=" \\"
constant integer IP=1
constant integer IO=1
constant string Iq="MMD.Dat"
constant string Ho="val:"
constant string Hs="chk:"
constant integer Bqc=1
constant integer IH=3
integer IG=Bqc
integer II=0
timer H4=CreateTimer()
integer IJ=0
integer IK=0
group Ir=null
integer Is=0
integer It=0
integer Iu=0
integer TL=0
integer Iv=0
boolean Iw=false
player RB=null
player SV=null
unit SR=null
unit WQ=null
integer Ix=0
dialog Iy=null
dialog Iz=null
dialog I0=null
dialog I1=null
dialog I2=null
dialog I3=null
boolean I4=false
string I5
boolean I6=false
group I7=null
unit Pm=null
item Pn=null
integer Pp=0
integer Pq=0
integer I8=0
integer array I9
integer JB=0
integer JC=0
string array JD
unit array Pd
integer JE=0
integer P2=0
integer JF=0
boolean JG=false
integer JH=0
string JI
boolean JJ=false
force JK=null
string JL
boolean array JM
integer JN=0
integer JO=0
leaderboard P3=null
timer JP=null
quest R4=null
string array JQ
integer array JR
boolean JS=false
integer array JT
integer array JU
integer array JV
integer JW=0
integer JX=0
boolean JY=false
unit dP=null
integer JZ=0
item Pu=null
unit Pv=null
integer array Ja
integer Jb=0
timerdialog Pt=null
integer Jc=0
timer Jd=null
integer array Je
integer array Jf
integer array Jg
integer Jh=0
timerdialog dF=null
integer Ji=0
boolean Jj=false
quest QQ=null
questitem cl=null
integer Jk=0
integer Jl=0
force Jm=null
questitem c0=null
integer Jn=0
integer Jo=0
boolean Jp=false
boolean Jq=false
boolean Jr=false
boolean Js=false
force Jt=null
force Ju=null
effect bs=null
effect bt=null
boolean Jv=false
integer Jw=0
integer Jx=0
integer Jy=0
string Jz
unit c8=null
integer J0=0
integer array J1
trigger J2=null
integer J3=0
integer J4=0
boolean J5=false
force J6=null
boolean J7=false
integer J8=0
integer J9=0
force KB=null
force KC=null
timer KD=null
unit c3=null
unit c4=null
unit c5=null
integer array KE
integer array KF
integer array KG
integer array KH
integer array KI
integer array KJ
integer array KK
integer array KL
integer array KM
integer array KN
integer array KO
integer KP=0
group KQ=null
location cJ=null
timer KR=null
timer KS=null
boolean KT=false
integer KU=0
item UL=null
force KV=null
location QE=null
location Wg=null
group KW=null
unit array Vv
unit array QG
boolean KX=false
real KY=0
unit WN=null
unit WO=null
string array KZ
integer array Ka
timer Kb=null
integer array Kc
timerdialog cQ=null
location VL=null
boolean array Kd
rect array UV
integer Ke=0
unit array VH
player Kf=null
rect UU=null
location Rv=null
group array Kg
group Kh=null
integer Ki=0
integer array Kj
string Kk
string Kl
boolean array Km
integer array SD
integer array Kn
boolean Ko=false
boolean Kp=false
integer Kq=0
boolean Kr=false
string array Ks
integer Kt=0
hashtable Rg=null
integer array Ku
location RX=null
unit TO=null
item TP=null
integer UJ=0
integer Kv=0
boolean array Kw
group Kx=null
integer Ky=0
group Kz=null
group array K0
boolean K1=false
location UX=null
integer K2=0
integer K3=0
unit RH=null
integer array K4
boolean array K5
real K6=0
rect Rx=null
integer array K7
unit RI=null
string array K8
string array K9
string array LB
string array LC
string array LD
string array LE
string array LF
string array LG
string array LH
string array LI
boolean array LJ
string array LK
string array LL
integer array LM
boolean array LN
boolean LO=false
integer LP=0
group LQ=null
integer array LR
integer LS=0
integer array LT
boolean array LU
integer LV=0
string array LW
boolean array LX
string array LY
integer array LZ
integer La=0
boolean array Lb
integer array Lc
group Ld=null
integer TM=0
unit UF=null
item US=null
boolean Le=false
real Lf=0
string Lg
unit Lh=null
real array Li
dialog array Lj
button array P7
integer Lk=0
integer Ll=0
integer bm=0
force Lm=null
integer Ln=0
integer Lo=0
questitem array dl
integer Lp=0
integer Lq=0
integer array Lr
integer array Ls
integer array Lt
integer array Lu
rect array WK
integer array WI
sound array WJ
integer array Lv
trigger Lw=null
real array Lx
player Ly=null
rect array WL
rect array R7
unit c6=null
boolean Lz=false
integer array WH
integer bF=0
integer L0=0
integer L1=0
integer array Q1
boolean L2=false
timer L3=null
boolean L4=false
timer L5=null
integer array L6
integer array L7
integer L8=0
integer L9=0
integer MB=0
integer MC=0
integer array MD
unit bM=null
unit V4=null
integer V5=0
integer array V6
integer ME=0
integer MF=0
integer MG=0
unit S9=null
unit S8=null
item array TB
integer array MH
string array MI
integer array MJ
force MK=null
integer array ML
string array MM
integer MN=0
integer array MO
integer MP=0
integer MQ=0
integer MR=0
unit array Qz
timer MS=null
rect array R3
real MT=0
unit QP=null
timer MU=null
location TE=null
integer array MV
texttag TI=null
integer MW=0
trigger array MX
integer array SG
multiboard MY=null
integer array MZ
multiboard Ma=null
integer Mb=0
boolean array Mc
group Md=null
integer Me=0
integer array Mf
integer Mg=0
group Mh=null
location array VN
boolean array Mi
timer array Mj
real Mk=0
real Ml=0
group array Mm
unit Vt=null
unit Vs=null
group array Mn
timer array Mo
real Mp=0
real Mq=0
real Mr=0
location array Up
unit array Uq
timer array Ms
integer Mt=0
location QI=null
unit array VF
group array Mu
integer Mv=0
rect array Ue
real Mw=0
integer Mx=0
real My=0
real Mz=0
real M0=0
real M1=0
group array M2
location array Uf
real array M3
timer array M4
integer array M5
unit array QF
force array M6
group M7=null
timer M8=null
location array Ug
location array Uh
location array Ui
location array Uj
location array Uk
location array Ul
location array Um
location array Un
location array Uo
rect Tt=null
integer array bH
integer M9=0
real NB=0
force NC=null
group ND=null
unit ct=null
quest array cm
group NE=null
integer array R8
real array NF
integer NG=0
timer NH=null
unit bK=null
unit bL=null
group NI=null
timer array NJ
boolean NK=false
location bJ=null
integer NL=0
unit Tv=null
location Tq=null
unit array XB
unit bT=null
group NM=null
timer NN=null
effect W8=null
unit array W7
group NO=null
item array bW
timer NP=null
integer NQ=0
integer NR=0
lightning array W9
location array bc
timer NS=null
rect array bh
location bq=null
location br=null
unit eN=null
boolean NT=false
timer NU=null
group NV=null
boolean NW=false
integer NX=0
real array NY
integer NZ=0
location array WW
effect array WT
lightning array WU
unit array WV
boolean Na=false
boolean Nb=false
integer Nc=0
real Nd=0
boolean Ne=false
destructable array by
integer array b5
real Nf=0
real Ng=0
weathereffect bD=null
boolean Nh=false
group Ni=null
group Nj=null
boolean Nk=false
location array eY
group Nl=null
integer Nm=0
integer Nn=0
quest eK=null
integer No=0
questitem eL=null
unit UN=null
unit dg=null
effect dd=null
timer Np=null
location dk=null
rect array dj
effect array dn
real Nq=0
integer array eQ
integer Nr=0
timer Ns=null
string Nt
timer Nu=null
timer Nv=null
string array Nw
string array Nx
string array Ny
string array Nz
string array N0
string array N1
string array N2
string array N3
string array N4
string array N5
string array N6
string array N7
integer array SF
boolean N8=false
integer array N9
integer array OB
integer array OC
integer array OD
integer array OE
integer array OF
integer array OG
integer array OH
integer array OI
string array OJ
integer array OK
integer array OL
force array OM
integer array R9
integer array SC
integer array SB
boolean array ON
integer OO=0
string array OP
real OQ=0
integer array OS
integer array OT
integer array OU
integer array OV
integer array OW
integer OX=0
integer array OY
integer array OZ
integer Oa=0
integer array Ob
boolean Oc=false
integer Od=0
boolean array Oe
boolean array Of
group array Og
real Oh=0
timer array Oi
boolean Oj=false
timer Ok=null
group Ol=null
group Om=null
location array QR
integer array RV
integer array RU
integer array SE
rect array R6
rect cq=null
unit cr=null
boolean On=false
integer Oo=0
string array Op
string array Oq
force Os=null
force array Ot
string array Ou
group Ov=null
timer array Ow
timer Ox=null
timer Oy=null
timerdialog SJ=null
timer Oz=null
timer array O0
timer O1=null
timer O2=null
integer O3=0
timer O4=null
boolean array O5
string array O6
string array O7
string array O8
string array O9
string array PB
boolean PC=false
integer PD=0
string array PE
boolean PF=false
integer PG=0
player UD=null
timer PH=null
integer PI=0
timer PJ=null
string array PK
string array PL
integer array PM
boolean array PN
boolean array PO
boolean array PP
boolean array PQ
boolean array PR
boolean PS=false
player T3=null
unit de=null
timer array PT
timer array PU
boolean array PV
fogmodifier array QT
string PW
location array QH
integer PX=0
string array PY
integer array Qa
integer array RC
integer PZ=0
rect CB=null
rect CC=null
rect CD=null
rect CE=null
rect CF=null
rect CG=null
rect CH=null
rect CI=null
rect CJ=null
rect CK=null
rect CL=null
rect CM=null
rect CN=null
rect CO=null
rect CP=null
rect CQ=null
rect CR=null
rect CS=null
rect CT=null
rect CU=null
rect CV=null
rect CW=null
rect CX=null
rect CY=null
rect CZ=null
rect Ca=null
rect Cb=null
rect Cc=null
rect Cd=null
rect Ce=null
rect Cf=null
rect Cg=null
rect Ch=null
rect Ci=null
rect Cj=null
rect Ck=null
rect Cl=null
rect Cm=null
rect Cn=null
rect Co=null
rect Cp=null
rect Cq=null
rect Cr=null
rect Cs=null
rect Ct=null
rect Cu=null
rect Cv=null
rect Cw=null
rect Cx=null
rect Cy=null
rect Cz=null
rect C0=null
rect C1=null
rect C2=null
rect C3=null
rect C4=null
rect C5=null
rect C6=null
rect C7=null
rect C8=null
rect C9=null
rect DB=null
rect DC=null
rect DD=null
rect DE=null
rect DF=null
rect DG=null
rect DH=null
rect DI=null
rect DJ=null
rect DK=null
rect DL=null
rect DM=null
rect DN=null
rect DO=null
rect DP=null
rect DQ=null
rect DR=null
rect DS=null
rect DT=null
rect DU=null
rect DV=null
rect DW=null
rect DX=null
rect DY=null
rect DZ=null
rect Da=null
rect Db=null
rect Dc=null
rect Dd=null
rect De=null
rect Df=null
rect Dg=null
rect Dh=null
rect Di=null
rect Dj=null
rect Dk=null
rect Dl=null
rect Dm=null
rect Dn=null
rect Do=null
rect Dp=null
rect Dq=null
rect Dr=null
rect Ds=null
rect Dt=null
rect Du=null
rect Dv=null
rect Dw=null
rect Dx=null
rect Dy=null
rect Dz=null
rect D0=null
rect D1=null
rect D2=null
rect D3=null
rect D4=null
rect D5=null
rect D6=null
rect D7=null
rect D8=null
rect D9=null
rect EB=null
rect EC=null
rect ED=null
rect EE=null
rect EF=null
rect EG=null
rect EH=null
rect EI=null
rect EJ=null
rect EK=null
rect EL=null
rect EM=null
rect EN=null
rect EO=null
rect EP=null
rect EQ=null
rect ER=null
rect ES=null
rect ET=null
rect EU=null
rect EV=null
rect EW=null
rect EX=null
rect EY=null
rect EZ=null
rect Ea=null
rect Eb=null
rect Ec=null
rect Ed=null
rect Ee=null
rect Ef=null
rect Eg=null
rect Eh=null
rect Ei=null
rect Ej=null
rect Ek=null
rect El=null
rect Em=null
rect En=null
rect Eo=null
rect Ep=null
rect Eq=null
rect Er=null
rect Es=null
rect Et=null
rect Eu=null
rect Ev=null
rect Ew=null
rect Ex=null
rect Ey=null
rect Ez=null
rect E0=null
rect E1=null
rect E2=null
rect E3=null
rect E4=null
rect E5=null
rect E6=null
rect E7=null
rect E8=null
rect E9=null
rect FB=null
rect FC=null
rect FD=null
rect FE=null
rect FF=null
rect FG=null
rect FH=null
rect FI=null
rect FJ=null
rect FK=null
rect FL=null
rect FM=null
rect FN=null
rect FO=null
rect FP=null
rect FQ=null
rect FR=null
rect FS=null
rect FT=null
rect FU=null
rect FV=null
rect FW=null
rect FX=null
rect FY=null
rect FZ=null
rect Fa=null
rect Fb=null
rect Fc=null
rect Fd=null
rect Fe=null
rect Ff=null
rect Fg=null
rect Fh=null
rect Fi=null
rect Fj=null
rect Fk=null
rect Fl=null
rect Fm=null
rect Fn=null
rect Fo=null
rect Fp=null
rect Fq=null
rect Fr=null
rect Fs=null
rect Ft=null
rect Fu=null
rect Fv=null
rect Fw=null
rect Fx=null
rect Fy=null
rect Fz=null
rect F0=null
rect F1=null
rect F2=null
rect F3=null
rect F4=null
rect F5=null
rect F6=null
rect F7=null
rect F8=null
rect F9=null
rect GB=null
rect GC=null
rect GD=null
rect GE=null
rect GF=null
rect GG=null
rect GH=null
rect GI=null
rect GJ=null
rect GK=null
rect GL=null
rect GM=null
rect GN=null
rect GO=null
rect GP=null
rect GQ=null
rect GR=null
rect GS=null
rect GT=null
rect GU=null
rect GV=null
rect GW=null
rect GX=null
rect GY=null
rect GZ=null
rect Ga=null
rect Gb=null
rect Gc=null
rect Gd=null
camerasetup Ge=null
camerasetup Gf=null
camerasetup Gg=null
camerasetup Gh=null
camerasetup Gi=null
camerasetup Gj=null
camerasetup Gk=null
camerasetup Gl=null
sound B=null
sound C=null
sound D=null
sound E=null
sound F=null
sound G=null
sound H=null
sound I=null
sound J=null
sound K=null
sound L=null
sound M=null
sound N=null
sound O=null
sound P=null
sound Q=null
sound R=null
sound S=null
sound T=null
sound U=null
sound V=null
sound W=null
sound X=null
sound Y=null
sound Z=null
sound a=null
sound b=null
sound c=null
sound d=null
sound e=null
sound f=null
sound g=null
sound h=null
string i
string j
sound k=null
sound l=null
sound m=null
sound n=null
sound o=null
sound p=null
sound q=null
sound r=null
sound s=null
sound t=null
sound u=null
sound v=null
sound w=null
sound x=null
sound y=null
sound z=null
sound BB=null
sound BC=null
sound BD=null
sound BE=null
sound BF=null
sound BG=null
sound BH=null
sound BI=null
sound BJ=null
sound BK=null
sound BL=null
sound BM=null
sound BN=null
sound BO=null
sound BP=null
sound BQ=null
sound BR=null
sound BS=null
sound BT=null
sound BU=null
sound BV=null
sound BW=null
sound BX=null
sound BY=null
sound BZ=null
sound Ba=null
sound Bb=null
string Bc
sound Bd=null
sound Be=null
sound Bf=null
sound Bg=null
sound Bh=null
sound Bi=null
sound Bj=null
sound Bk=null
sound Bl=null
sound Bm=null
sound Bn=null
sound Bo=null
sound Bp=null
sound Bq=null
sound Br=null
sound Bs=null
sound Bt=null
sound Bu=null
sound Bv=null
sound Bw=null
sound Bx=null
sound By=null
sound Bz=null
sound B0=null
sound B1=null
sound B2=null
sound B3=null
sound B4=null
sound B5=null
sound B6=null
sound B7=null
sound B8=null
sound B9=null
trigger Pa=null
trigger Pc=null
trigger Pb=null
trigger Pe=null
trigger Pf=null
trigger Pg=null
trigger Ph=null
trigger Pj=null
trigger Pl=null
trigger Po=null
trigger Pr=null
trigger V8=null
trigger Ps=null
trigger QZ=null
trigger Pw=null
trigger Py=null
trigger P5=null
trigger P4=null
trigger P0=null
trigger P1=null
trigger P6=null
trigger P8=null
trigger P9=null
trigger QB=null
trigger QC=null
trigger QD=null
trigger QJ=null
trigger QK=null
trigger QM=null
trigger QL=null
trigger QO=null
trigger QU=null
trigger QX=null
trigger QY=null
trigger Qc=null
trigger Qd=null
trigger QV=null
trigger QW=null
trigger Q5=null
trigger Q6=null
trigger Q7=null
trigger RD=null
trigger RE=null
trigger Qb=null
trigger RF=null
trigger RG=null
trigger RJ=null
trigger RN=null
trigger RO=null
trigger RP=null
trigger RQ=null
trigger RR=null
trigger QS=null
trigger Px=null
trigger RS=null
trigger RT=null
trigger RW=null
trigger RY=null
trigger RZ=null
trigger Ra=null
trigger Rd=null
trigger Rj=null
trigger Rk=null
trigger Rl=null
trigger Rm=null
trigger Rn=null
trigger Ro=null
trigger Rp=null
trigger Rq=null
trigger Rr=null
trigger Rs=null
trigger Rw=null
trigger Ry=null
trigger Rz=null
trigger R0=null
trigger R1=null
trigger R2=null
trigger R5=null
trigger SI=null
trigger SN=null
trigger SO=null
trigger SQ=null
trigger ST=null
trigger QN=null
trigger SM=null
trigger SU=null
trigger SP=null
trigger Se=null
trigger Sf=null
trigger SZ=null
trigger Sb=null
trigger Sa=null
trigger SY=null
trigger Sc=null
trigger Sg=null
trigger eZ=null
trigger Sh=null
trigger S4=null
trigger S5=null
trigger S6=null
trigger S7=null
trigger TC=null
trigger TD=null
trigger TG=null
trigger TF=null
trigger TJ=null
trigger TH=null
trigger TK=null
trigger TN=null
trigger TQ=null
trigger TT=null
trigger Tx=null
trigger T1=null
trigger T8=null
trigger UB=null
trigger UC=null
trigger UE=null
trigger UH=null
trigger UI=null
trigger UK=null
trigger UM=null
trigger UQ=null
trigger UR=null
trigger UT=null
trigger Uv=null
trigger Uy=null
trigger VG=null
trigger Uw=null
trigger SK=null
trigger UW=null
trigger VI=null
trigger VJ=null
trigger VK=null
trigger Ru=null
trigger Rt=null
trigger Ux=null
trigger VM=null
trigger VO=null
trigger VP=null
trigger VQ=null
trigger Vc=null
trigger Vd=null
trigger Ve=null
trigger Vf=null
trigger Vm=null
trigger Vn=null
trigger Vo=null
trigger Vp=null
trigger Vq=null
trigger Vr=null
trigger Vu=null
trigger SW=null
trigger SX=null
trigger Vw=null
trigger Vx=null
trigger Vy=null
trigger Vz=null
trigger V0=null
trigger V1=null
trigger Sd=null
trigger V2=null
trigger V3=null
trigger V9=null
trigger WB=null
trigger WC=null
trigger SH=null
trigger WM=null
trigger WP=null
trigger WR=null
trigger WS=null
trigger WY=null
trigger WZ=null
trigger W5=null
trigger W6=null
trigger bE=null
trigger Wh=null
trigger bG=null
trigger XC=null
trigger XD=null
trigger XE=null
trigger XF=null
trigger XG=null
trigger XH=null
trigger XI=null
trigger XJ=null
trigger XK=null
trigger bI=null
trigger Wi=null
trigger bN=null
trigger XS=null
trigger XL=null
trigger bO=null
trigger XR=null
trigger XT=null
trigger XM=null
trigger XN=null
trigger XO=null
trigger XP=null
trigger XQ=null
trigger XU=null
trigger XV=null
trigger XW=null
trigger bP=null
trigger Wj=null
trigger bQ=null
trigger XY=null
trigger XX=null
trigger XZ=null
trigger Xa=null
trigger Xb=null
trigger Xc=null
trigger bR=null
trigger Xd=null
trigger Xf=null
trigger Xe=null
trigger Xg=null
trigger Xh=null
trigger Xi=null
trigger Xk=null
trigger Xj=null
trigger bS=null
trigger Wk=null
trigger bU=null
trigger Xl=null
trigger Xm=null
trigger Xn=null
trigger Xo=null
trigger Xp=null
trigger Xq=null
trigger Xr=null
trigger Xt=null
trigger Xs=null
trigger Xu=null
trigger bV=null
trigger Wl=null
trigger bX=null
trigger Xv=null
trigger Xw=null
trigger Xx=null
trigger Xy=null
trigger Xz=null
trigger X0=null
trigger X2=null
trigger X1=null
trigger X3=null
trigger X4=null
trigger X7=null
trigger X6=null
trigger X5=null
trigger X8=null
trigger X9=null
trigger bZ=null
trigger ba=null
trigger bY=null
trigger Wm=null
trigger bb=null
trigger YC=null
trigger YB=null
trigger YD=null
trigger YF=null
trigger YI=null
trigger YG=null
trigger YE=null
trigger YH=null
trigger YK=null
trigger YL=null
trigger YJ=null
trigger YN=null
trigger YM=null
trigger YP=null
trigger YO=null
trigger bd=null
trigger Wn=null
trigger be=null
trigger bf=null
trigger YR=null
trigger YQ=null
trigger YT=null
trigger YS=null
trigger YW=null
trigger YU=null
trigger YV=null
trigger YX=null
trigger YZ=null
trigger YY=null
trigger Ya=null
trigger Ye=null
trigger Yb=null
trigger Yf=null
trigger Yc=null
trigger Yd=null
trigger bg=null
trigger Wy=null
trigger bi=null
trigger bj=null
trigger Wo=null
trigger bn=null
trigger bp=null
trigger Yg=null
trigger Yh=null
trigger Yj=null
trigger Yk=null
trigger Yi=null
trigger Yl=null
trigger Yn=null
trigger Ym=null
trigger Yo=null
trigger Yp=null
trigger Yq=null
trigger Yr=null
trigger Yt=null
trigger Ys=null
trigger Yv=null
trigger Yu=null
trigger bo=null
trigger Wz=null
trigger bu=null
trigger W0=null
trigger bv=null
trigger Wp=null
trigger bw=null
trigger Yw=null
trigger Yx=null
trigger Yz=null
trigger Yy=null
trigger Y0=null
trigger Y2=null
trigger Y1=null
trigger Y4=null
trigger Y3=null
trigger Y6=null
trigger Y5=null
trigger Y8=null
trigger Y7=null
trigger Y9=null
trigger bx=null
trigger W1=null
trigger bz=null
trigger b0=null
trigger b2=null
trigger b1=null
trigger Wq=null
trigger b3=null
trigger ZB=null
trigger ZE=null
trigger ZC=null
trigger ZF=null
trigger ZD=null
trigger ZI=null
trigger ZH=null
trigger ZG=null
trigger ZK=null
trigger ZJ=null
trigger ZM=null
trigger ZL=null
trigger ZO=null
trigger ZN=null
trigger ZR=null
trigger ZP=null
trigger ZQ=null
trigger ZS=null
trigger b4=null
trigger W2=null
trigger b6=null
trigger b7=null
trigger b8=null
trigger b9=null
trigger cC=null
trigger Tw=null
trigger cB=null
trigger Wr=null
trigger cD=null
trigger ZV=null
trigger ZW=null
trigger ZU=null
trigger ZT=null
trigger ZZ=null
trigger ZX=null
trigger ZY=null
trigger Zb=null
trigger Za=null
trigger Zd=null
trigger Zc=null
trigger Ze=null
trigger Zf=null
trigger Zg=null
trigger Zh=null
trigger Zi=null
trigger Zk=null
trigger Zj=null
trigger cE=null
trigger W3=null
trigger cF=null
trigger cG=null
trigger Ws=null
trigger cH=null
trigger Zl=null
trigger Zn=null
trigger Zm=null
trigger Zo=null
trigger Zq=null
trigger Zp=null
trigger Zr=null
trigger Zt=null
trigger Zs=null
trigger Zu=null
trigger Zv=null
trigger Zx=null
trigger Zw=null
trigger Zy=null
trigger Z0=null
trigger Zz=null
trigger Z1=null
trigger Z2=null
trigger cI=null
trigger W4=null
trigger cK=null
trigger Wt=null
trigger cL=null
trigger Z4=null
trigger Z3=null
trigger Z5=null
trigger Z7=null
trigger Z6=null
trigger Z8=null
trigger aB=null
trigger Z9=null
trigger aC=null
trigger aE=null
trigger aF=null
trigger aD=null
trigger aG=null
trigger aH=null
trigger aI=null
trigger cN=null
trigger cO=null
trigger cP=null
trigger cM=null
trigger Wb=null
trigger cR=null
trigger cS=null
trigger aK=null
trigger aL=null
trigger aN=null
trigger aM=null
trigger aP=null
trigger aO=null
trigger aQ=null
trigger aR=null
trigger aT=null
trigger aS=null
trigger aJ=null
trigger aU=null
trigger cT=null
trigger Wd=null
trigger Wf=null
trigger We=null
trigger Wc=null
trigger Wu=null
trigger cU=null
trigger cV=null
trigger aX=null
trigger aV=null
trigger aW=null
trigger aZ=null
trigger aY=null
trigger ac=null
trigger aa=null
trigger ab=null
trigger af=null
trigger ad=null
trigger ae=null
trigger ag=null
trigger Wv=null
trigger cX=null
trigger ah=null
trigger ai=null
trigger WX=null
trigger Ww=null
trigger cY=null
trigger aw=null
trigger ax=null
trigger av=null
trigger aj=null
trigger am=null
trigger ak=null
trigger al=null
trigger ap=null
trigger an=null
trigger ao=null
trigger as=null
trigger aq=null
trigger ar=null
trigger au=null
trigger at=null
trigger cZ=null
trigger Wx=null
trigger ca=null
trigger ay=null
trigger a0=null
trigger az=null
trigger a3=null
trigger a1=null
trigger a2=null
trigger a5=null
trigger a4=null
trigger a7=null
trigger a6=null
trigger a8=null
trigger a9=null
trigger bC=null
trigger bB=null
trigger cb=null
trigger cc=null
trigger cd=null
trigger ce=null
trigger cf=null
trigger cg=null
trigger ch=null
trigger ci=null
trigger cj=null
trigger ck=null
trigger cn=null
trigger cs=null
trigger do=null
trigger dp=null
trigger cu=null
trigger cv=null
trigger cw=null
trigger dq=null
trigger cx=null
trigger c1=null
trigger c2=null
trigger c7=null
trigger du=null
trigger dv=null
trigger c9=null
trigger dB=null
trigger dC=null
trigger dD=null
trigger dE=null
trigger dw=null
trigger dG=null
trigger dH=null
trigger dx=null
trigger dy=null
trigger dI=null
trigger dJ=null
trigger dz=null
trigger d4=null
trigger dL=null
trigger dM=null
trigger dN=null
trigger dK=null
trigger dO=null
trigger dQ=null
trigger dR=null
trigger dW=null
trigger dc=null
trigger dX=null
trigger df=null
trigger UO=null
trigger eM=null
trigger UP=null
trigger di=null
trigger dh=null
trigger dm=null
trigger eO=null
trigger eR=null
trigger eP=null
trigger eT=null
trigger eW=null
trigger eS=null
trigger eU=null
trigger eV=null
trigger eX=null
trigger co=null
trigger cp=null
trigger cy=null
trigger dr=null
trigger cz=null
trigger ds=null
trigger dt=null
trigger d0=null
trigger eB=null
trigger d1=null
trigger d9=null
trigger d2=null
trigger d3=null
trigger d5=null
trigger d6=null
trigger d7=null
trigger eC=null
trigger d8=null
trigger eD=null
trigger dS=null
trigger eE=null
trigger dT=null
trigger dU=null
trigger eF=null
trigger dV=null
trigger eG=null
trigger dY=null
trigger eH=null
trigger dZ=null
trigger da=null
trigger eI=null
trigger db=null
trigger eJ=null
unit HH=null
unit G5=null
unit HT=null
unit HP=null
unit G9=null
unit G7=null
unit Hk=null
unit HX=null
unit HO=null
unit HL=null
unit HM=null
unit HN=null
unit G8=null
unit HB=null
unit HC=null
unit HF=null
unit HI=null
unit HJ=null
unit HK=null
unit HQ=null
unit HG=null
unit HR=null
unit HE=null
unit HU=null
unit HV=null
unit G6=null
unit HW=null
unit Hh=null
unit HY=null
unit HZ=null
unit Hb=null
unit Ha=null
unit Hc=null
unit Hd=null
unit Hi=null
unit HS=null
unit He=null
unit Hf=null
unit Hg=null
unit Hj=null
destructable Gr=null
destructable Gq=null
destructable Gn=null
destructable Gy=null
destructable Gw=null
destructable Gx=null
destructable Gt=null
destructable Gv=null
destructable Gs=null
destructable Gu=null
destructable Gm=null
destructable Go=null
destructable Gp=null
destructable G3=null
destructable Gz=null
destructable G0=null
destructable G1=null
destructable G2=null
hashtable bl=InitHashtable()
integer H0=0
integer H2=0
integer array H1
real array H3
string array Hr
integer array H5
string array Hp
integer array Ht
trigger Hl
integer Hm
endglobals
function ea takes nothing returns integer
local integer Hq=H0
if Hq!=0 then
set H0=H1[Hq]
else
set H2=H2+1
set Hq=H2
endif
if Hq>8190 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Unable to allocate id for an object of type: MMD___QueueNode")
return 0
endif
set Ht[Hq]=0
set H1[Hq]=-1
return Hq
endfunction
function eb takes integer WD,unit WE,unit WF,integer WG returns nothing
local location G4
set WD=WD+MD[GetConvertedPlayerId(GetOwningPlayer(WE))]
if GetRandomInt(1,100)<=WD then
set G4=GetUnitLoc(WF)
call CreateItemLoc(WG,G4)
call RemoveLocation(G4)
else
endif
endfunction
function ec takes nothing returns nothing
set RC[1]=$49304B5A
set RC[2]=$49304C30
set RC[3]=$49304C31
set RC[4]=$49304C34
set RC[5]=$49304B59
set RC[6]=$49304C32
set RC[7]=$49304C35
set RC[8]=$49304C33
set RC[9]=$49304C36
set R8[1]=$4131434A
set R8[2]=$4131434B
set R8[3]=$4131434C
set R8[4]=$4131434D
set R8[5]=$4131434E
set R8[6]=$4131434F
set R8[7]=$41314350
set R8[8]=$41314351
set R8[9]=$41314352
set R8[10]=$41314353
set NF[1]=.5
set NF[2]=1
set NF[3]=1.5
set NF[4]=2
set NF[5]=2.5
set NF[6]=3
set NF[7]=3.5
set NF[8]=4
set NF[9]=4.5
set NF[10]=5
set Q1[101]=$49303034
set Q1[102]=$49303035
set Q1[103]=$49303036
set Q1[104]=$49303039
set Q1[105]=$49303041
set Q1[106]=$49303042
set Q1[107]=$49303043
set Q1[108]=$49303044
set Q1[109]=$49303045
set Q1[110]=$49303046
set Q1[111]=$49303047
set Q1[112]=$49303048
set Q1[113]=$49303049
set Q1[114]=$4930304A
set Q1[115]=$4930304B
set Q1[116]=$4930304C
set Q1[117]=$4930304D
set Q1[118]=$4930304E
set Q1[119]=$4930304F
set Q1[120]=$49303050
set Q1[121]=$49303051
set Q1[122]=$49303052
set Q1[123]=$49303053
set Q1[124]=$49303058
set Q1[125]=$49303059
set Q1[126]=$4930305A
set Q1[127]=$49303130
set Q1[128]=$49303131
set Q1[129]=$49303132
set Q1[130]=$49303133
set Q1[131]=$49303134
set Q1[132]=$49303135
set Q1[133]=$49303136
set Q1[134]=$49303137
set Q1[135]=$49303138
set Q1[136]=$49303139
set Q1[137]=$49303141
set Q1[138]=$49303142
set Q1[139]=$49303143
set Q1[140]=$49303144
set Q1[141]=$49303145
set Q1[142]=$49303146
set Q1[143]=$49303147
set Q1[144]=$49303148
set Q1[145]=$49303149
set Q1[146]=$4930314A
set Q1[147]=$4930314B
set Q1[148]=$4930314C
set Q1[149]=$4930314D
set Q1[150]=$4930314E
set Q1[151]=$4930314F
set Q1[152]=$49303150
set Q1[153]=$49303151
set Q1[154]=$49303152
set Q1[155]=$49303153
set Q1[156]=$49303158
set Q1[157]=$4930315A
set Q1[158]=$49303230
set Q1[159]=$49303231
set Q1[160]=$49303232
set Q1[161]=$49303233
set Q1[164]=$49303235
set Q1[165]=$49303236
set Q1[166]=$49303237
set Q1[167]=$49303238
set Q1[168]=$49303239
set Q1[169]=$49303241
set Q1[170]=$49303247
set Q1[171]=$49303248
set Q1[173]=$49303249
set Q1[174]=$4930324C
set Q1[175]=$4930324F
set Q1[176]=$49303250
set Q1[177]=$49303251
set Q1[178]=$49303252
set Q1[179]=$49303253
set Q1[180]=$49303257
set Q1[181]=$49303258
set Q1[182]=$49303259
set Q1[183]=$4930325A
set Q1[184]=$49303332
set Q1[185]=$49303335
set Q1[186]=$49303339
set Q1[187]=$49303341
set Q1[188]=$49303342
set Q1[189]=$49303343
set Q1[190]=$49303344
set Q1[191]=$49303345
set Q1[192]=$4930334B
set Q1[193]=$4930334C
set Q1[194]=$4930334D
set Q1[195]=$4930334E
set Q1[196]=$4930334F
set Q1[197]=$49303350
set Q1[198]=$49303351
set Q1[199]=$49303352
set Q1[200]=$49303353
set Q1[201]=$49303354
set Q1[202]=$49303356
set Q1[203]=$49303357
set Q1[204]=$49303358
set Q1[205]=$49303359
set Q1[206]=$4930335A
set Q1[207]=$49303430
set Q1[208]=$49303431
set Q1[209]=$49303432
set Q1[210]=$49303438
set Q1[211]=$49303439
set Q1[212]=$49303441
set Q1[213]=$49303442
set Q1[214]=$49303443
set Q1[215]=$49303444
set Q1[216]=$49303445
set Q1[217]=$49303446
set Q1[218]=$49303447
set Q1[219]=$49303448
set Q1[220]=$49303449
set Q1[221]=$4930344A
set Q1[222]=$4930344B
set Q1[223]=$4930344C
set Q1[224]=$4930344D
set Q1[225]=$4930344E
set Q1[226]=$4930344F
set Q1[227]=$49303450
set Q1[228]=$49303451
set Q1[229]=$49303452
set Q1[230]=$49303453
set Q1[231]=$49303454
set Q1[232]=$49303456
set Q1[233]=$49303457
set Q1[234]=$49303533
set Q1[235]=$49303534
set Q1[236]=$49303535
set Q1[237]=$49303536
set Q1[238]=$49303537
set Q1[239]=$49303538
set Q1[240]=$49303539
set Q1[241]=$49303541
set Q1[242]=$49303542
set Q1[243]=$49303543
set Q1[244]=$49303544
set Q1[245]=$49303545
set Q1[246]=$49303546
set Q1[247]=$49303547
set Q1[248]=$49303548
set Q1[249]=$49303549
set Q1[250]=$4930354A
set Q1[251]=$4930354B
set Q1[252]=$49303553
set Q1[253]=$49303630
set Q1[254]=$49303633
set Q1[255]=$49303634
set Q1[256]=$49303635
set Q1[257]=$49303636
set Q1[258]=$49303637
set Q1[259]=$49303739
set Q1[260]=$49303741
set Q1[261]=$49303742
set Q1[262]=$49303743
set Q1[263]=$49303744
set Q1[264]=$49303745
set Q1[265]=$49303746
set Q1[266]=$4930374E
set Q1[267]=$4930374F
set Q1[268]=$49303750
set Q1[269]=$49303751
set Q1[270]=$49303752
set Q1[271]=$49303753
set Q1[272]=$49303754
set Q1[273]=$49303832
set Q1[274]=$49303833
set Q1[275]=$49303834
set Q1[276]=$49303835
set Q1[277]=$49303836
set Q1[278]=$49303837
set Q1[279]=$49303838
set Q1[280]=$49303839
set Q1[281]=$49303841
set Q1[282]=$49303842
set Q1[283]=$49303843
set Q1[284]=$49303844
set Q1[285]=$49303845
set Q1[286]=$49303846
set Q1[287]=$49303847
set Q1[288]=$49303848
set Q1[289]=$49303849
set Q1[290]=$4930384A
set Q1[291]=$4930384B
set Q1[292]=$4930384C
set Q1[293]=$4930384D
set Q1[294]=$4930384E
set Q1[295]=$4930384F
set Q1[296]=$49303850
set Q1[297]=$49303851
set Q1[298]=$49303852
set Q1[299]=$49303853
set Q1[300]=$49303854
set Q1[301]=$49303855
set Q1[302]=$49303857
set Q1[303]=$49303858
set Q1[304]=$49303859
set Q1[305]=$4930385A
set Q1[306]=$49303930
set Q1[307]=$49303931
set Q1[308]=$49303932
set Q1[309]=$49303933
set Q1[310]=$49303934
set Q1[311]=$49303935
set Q1[312]=$49303936
set Q1[313]=$49303937
set Q1[314]=$49303938
set Q1[315]=$49303939
set Q1[316]=$49303941
set Q1[317]=$49303942
set Q1[318]=$49303943
set Q1[319]=$49303944
set Q1[320]=$49303945
set Q1[321]=$49303757
set Q1[322]=$49303830
set Q1[323]=$49303946
set Q1[324]=$49303947
set Q1[325]=$49303948
set Q1[326]=$49304137
set Q1[327]=$49304138
set Q1[328]=$49304139
set Q1[329]=$49304141
set Q1[330]=$49304144
set Q1[331]=$49304145
set Q1[332]=$49304146
set Q1[333]=$49304147
set Q1[334]=$49304148
set Q1[335]=$49304149
set Q1[336]=$49303955
set Q1[337]=$4930414C
set Q1[338]=$4930414D
set Q1[339]=$4930414E
set Q1[340]=$4930414F
set Q1[341]=$49304150
set Q1[342]=$49304151
set Q1[343]=$49304153
set Q1[344]=$49304154
set Q1[345]=$49304155
set Q1[346]=$49304157
set Q1[347]=$49304158
set Q1[348]=$49304159
set Q1[349]=$49304236
set Q1[350]=$49304237
set Q1[351]=$49304152
set Q1[352]=$49304238
set Q1[353]=$49304239
set Q1[354]=$49304241
set Q1[355]=$49304242
set Q1[356]=$49304243
set Q1[357]=$49304244
set Q1[358]=$49304245
set Q1[359]=$49304246
set Q1[360]=$49304247
set Q1[361]=$49304248
set Q1[362]=$4930394A
set Q1[363]=$49304249
set Q1[364]=$4930424C
set Q1[365]=$4930424D
set Q1[366]=$4930424E
set Q1[367]=$4930424F
set Q1[368]=$49304250
set Q1[369]=$49304251
set Q1[370]=$49304252
set Q1[371]=$49304253
set Q1[372]=$49304254
set Q1[373]=$49304255
set Q1[374]=$49304256
set Q1[375]=$49304257
set Q1[376]=$49304258
set Q1[377]=$49304259
set Q1[378]=$4930425A
set Q1[379]=$49304330
set Q1[380]=$49304331
set Q1[381]=$49304332
set Q1[382]=$49304333
set Q1[383]=$49304334
set Q1[384]=$49304335
set Q1[385]=$49304336
set Q1[386]=$49304337
set Q1[387]=$49304338
set Q1[388]=$49304339
set Q1[389]=$49304341
set Q1[390]=$49304342
set Q1[391]=$49304343
set Q1[392]=$49304344
set Q1[393]=$49304345
set Q1[394]=$49304346
set Q1[395]=$49304348
set Q1[396]=$4930434A
set Q1[397]=$4930434C
set Q1[398]=$4930434D
set Q1[399]=$49304353
set Q1[400]=$49304354
set Q1[401]=$49304355
set Q1[402]=$49304356
set Q1[403]=$49304358
set Q1[404]=$49304359
set Q1[405]=$4930435A
set Q1[406]=$49304430
set Q1[407]=$49304435
set Q1[408]=$49304436
set Q1[409]=$49304437
set Q1[410]=$49304438
set Q1[411]=$49304439
set Q1[412]=$49304441
set Q1[413]=$49304443
set Q1[414]=$49304444
set Q1[415]=$49304445
set Q1[416]=$49304446
set Q1[417]=$49304447
set Q1[418]=$49304449
set Q1[419]=$4930444A
set Q1[420]=$4930444B
set Q1[421]=$4930444C
set Q1[422]=$4930444D
set Q1[423]=$4930444E
set Q1[424]=$4930444F
set Q1[425]=$49304450
set Q1[426]=$49304451
set Q1[427]=$49304452
set Q1[428]=$49304453
set Q1[429]=$49304454
set Q1[430]=$49304455
set Q1[431]=$49304456
set Q1[432]=$49304457
set Q1[433]=$49304458
set Q1[434]=$49304459
set Q1[435]=$4930445A
set Q1[436]=$49304530
set Q1[437]=$49304531
set Q1[438]=$49304532
set Q1[439]=$49304533
set Q1[440]=$49304534
set Q1[441]=$49304535
set Q1[442]=$49304536
set Q1[443]=$49304537
set Q1[444]=$49304538
set Q1[445]=$49304539
set Q1[446]=$49304541
set Q1[447]=$49304542
set Q1[448]=$49304543
set Q1[449]=$49304544
set Q1[450]=$49304545
set Q1[451]=$49304546
set Q1[452]=$49304547
set Q1[453]=$49304548
set Q1[454]=$49304549
set Q1[455]=$4930454A
set Q1[456]=$4930454B
set Q1[457]=$4930454C
set Q1[458]=$4930454D
set Q1[459]=$4930454E
set Q1[460]=$4930454F
set Q1[461]=$49304550
set Q1[462]=$49304551
set Q1[463]=$49304552
set Q1[464]=$49304553
set Q1[465]=$49304554
set Q1[466]=$49304556
set Q1[467]=$49304557
set Q1[468]=$49304558
set Q1[469]=$49304559
set Q1[470]=$4930455A
set Q1[471]=$49304630
set Q1[472]=$49304631
set Q1[473]=$49304632
set Q1[474]=$49304633
set Q1[475]=$49304634
set Q1[476]=$49304635
set Q1[477]=$49304636
set Q1[478]=$49304637
set Q1[479]=$49304638
set Q1[480]=$49304639
set Q1[481]=$49304641
set Q1[482]=$49304642
set Q1[483]=$4930424B
set Q1[484]=$49304644
set Q1[485]=$49304646
set Q1[486]=$49304647
set Q1[487]=$49304648
set Q1[488]=$49304649
set Q1[489]=$4930464A
set Q1[490]=$4930464B
set Q1[491]=$4930464C
set Q1[492]=$4930464D
set Q1[493]=$4930464E
set Q1[494]=$4930464F
set Q1[495]=$49304650
set Q1[496]=$49304651
set Q1[497]=$49304652
set Q1[498]=$49304653
set Q1[499]=$49304654
set Q1[500]=$49304655
set Q1[501]=$49304658
set Q1[502]=$4930465A
set Q1[503]=$49304659
set Q1[504]=$49304730
set Q1[505]=$49304731
set Q1[506]=$49304732
set Q1[507]=$49304733
set Q1[508]=$49304734
set Q1[509]=$49304735
set Q1[510]=$49304736
set Q1[511]=$49304737
set Q1[512]=$49304738
set Q1[513]=$49304739
set Q1[514]=$49304741
set Q1[515]=$49304742
set Q1[516]=$49304743
set Q1[517]=$49304744
set Q1[518]=$49304745
set Q1[519]=$49304746
set Q1[520]=$49304747
set Q1[521]=$49304748
set Q1[522]=$49304749
set Q1[523]=$4930474A
set Q1[524]=$4930474B
set Q1[525]=$4930474D
set Q1[526]=$49304751
set Q1[527]=$49304753
set Q1[528]=$49304754
set Q1[529]=$49304759
set Q1[530]=$4930475A
set Q1[531]=$49304830
set Q1[532]=$49304832
set Q1[533]=$49304833
set Q1[534]=$49304839
set Q1[535]=$49304841
set Q1[536]=$49304842
set Q1[537]=$49304843
set Q1[538]=$49304846
set Q1[539]=$49304847
set Q1[540]=$49304848
set Q1[541]=$49304849
set Q1[542]=$4930484B
set Q1[543]=$4930484F
set Q1[544]=$49304852
set Q1[545]=$49304853
set Q1[546]=$49304854
set Q1[547]=$49304855
set Q1[548]=$49304856
set Q1[549]=$49304857
set Q1[550]=$49304858
set Q1[551]=$49304859
set Q1[552]=$4930485A
set Q1[553]=$49304930
set Q1[554]=$49304931
set Q1[555]=$49304932
set Q1[556]=$49304933
set Q1[557]=$49303555
set Q1[558]=$49303556
set Q1[559]=$49303557
set Q1[560]=$49303558
set Q1[561]=$49303559
set Q1[562]=$4930355A
set Q1[563]=$49303638
set Q1[564]=$49303639
set Q1[565]=$49303641
set Q1[566]=$49303642
set Q1[567]=$49303643
set Q1[568]=$49303644
set Q1[569]=$49303645
set Q1[570]=$49303646
set Q1[571]=$49303647
set Q1[572]=$49303648
set Q1[573]=$49303649
set Q1[574]=$4930364B
set Q1[575]=$4930364C
set Q1[576]=$4930364E
set Q1[577]=$4930364F
set Q1[578]=$4930364A
set Q1[579]=$4930474E
set Q1[580]=$49303756
set Q1[581]=$4930474F
set Q1[582]=$49303652
set Q1[583]=$49303653
set Q1[584]=$49303655
set Q1[585]=$49303758
set Q1[586]=$4930375A
set Q1[587]=$4930414A
set Q1[588]=$49304156
set Q1[589]=$4930415A
set Q1[590]=$49304230
set Q1[591]=$49304231
set Q1[592]=$49304232
set Q1[593]=$49304233
set Q1[594]=$49304234
set Q1[595]=$49304235
set Q1[596]=$49304347
set Q1[597]=$4930474C
set Q1[598]=$49304750
set Q1[599]=$49304752
set Q1[600]=$49304756
set Q1[601]=$49304757
set Q1[602]=$49304758
set Q1[603]=$49304834
set Q1[604]=$49304835
set Q1[605]=$49304836
set Q1[606]=$49304837
set Q1[607]=$49304838
set Q1[608]=$49304844
set Q1[609]=$49304845
set Q1[610]=$4930484A
set Q1[611]=$4930484C
set Q1[612]=$4930484D
set Q1[613]=$4930484E
set Q1[614]=$49304850
set Q1[615]=$49304851
set Q1[616]=$49304938
set Q1[617]=$49304939
set Q1[618]=$49304941
set Q1[619]=$49304942
set Q1[620]=$49304943
set Q1[621]=$49304944
set Q1[622]=$49304945
set Q1[623]=$49304946
set Q1[624]=$49304947
set Q1[625]=$49304948
set Q1[626]=$49304949
set Q1[627]=$4930494A
set Q1[628]=$4930494B
set Q1[629]=$4930494C
set Q1[630]=$4930494D
set Q1[631]=$4930494E
set Q1[632]=$4930494F
set Q1[633]=$49304950
set Q1[634]=$49304951
set Q1[635]=$49304952
set Q1[636]=$49304953
set Q1[637]=$49304954
set Q1[638]=$49304955
set Q1[639]=$49304956
set Q1[640]=$49304957
set Q1[641]=$49304958
set Q1[642]=$49304959
set Q1[643]=$4930495A
set Q1[644]=$49304A30
set Q1[645]=$49304A31
set Q1[646]=$49304A32
set Q1[647]=$49304A33
set Q1[648]=$49304A34
set Q1[649]=$49304A35
set Q1[650]=$49304A36
set Q1[651]=$49304A37
set Q1[652]=$49304A38
set Q1[653]=$49304A39
set Q1[654]=$49304A41
set Q1[655]=$49304A42
set Q1[656]=$49304A43
set Q1[657]=$49304A44
set Q1[658]=$49304A45
set Q1[659]=$49304A46
set Q1[660]=$49304A47
set Q1[661]=$49304A48
set Q1[662]=$49304A49
set Q1[663]=$49304A4A
set Q1[664]=$49304A4B
set Q1[665]=$49304A4C
set Q1[666]=$49304A4D
set Q1[667]=$49304A4E
set Q1[668]=$49304A4F
set Q1[669]=$49304A50
set Q1[670]=$49304A51
set Q1[671]=$49304A52
set Q1[672]=$49304A53
set Q1[673]=$49304A54
set Q1[674]=$49304A55
set Q1[675]=$49304A56
set Q1[676]=$49304A57
set Q1[677]=$49304A58
set Q1[678]=$49304A59
set Q1[679]=$49304A5A
set Q1[680]=$49304B30
set Q1[681]=$49304B31
set Q1[682]=$49304B32
set Q1[683]=$49304B33
set Q1[684]=$49304B34
set Q1[685]=$49304B35
set Q1[686]=$49304B36
set Q1[687]=$49304B37
set Q1[688]=$49304B38
set Q1[689]=$49304B39
set Q1[690]=$49304B41
set Q1[691]=$4930324D
set Q1[692]=$4930324E
set Q1[693]=$49303255
set Q1[694]=$49304B50
set Q1[695]=$49304B51
set Q1[696]=$49304B52
set Q1[697]=$49304B53
set Q1[698]=$49304B54
set Q1[699]=$49304B55
set Q1[700]=$49304B4B
set Q1[701]=$49304B4C
set Q1[702]=$49304B4D
set Q1[703]=$49304B4E
set Q1[704]=$49304B4F
set Q1[705]=$49304B58
set R9[1]=$6E303031
set R9[2]=$6E303032
set R9[3]=$6E303033
set R9[4]=$6E303034
set R9[6]=$6E303035
set R9[7]=$6E303036
set R9[8]=$6E303037
set R9[9]=$6E303038
set R9[11]=$6E303039
set R9[12]=$6E303041
set R9[13]=$6E303058
set R9[14]=$6E303059
set R9[16]=$6E30305A
set R9[17]=$6E303130
set R9[18]=$6E303131
set R9[19]=$6E303132
set R9[21]=$6E303133
set R9[22]=$6E303134
set R9[23]=$6E303136
set R9[24]=$6E303232
set R9[26]=$6E303135
set R9[27]=$6E303155
set R9[28]=$6E30334C
set R9[29]=$6E303157
set R9[31]=$6E30334B
set R9[32]=$6E303231
set R9[33]=$6E303154
set R9[34]=$6E303156
set R9[37]=$6E303159
set R9[38]=$6E303357
set R9[41]=$6E303354
set R9[42]=$6E303358
set R9[46]=$6E303350
set R9[47]=$6E303158
set R9[48]=$6E30334E
set R9[51]=$6E303352
set R9[52]=$6E30334D
set R9[53]=$6E303355
set R9[56]=$6E30315A
set R9[57]=$6E303230
set R9[58]=$6E303356
set R9[61]=$6E303331
set R9[62]=$6E303351
set R9[63]=$6E303353
set R9[64]=$6E30334F
set R9[68]=$6E303633
set R9[70]=$6E303731
set R9[71]=$6E30354C
set R9[72]=$65303056
set R9[73]=$6830354D
set SB[1]=$4930444F
set SB[2]=$49304452
set SB[3]=$49304450
set SB[4]=$49304451
set SB[6]=$49304455
set SB[7]=$49304453
set SB[8]=$49304456
set SB[9]=$49304454
set SB[11]=$49304457
set SB[12]=$49304459
set SB[13]=$49304458
set SB[14]=$4930445A
set SB[16]=$49304534
set SB[17]=$49304535
set SB[18]=$4930364B
set SB[19]=$49304536
set SB[21]=$49304530
set SB[22]=$49304531
set SB[23]=$49304532
set SB[24]=$49304533
set SB[26]=$49304537
set SB[27]=$49304538
set SB[28]=$49304539
set SB[29]=$49304541
set SB[31]=$49304542
set SB[32]=$49304543
set SB[33]=$49304544
set SB[34]=$49304545
set SB[37]=$49304546
set SB[38]=$49304547
set SB[41]=$49304548
set SB[42]=$49304549
set SB[46]=$4930454A
set SB[47]=$4930454B
set SB[48]=$4930364C
set SB[51]=$4930454C
set SB[52]=$4930454D
set SB[53]=$4930454E
set SB[56]=$4930454F
set SB[57]=$49304550
set SB[58]=$49304551
set SB[61]=$49304552
set SB[62]=$49304553
set SB[63]=$49304554
set SB[64]=$49304555
set SB[68]=$49304B4B
set SB[70]=$49304B4C
set SB[71]=$49304B4D
set SB[72]=$49304B4E
set SB[73]=$49304B4F
set SC[1]=$49304431
set SC[2]=$49304431
set SC[3]=$49304431
set SC[4]=$49304431
set SC[6]=$49304431
set SC[7]=$49304431
set SC[8]=$49304431
set SC[9]=$49304431
set SC[11]=$49304431
set SC[12]=$49304431
set SC[13]=$49304431
set SC[14]=$49304431
set SC[16]=$49304431
set SC[17]=$49304431
set SC[18]=$49304431
set SC[19]=$49304431
set SC[21]=$49304432
set SC[22]=$49304432
set SC[23]=$49304432
set SC[24]=$49304432
set SC[26]=$49304431
set SC[27]=$49304431
set SC[28]=$49304431
set SC[29]=$49304431
set SC[31]=$49304432
set SC[32]=$49304432
set SC[33]=$49304432
set SC[34]=$49304432
set SC[37]=$49304432
set SC[38]=$49304432
set SC[41]=$49304432
set SC[42]=$49304432
set SC[46]=$49304431
set SC[47]=$49304431
set SC[48]=$49304431
set SC[51]=$49304432
set SC[52]=$49304432
set SC[53]=$49304432
set SC[56]=$49304431
set SC[57]=$49304431
set SC[58]=$49304431
set SC[61]=$49304432
set SC[62]=$49304432
set SC[63]=$49304432
set SC[64]=$49304432
set SC[68]=$49304431
set SC[70]=$49304431
set SC[71]=$49304431
set SC[72]=$49304431
set SC[73]=$49304431
set MM[101]="Гоблинский шлем-котелок"
set MM[102]="Магический амулет"
set MM[103]="Красивая подвеска"
set MM[104]="Гоблинский бронежилет"
set MM[105]="Гоблинские сапоги"
set MM[106]="Гоблинские перчатки"
set MM[107]="Ружьё"
set MM[108]="Базука"
set MM[109]="Огнемёт"
set MM[110]="Пулемёт"
set MM[111]="Питарды"
set MM[112]="Кожаная накидка"
set MM[113]="Железный нагрудник"
set MM[114]="Льняной плащ"
set MM[115]="Каска взрывника"
set MM[116]="Шапка"
set MM[117]="Маска"
set MM[118]="Голова гигантского арахнида"
set MM[119]="Лапа гигантского арахнида"
set MM[120]="Клешня гигантского арахнида"
set MM[121]="Бронежилет с лапой арахнида"
set MM[122]="Бронежилет с головой арахнида"
set MM[123]="Бронежилет с клешней арахнида"
set MM[124]="Железное ружье"
set MM[125]="Железный пулемёт"
set MM[126]="Железная базука"
set MM[127]="Железный огнемёт"
set MM[128]="Железные гранаты"
set MM[129]="Шарострел"
set MM[130]="Железный шарострел"
set MM[131]="Гоблинский комбинезон"
set MM[132]="Серебряная подвеска"
set MM[133]="Серебряный амулет"
set MM[134]="Экспедиционный костюмчик"
set MM[135]="Костюм ученого"
set MM[136]="Костюм амбала"
set MM[137]="Костюм наёмника"
set MM[138]="Каско-шлемо-маска"
set MM[139]="Ториевое ружье"
set MM[140]="Ториевые гранаты"
set MM[141]="Ториевый огнемёт"
set MM[142]="Ториевый пулемёт"
set MM[143]="Ториевый шарострел"
set MM[144]="Ториевая ракетница"
set MM[145]="Увеличительное стёклышко"
set MM[146]="Железная оптика"
set MM[147]="Ториевая оптика"
set MM[148]="Серебряная оптика"
set MM[149]="Арканитовая оптика"
set MM[150]="Арканитовая ракетница"
set MM[151]="Арканитовый шарострел"
set MM[152]="Арканитовое ружье"
set MM[153]="Арканитовый огнемёт"
set MM[154]="Арканитовый пулемёт"
set MM[155]="Арканитовые гранаты"
set MM[156]="Съедобный грыбочек"
set MM[157]="Арахнидские перчатки"
set MM[158]="Арахнидские сапоги"
set MM[159]="Арахнидский шлем"
set MM[160]="Сет Арахнида"
set MM[161]="Арахнидский доспех "
set MM[162]="Грибная настойка "
set MM[164]="Руна: Снайперское ружье"
set MM[165]="Руна: Пулемёт/Огнемёт"
set MM[166]="Руна: Автобазука"
set MM[167]="Руна: Фугасы"
set MM[168]="Руна: Шаромёт"
set MM[169]="Руна: Нано-протез"
set MM[170]="Арканитовый Нано-протез"
set MM[171]="Броне-комбез"
set MM[173]="Броне-скафандр"
set MM[174]="Арканитовый шестиствол"
set MM[175]="Арканитовый напалмомёт"
set MM[176]="Перчатка рабовладельца"
set MM[177]="Кирка рабовладельца"
set MM[178]="Свечка рабовладельца"
set MM[179]="Сет Рабовладельца"
set MM[180]="Арканитовая снайперка"
set MM[181]="Полу-философский камень"
set MM[182]="Философский камень"
set MM[183]="Сломанная печать врат"
set MM[184]="Арканитовые фугасы"
set MM[185]="Арканитовый шаромёт"
set MM[186]="Аккумуляторная кислота"
set MM[187]="Ториевый обломок генератора"
set MM[188]="Кусок ториевой гусеницы"
set MM[189]="Магическое ультра-горючее"
set MM[190]="Ториевый нейро-генератор"
set MM[191]="Доспех из ториевой гусеницы"
set MM[192]="Ториевая циркулярная пила"
set MM[193]="Экзоскелет КУС-500rmk"
set MM[194]="Рецепт: Самозарядный дробовик"
set MM[195]="Рецепт: Элитная снайперка"
set MM[196]="Рецепт: Базука бомбера"
set MM[197]="Рецепт: Мехо-пак"
set MM[198]="Рецепт: Переносная мед-станция"
set MM[199]="Рецепт: Ядер-Магическая бомба"
set MM[200]="Рецепт: Пулемётная лента"
set MM[201]="Рецепт: Огнемётное охлаждение"
set MM[202]="Самозарядный дробовик"
set MM[203]="Элитная снайперка"
set MM[204]="Базука бомбера"
set MM[205]="Мехо-пак"
set MM[206]="Переносная мед-станция"
set MM[207]="Ядер-магическая бомба"
set MM[208]="Пулемётная лента"
set MM[209]="Огнемётное охлаждение"
set MM[210]="Железный двигатель"
set MM[211]="Железный меха-гоблин"
set MM[212]="Серебряный меха-гоблин"
set MM[213]="Ториевый меха-гоблин"
set MM[214]="Арканитовый меха-гоблин"
set MM[215]="Венец Похоти"
set MM[216]="Нагрудник Похоти"
set MM[217]="Наручники Похоти"
set MM[218]="Сет Похоти"
set MM[219]="Лезвие алебарды Похоти"
set MM[220]="Древко алебарды Похоти"
set MM[221]="Алебарда Похоти"
set MM[222]="Обломки железной гаубицы"
set MM[223]="Треснувшая подзорная труба"
set MM[224]="Порваные перчатки"
set MM[225]="Пустой пороховой мешочек"
set MM[226]="Повреждённая броня"
set MM[227]="Железная гаубица"
set MM[228]="Перчатки Бомбса"
set MM[229]="Труба Аккуратерса"
set MM[230]="Бронежилет Бомбса"
set MM[231]="Мешок взрывчатки"
set MM[232]="Сет Бомбса"
set MM[233]="Сет Cапёра"
set MM[234]="Рубиновое колечко"
set MM[235]="Сапфировое кольцо"
set MM[236]="Рубиновое кольцо"
set MM[237]="Рубиновый перстень"
set MM[238]="Сапфировое колечко"
set MM[239]="Сапфировый перстень"
set MM[240]="Изумрудное колечко"
set MM[241]="Изумрудное кольцо"
set MM[242]="Изумрудный перстень"
set MM[243]="Аметистовое колечко"
set MM[244]="Аметистовое кольцо"
set MM[245]="Аметистовый перстень"
set MM[246]="Топазовое колечко"
set MM[247]="Топазовое кольцо"
set MM[248]="Топазовый перстень"
set MM[249]="Алмазное колечко"
set MM[250]="Алмазное кольцо"
set MM[251]="Алмазный перстень"
set MM[252]="Сет Аккуратерса"
set MM[253]="Крылья Алчности"
set MM[254]="Разрушитель материи"
set MM[255]="Пронзающий душу"
set MM[256]="Прожигатель"
set MM[257]="Адские пули"
set MM[258]="Душеглот"
set MM[259]="Рецепт: Зелье невидимости"
set MM[260]="Рецепт: Зелье неуязвимости"
set MM[261]="Рецепт: Зелье антимагии"
set MM[262]="Рецепт: Зелье скорости"
set MM[263]="Рецепт: Зелье щита"
set MM[264]="Рецепт: Зелье духа"
set MM[265]="Рецепт: Зелье гальванизации"
set MM[266]="Око демона"
set MM[267]="Ненависть"
set MM[268]="Ярость"
set MM[269]="Чревоугодие"
set MM[270]="Мощь"
set MM[271]="Доспехи Порчи"
set MM[272]="Сет Хазула"
set MM[273]="Левое крыло Алчности"
set MM[274]="Правое крыло Алчности"
set MM[275]="Перстень Алчности"
set MM[276]="Ожерелье Алчности"
set MM[277]="Коготь Алчности"
set MM[278]="Сет Алчности"
set MM[279]="Запасные детали"
set MM[280]="Повреждённый техно-модуль"
set MM[281]="Повреждённая силовая броня"
set MM[282]="Повреждённый реактор"
set MM[283]="Повреждённый окуляр"
set MM[284]="Повреждённый воспламенитель"
set MM[285]="Повреждённый ускоритель частиц"
set MM[286]="Повреждённая ракетница"
set MM[287]="Повреждённый преобразователь"
set MM[288]="Силовая броня"
set MM[289]="Ядерный реактор"
set MM[290]="Техно-модуль"
set MM[291]="Магический окуляр"
set MM[292]="Воспламенитель"
set MM[293]="Ускоритель частиц"
set MM[294]="Ракетная установка"
set MM[295]="Преобразователь маны"
set MM[296]="Обломки телепортатора"
set MM[297]="Странная кружка"
set MM[298]="Треснувшие очки"
set MM[299]="Телепортатор"
set MM[300]="Стазис-кружка"
set MM[301]="Очки Хазула"
set MM[302]="Мультицвет"
set MM[303]="Радужный камень"
set MM[304]="Радужный скелет"
set MM[305]="Каратель"
set MM[306]="Безмолвный палач"
set MM[307]="Лютый"
set MM[308]="HealPack-3000"
set MM[309]="Тех-Протез"
set MM[310]="Бумер"
set MM[311]="Mr.Пламень"
set MM[312]="Большой Сэм"
set MM[313]="Рецепт: Каратель"
set MM[314]="Рецепт: Безмолвный палач"
set MM[315]="Рецепт: Лютый"
set MM[316]="Рецепт: HealPack-3000"
set MM[317]="Рецепт: Тех-протез"
set MM[318]="Рецепт: Бумер"
set MM[319]="Рецепт: Mr. Пламень"
set MM[320]="Рецепт: Большой Сэм"
set MM[321]="Сет Страха"
set MM[322]="Пояс Страха"
set MM[323]="Глаза Страха"
set MM[324]="Язык Страха"
set MM[325]="Деревянная удочка"
set MM[326]="Железная удочка"
set MM[327]="Серебряная удочка"
set MM[328]="Ториевая удочка"
set MM[329]="Арканитовая удочка"
set MM[330]="Ошейник Дрессировщика"
set MM[331]="Порванная сеть"
set MM[332]="Сломанная булава"
set MM[333]="Сете-пушка Дрессировщика"
set MM[334]="Помятый серебряный ошейник"
set MM[335]="Электро-булава Дрессировщика"
set MM[336]="Сердце Зависти"
set MM[337]="Клык Зависти"
set MM[338]="Цепь Зависти"
set MM[339]="Сет Зависти"
set MM[340]="Резак Зависти"
set MM[341]="Рог Зависти"
set MM[342]="Помятый амулет"
set MM[343]="Помятый шлем"
set MM[344]="Шлем Шиззла"
set MM[345]="Ящик со склянками"
set MM[346]="Запертый дневник"
set MM[347]="Дневник Шиззла"
set MM[348]="Сет Шиззла"
set MM[349]="Сапфировое ожерелье"
set MM[350]="Изумрудное ожерелье"
set MM[351]="Аметистовое ожерелье"
set MM[352]="Рубиновое ожерелье"
set MM[353]="Топазовое ожерелье"
set MM[354]="Алмазное ожерелье"
set MM[355]="Зажигалка"
set MM[356]="Бум-Стик А-2"
set MM[357]="Восполнитель"
set MM[358]="Перчатка Власти"
set MM[359]="Перчатка Уничтожения"
set MM[360]="Мед-Протез"
set MM[361]="Нано-кирка"
set MM[362]="Зелье беспамятства"
set MM[363]="Сет Дрессировщика"
set MM[364]="Осколочный миноукладчик"
set MM[365]="Нейро-балон"
set MM[366]="Кислотная граната"
set MM[367]="Хим-костюм"
set MM[368]="Шипованный доспех"
set MM[369]="Гусеничные сапоги"
set MM[370]="Корона Похоти"
set MM[371]="Царь скорпионов"
set MM[372]="Похотливая броня"
set MM[373]="Охотник на ведьм"
set MM[374]="Похотливые перчатки"
set MM[375]="Накидка амазонки"
set MM[376]="Сила Демона"
set MM[377]="Философский перстень"
set MM[378]="Алла"
set MM[379]="Амулет продажности"
set MM[380]="Жажда наживы"
set MM[381]="Когтистая броня"
set MM[382]="Когтистая перчатка"
set MM[383]="Маска Ужаса"
set MM[384]="Глотатель Страха"
set MM[385]="Смотрящая в душу"
set MM[386]="Медальон Кошмаров"
set MM[387]="Кираса Страха"
set MM[388]="Пугающий тулуп"
set MM[389]="Порочный мультицвет"
set MM[390]="Душитель Х-8"
set MM[391]="Кандалы Зависти"
set MM[392]="Громовержец"
set MM[393]="Острейший Рогоклык"
set MM[394]="Вероломный шлем"
set MM[395]="Смертельная сущность"
set MM[396]="Амулет Глотателя Душ"
set MM[397]="Маска Некромантии"
set MM[398]="Доспехи Легиона"
set MM[399]="Зелья Шиззла"
set MM[400]="Арахнидский камень"
set MM[401]="Демоническая кирка"
set MM[402]="Демоническая удочка"
set MM[403]="Ожерелье Фиалка"
set MM[404]="Ожерелье Лайм"
set MM[405]="Ожерелье Индиго"
set MM[406]="Амулет Вождя Огров"
set MM[407]="Сет Аккуратерса v2.0"
set MM[408]="Сет Алчности v2.0"
set MM[409]="Сет Бомбса v2.0"
set MM[410]="Сет Дрессировщика v2.0"
set MM[411]="Сет Зависти v2.0"
set MM[412]="Сет Похоти v2.0"
set MM[413]="Сет Страха v2.0"
set MM[414]="Сет Хазула v2.0"
set MM[415]="Сет Шиззла v2.0"
set MM[416]="Сет Рабовладельца v2.0"
set MM[417]="Сет Сапёра v2.0"
set MM[418]="Доспехи Легиона v2.0"
set MM[419]="Циркулярка v2.0"
set MM[420]="Экзоскелет КУС-500 v2.0"
set MM[421]="Арахнидский Камень v2.0"
set MM[422]="Радужный скелет v2.0"
set MM[423]="Сила Демона v2.0"
set MM[424]="Паучья железа"
set MM[425]="Хитиновый панцирь"
set MM[426]="Желудок арахнида"
set MM[427]="Яйцо арахнида"
set MM[428]="Лопата кобольда"
set MM[429]="Рюкзак кобольда"
set MM[430]="Силовое ядро"
set MM[431]="Тёмный манускрипт"
set MM[432]="Призрачная мантия"
set MM[433]="Призрачный шлем"
set MM[434]="Призрачная субстанция"
set MM[435]="Армированная перчатка"
set MM[436]="Когтистое ожерелье"
set MM[437]="Плащ Королевы Экстаза"
set MM[438]="Шлем Евнуха"
set MM[439]="Рог Гончей"
set MM[440]="Термо-двигатель"
set MM[441]="Резакомёт"
set MM[442]="Кинжал убийцы"
set MM[443]="Труба артиллериста"
set MM[444]="Механические клешни"
set MM[445]="Эльфийский лук"
set MM[446]="Плащ Мага Крови"
set MM[447]="Топор прораба"
set MM[448]="Копьё искателя сокровищ"
set MM[449]="Камень проклятья"
set MM[450]="Кандалы Левиафана"
set MM[451]="Пламенный камень"
set MM[452]="Камень повелителя огня"
set MM[453]="Тотем кошмаров"
set MM[454]="Паническая маска"
set MM[455]="Знак дикой природы"
set MM[456]="Голова летучей мыши"
set MM[457]="Завистливая морда"
set MM[458]="Демоническая обшивка"
set MM[459]="Жезл Боли"
set MM[460]="Колючий щит"
set MM[461]="Тотем исцеления"
set MM[462]="Флаг Черной Кости"
set MM[463]="Череп Шиззла"
set MM[464]="Череп гнома"
set MM[465]="Маска Мучений"
set MM[466]="MEGA-HealPack"
set MM[467]="Mr. Жаров"
set MM[468]="Ледяная кара"
set MM[469]="Сэмюэль Старший"
set MM[470]="Крашер"
set MM[471]="Охотник"
set MM[472]="Бешеный"
set MM[473]="Чудотехники"
set MM[474]="Рецепт: MEGA-HealPack"
set MM[475]="Рецепт: Mr. Жаров"
set MM[476]="Рецепт: Бешеный"
set MM[477]="Рецепт: Крашер"
set MM[478]="Рецепт: Ледяная кара"
set MM[479]="Рецепт: Охотник"
set MM[480]="Рецепт: Сэмюэль Старший"
set MM[481]="Рецепт :Чудо техники"
set MM[482]="Книга Времени (1й том)"
set MM[483]="Восполнитель Тьмы"
set MM[484]="Книга Времени (2й том)"
set MM[485]="Арахнидский кастет"
set MM[486]="Лампа из черепа"
set MM[487]="Книга Времени (3й том)"
set MM[488]="Книга Времени (4й том)"
set MM[489]="Книга Времени (5й том)"
set MM[490]="Книга Времени (6й том)"
set MM[491]="Когти Страха"
set MM[492]="Наплечники Страха"
set MM[493]="Кости Страха"
set MM[494]="Страхоискатель"
set MM[495]="Ужасный Лизун"
set MM[496]="Кипятильник Страха"
set MM[497]="Голод Страха"
set MM[498]="Вдова"
set MM[499]="Льстец"
set MM[500]="Пугатель"
set MM[501]="Амулет Смерти"
set MM[502]="Накидка Смерти"
set MM[503]="Перст Смерти"
set MM[504]="Сет Смерти v2.0"
set MM[505]="Голос Смерти"
set MM[506]="Сет Смерти"
set MM[507]="Жнец"
set MM[508]="Несправедливость"
set MM[509]="Перчатка Армагедона"
set MM[510]="Перчатки Армагедона v2.0"
set MM[511]="Демоническая сущность"
set MM[512]="Воплощение зла"
set MM[513]="Виварий"
set MM[514]="Доспех Паучьего Жреца"
set MM[515]="Конвертер O.R.E"
set MM[516]="Ворчун"
set MM[517]="Набор подрывника"
set MM[518]="Экзотика"
set MM[519]="Книга Времени (7й том)"
set MM[520]="Могильный холод"
set MM[521]="Книга Времени (8й том)"
set MM[522]="Книга Времени (9й том)"
set MM[523]="Осквернитель Х-20"
set MM[524]="Жракодел-700"
set MM[525]="Царская Любовь"
set MM[526]="Ночные очки"
set MM[527]="Колючий Преградитель"
set MM[528]="Когтистый страж"
set MM[529]="Бесстрашный воин"
set MM[530]="Похотливый Ужас"
set MM[531]="Испивающий душу"
set MM[532]="Шок-базука"
set MM[533]="Электрическая клешня"
set MM[534]="Ошейник Подчинения"
set MM[535]="Броня Смертника"
set MM[536]="Ожерелье Достатка"
set MM[537]="Полыхалка R-13"
set MM[538]="Броня Разврата"
set MM[539]="Непрощающий"
set MM[540]="Словарь Демонов"
set MM[541]="Кислобум-8000"
set MM[542]="Шлем Воеводы"
set MM[543]="Душежог-3000-G"
set MM[544]="Золотая лихорадка"
set MM[545]="Голосовой модуль"
set MM[546]="Сфера душ"
set MM[547]="Драконья чешуя"
set MM[548]="Печать врат"
set MM[549]="Рецепт: Печать Врат"
set MM[550]="Экзорцист"
set MM[551]="Рецепт: Амулет Изгнания"
set MM[552]="Амулет Изгнания"
set MM[553]="Дракончик"
set MM[554]="Дракон"
set MM[555]="Боевой дракон"
set MM[556]="Яйцо дракона"
set MM[557]="Рецепт: Драконья Слеза"
set MM[558]="Рецепт: Драконье Дыхание"
set MM[559]="Рецепт: Драконий Коготь"
set MM[560]="Рецепт: Драконий Характер"
set MM[561]="Рецепт: Драконье Око"
set MM[562]="Рецепт: Драконья Душа"
set MM[563]="Рецепт: Драконий Крик"
set MM[564]="Рецепт: Драконий Разум"
set MM[565]="Драконья Слеза"
set MM[566]="Драконье Дыхание"
set MM[567]="Драконий Коготь"
set MM[568]="Драконий Характер"
set MM[569]="Драконье Око"
set MM[570]="Драконья Душа"
set MM[571]="Драконий Крик"
set MM[572]="Драконий Разум"
set MM[573]="Доспехи Дракона"
set MM[574]="Лапка гоблина"
set MM[575]="Паучье гнездо"
set MM[576]="Магнетайзер"
set MM[577]="Клинок Дракона"
set MM[578]="Свет Жизни"
set MM[579]="Рецепт: Доспехи Порчи"
set MM[580]="Рецепт: Доспехи Легиона"
set MM[581]="Рецепт: Доспехи Дракона"
set MM[582]="Арканитовая автобазука"
set MM[583]="Деталь механизма"
set MM[584]="Адский Индиго"
set MM[585]="Священный Индиго"
set MM[586]="Адская Фиалка"
set MM[587]="Священная Фиалка"
set MM[588]="Адский Лайм"
set MM[589]="Священный Лайм"
set MM[590]="Обсидиановый Индиго"
set MM[591]="Обсидиановая фиалка"
set MM[592]="Обсидиановый лайм"
set MM[593]="Драконий Амулет"
set MM[594]="Драконий Медальон"
set MM[595]="Драконье Ожерелье"
set MM[596]="Одержимый Амулет"
set MM[597]="Одержимый Медальон"
set MM[598]="Одержимое Ожерелье"
set MM[599]="Амулет Бесконечности"
set MM[600]="Медальон Бесконечности"
set MM[601]="Ожерелье Бесконечности"
set MM[602]="Священный свет"
set MM[603]="Загребушка-700"
set MM[604]="Пылающий восполнитель"
set MM[605]="Когти антиматерии"
set MM[606]="Сонный парализатор"
set MM[607]="Продавец душ"
set MM[608]="Очки обмана"
set MM[609]="Алмазные когти"
set MM[610]="Нестабильный конвертер"
set MM[611]="Шипастые сапоги"
set MM[612]="Доспех дознавателя"
set MM[613]="Техбрат-25Т"
set MM[614]="Пытатель-135-F"
set MM[615]="Алхимические когти"
set MM[616]="Пылающий пронзатель"
set MM[617]="Доспех Инквизитора"
set MM[618]="Эксперимент-ХВ00-М"
set MM[619]="Нейрохилотрон-500"
set MM[620]="Шаги Смерти"
set MM[621]="Рассекатель душ"
set MM[622]="Убийца королей"
set MM[623]="Вредная клешня"
set MM[624]="Дух проклятого Зверя"
set MM[625]="Меч Пустоты"
set MM[626]="Навязчивое пламя"
set MM[627]="Корона Севера"
set MM[628]="Доспех Палача"
set MM[629]="Доспех Жреца Смерти"
set MM[630]="Капкан Страданий"
set MM[631]="Демонический Шлем"
set MM[632]="Дьявольская Маска"
set MM[633]="Когти Демона"
set MM[634]="Кровавый Пакт"
set MM[635]="Пустотник"
set MM[636]="Пожирающий огонь"
set MM[637]="Смертельная Кирка"
set MM[638]="Шоквинтовка-XL"
set MM[639]="Безудержность"
set MM[640]="Мощь Титанов"
set MM[641]="Генератор Разрушения"
set MM[642]="Клинок Вечности"
set MM[643]="Печать вечного изгнания"
set MM[644]="Доспехи Лича"
set MM[645]="Дневник Времени"
set MM[646]="Душа Титана"
set MM[647]="Адские муки"
set MM[648]="Демонический реактор"
set MM[649]="Кровобот-666"
set MM[650]="Пустотный запальник"
set MM[651]="Адская буря"
set MM[652]="Вневременная кирка"
set MM[653]="Разрушитель Времени"
set MM[654]="Стиратель Личности"
set MM[655]="Разрыватель Реальности"
set MM[656]="Вневременный Палач"
set MM[657]="Доспехи Титана"
set MM[658]="Выноситель"
set MM[659]="Коллапсо"
set MM[660]="Доспех Миротворца"
set MM[661]="Меч Миротворца"
set MM[662]="Плащ Жизнетворца"
set MM[663]="Аннигилятор-АТ"
set MM[664]="Изначальная Жизнь"
set MM[665]="Черная Дырочка"
set MM[666]="Магмовое Ядро"
set MM[667]="Терраформер"
set MM[668]="Сверхновая"
set MM[669]="Кузнец Судеб"
set MM[670]="Двигатель Вселенной"
set MM[671]="Разрушитель Бытия"
set MM[672]="Сет Рабовладельца v3.0"
set MM[673]="Арахнидский камень v3.0"
set MM[674]="Радужный скелет v3.0"
set MM[675]="КУС-500рмк v3.0"
set MM[676]="Циркулярка v3.0"
set MM[677]="Сет Похоти v3.0"
set MM[678]="Сет Аккуратерса v3.0"
set MM[679]="Сет Бомбса v3.0"
set MM[680]="Сет Сапера v3.0"
set MM[681]="Сет Алчности v3.0"
set MM[682]="Сила демона v3.0"
set MM[683]="Сет Хазула v3.0"
set MM[684]="Сет Страха v3.0"
set MM[685]="Сет Дрессировщика v3.0"
set MM[686]="Доспехи Легиона v3.0"
set MM[687]="Сет Зависти v3.0"
set MM[688]="Сет Шиззла v3.0"
set MM[689]="Перчатка Армагедона v3.0"
set MM[690]="Сет Смерти v3.0"
set MM[691]="Книга Времени (10й том)"
set MM[692]="Книга Времени (11й том)"
set MM[693]="Книга Времени (12й том)"
set MM[694]="Висконитовый взрыватель"
set MM[695]="Ситарактовый процессор"
set MM[696]="Слактоковый кожух"
set MM[697]="Нано-оптикуляр"
set MM[698]="Нано-гиблердрайв"
set MM[699]="Нано-холождойзер"
set MM[700]="Глаз Хромакона"
set MM[701]="Молот кузнеца"
set MM[702]="Щит Бронзовой Стражи"
set MM[703]="Прицельная система"
set MM[704]="Голова грифона"
set MM[705]="Скидка на донат"
set SD[1]=$49303030
set SD[2]=$49303031
set SD[3]=$49303032
set SD[4]=$49303033
set SD[5]=$49303530
set SD[6]=$49303459
set SD[7]=$49303532
set SD[8]=$4930345A
set SD[9]=$49303531
set SD[10]=$49303458
set SD[11]=$49303254
set SD[12]=$49303336
set SD[13]=$4930395A
set SD[14]=$49303437
set SD[15]=$49303337
set SD[101]=$49303149
set SD[102]=$49303036
set SD[103]=$49303035
set SD[104]=$49304142
set SD[105]=$49304130
set SD[106]=$49303958
set SD[107]=$49304134
set SD[108]=$4930334A
set SD[109]=$49303349
set SD[110]=$49303435
set SD[201]=$49303537
set SD[202]=$49303539
set SD[203]=$49303543
set SD[204]=$49303533
set SD[205]=$49303546
set SD[206]=$49303549
set SD[207]=$49304131
set SD[208]=$49304143
set SD[209]=$49304137
set SD[301]=$49303435
set SD[302]=$49303439
set SD[303]=$49303534
set SD[304]=$49303541
set SD[305]=$49303544
set SD[306]=$49303535
set SD[307]=$49303547
set SD[308]=$4930354A
set SD[309]=$49304137
set SD[310]=$49304138
set SD[401]=$49303732
set SD[402]=$49303441
set SD[403]=$49303733
set SD[404]=$49304139
set SD[405]=$49303258
set SD[406]=$4930314A
set SD[407]=$4930314C
set SD[501]=$49303650
set SD[502]=$49303736
set SD[503]=$49304349
set SD[504]=$49303631
set SD[505]=$49304141
set SD[506]=$4930314B
set SD[507]=$4930314D
set SD[508]=$49303139
set SD[509]=$49303141
set SD[510]=$49303138
set SD[601]=$4930434B
set SD[602]=$49303142
set SD[603]=$49303248
set SD[604]=$49303134
set SD[605]=$49303538
set SD[606]=$49303542
set SD[607]=$49303545
set SD[608]=$49303536
set SD[609]=$49303548
set SD[610]=$4930354B
set SD[701]=$49304350
set SD[702]=$49303249
set SD[703]=$49303438
set SD[704]=$49303259
set SE[1]=$49303232
set SE[2]=$49303233
set SE[4]=$49303233
set SE[5]=$49303253
set SE[6]=$4930334B
set SE[7]=$4930334C
set SE[8]=$49303447
set SE[9]=$4930344A
set SE[10]=$49303456
set SE[11]=$49303457
set SE[12]=$49303553
set SE[13]=$49303753
set SE[14]=$49303754
set SE[15]=$49303837
set SE[16]=$49303859
set SE[17]=$49303757
set SE[18]=$4930414E
set SE[19]=$49304159
set SE[20]=$49304236
set SE[21]=$49304237
set SE[22]=$49304152
set SE[23]=$49304238
set SE[24]=$49304239
set SE[25]=$49304241
set SE[26]=$49304249
set SE[27]=$49304258
set SE[28]=$4930434D
set SE[29]=$49304358
set SE[30]=$49304359
set SE[31]=$4930435A
set SE[32]=$49304435
set SE[33]=$49304436
set SE[34]=$49304437
set SE[35]=$49304438
set SE[36]=$49304439
set SE[37]=$49304441
set SE[38]=$49304443
set SE[39]=$49304444
set SE[40]=$49304445
set SE[41]=$49304446
set SE[42]=$49304447
set SE[43]=$49304449
set SE[44]=$4930444A
set SE[45]=$4930444B
set SE[46]=$4930444C
set SE[47]=$4930444D
set SE[48]=$4930444E
set SE[49]=$49304730
set SE[50]=$49304732
set SE[51]=$49304735
set SE[52]=$49304736
set SE[53]=$49304738
set SE[54]=$49304931
set SE[55]=$49304932
set SE[56]=$49303649
set SE[57]=$4930364F
set SE[58]=$49303655
set SE[59]=$49303758
set SE[60]=$4930375A
set SE[61]=$4930414A
set SE[62]=$49304156
set SE[63]=$4930415A
set SE[64]=$49304230
set SE[65]=$49304231
set SE[66]=$49304232
set SE[67]=$49304A53
set SE[68]=$49304A54
set SE[69]=$49304A55
set SE[70]=$49304A56
set SE[71]=$49304A57
set SE[72]=$49304A58
set SE[73]=$49304A59
set SE[74]=$49304A5A
set SE[75]=$49304B30
set SE[76]=$49304B31
set SE[77]=$49304B32
set SE[78]=$49304B33
set SE[79]=$49304B34
set SE[80]=$49304B35
set SE[81]=$49304B36
set SE[82]=$49304B37
set SE[83]=$49304B38
set SE[84]=$49304B39
set SE[85]=$49304B41
call SaveInteger(Rg,$49303051,150,5)
call SaveInteger(Rg,$49303052,150,5)
call SaveInteger(Rg,$49303053,150,5)
call SaveInteger(Rg,$49303230,150,5)
call SaveInteger(Rg,$49303231,150,5)
call SaveInteger(Rg,$49303232,150,10)
call SaveInteger(Rg,$49303233,150,15)
call SaveInteger(Rg,$49303247,150,20)
call SaveInteger(Rg,$49303249,150,2)
call SaveInteger(Rg,$4930324C,150,20)
call SaveInteger(Rg,$4930324F,150,20)
call SaveInteger(Rg,$49303250,150,10)
call SaveInteger(Rg,$49303251,150,10)
call SaveInteger(Rg,$49303252,150,10)
call SaveInteger(Rg,$49303253,150,15)
call SaveInteger(Rg,$49303257,150,20)
call SaveInteger(Rg,$49303258,150,5)
call SaveInteger(Rg,$49303259,150,10)
call SaveInteger(Rg,$49303332,150,20)
call SaveInteger(Rg,$49303335,150,20)
call SaveInteger(Rg,$49303343,150,20)
call SaveInteger(Rg,$49303344,150,20)
call SaveInteger(Rg,$49303345,150,20)
call SaveInteger(Rg,$4930334B,150,25)
call SaveInteger(Rg,$4930334C,150,25)
call SaveInteger(Rg,$49303356,150,20)
call SaveInteger(Rg,$49303357,150,20)
call SaveInteger(Rg,$49303358,150,20)
call SaveInteger(Rg,$49303359,150,20)
call SaveInteger(Rg,$4930335A,150,20)
call SaveInteger(Rg,$49303430,150,20)
call SaveInteger(Rg,$49303431,150,20)
call SaveInteger(Rg,$49303432,150,20)
call SaveInteger(Rg,$49303444,150,25)
call SaveInteger(Rg,$49303445,150,25)
call SaveInteger(Rg,$49303446,150,25)
call SaveInteger(Rg,$49303447,150,30)
call SaveInteger(Rg,$49303448,150,25)
call SaveInteger(Rg,$49303449,150,25)
call SaveInteger(Rg,$4930344A,150,30)
call SaveInteger(Rg,$49303450,150,20)
call SaveInteger(Rg,$49303451,150,30)
call SaveInteger(Rg,$49303452,150,30)
call SaveInteger(Rg,$49303453,150,30)
call SaveInteger(Rg,$49303454,150,20)
call SaveInteger(Rg,$49303456,150,35)
call SaveInteger(Rg,$49303533,150,5)
call SaveInteger(Rg,$49303534,150,10)
call SaveInteger(Rg,$49303535,150,10)
call SaveInteger(Rg,$49303536,150,15)
call SaveInteger(Rg,$49303537,150,5)
call SaveInteger(Rg,$49303538,150,15)
call SaveInteger(Rg,$49303539,150,5)
call SaveInteger(Rg,$49303541,150,10)
call SaveInteger(Rg,$49303542,150,15)
call SaveInteger(Rg,$49303543,150,5)
call SaveInteger(Rg,$49303544,150,10)
call SaveInteger(Rg,$49303545,150,15)
call SaveInteger(Rg,$49303546,150,5)
call SaveInteger(Rg,$49303547,150,10)
call SaveInteger(Rg,$49303548,150,15)
call SaveInteger(Rg,$49303549,150,5)
call SaveInteger(Rg,$4930354A,150,10)
call SaveInteger(Rg,$4930354B,150,15)
call SaveInteger(Rg,$49303553,150,35)
call SaveInteger(Rg,$49303630,150,40)
call SaveInteger(Rg,$49303633,150,50)
call SaveInteger(Rg,$49303634,150,50)
call SaveInteger(Rg,$49303635,150,50)
call SaveInteger(Rg,$49303637,150,50)
call SaveInteger(Rg,$4930374E,150,40)
call SaveInteger(Rg,$4930374F,150,40)
call SaveInteger(Rg,$49303750,150,40)
call SaveInteger(Rg,$49303751,150,40)
call SaveInteger(Rg,$49303752,150,40)
call SaveInteger(Rg,$49303753,150,50)
call SaveInteger(Rg,$49303754,150,50)
call SaveInteger(Rg,$49303832,150,35)
call SaveInteger(Rg,$49303833,150,35)
call SaveInteger(Rg,$49303834,150,35)
call SaveInteger(Rg,$49303835,150,35)
call SaveInteger(Rg,$49303836,150,35)
call SaveInteger(Rg,$49303837,150,40)
call SaveInteger(Rg,$49303839,150,35)
call SaveInteger(Rg,$49303841,150,35)
call SaveInteger(Rg,$49303842,150,35)
call SaveInteger(Rg,$49303843,150,35)
call SaveInteger(Rg,$49303844,150,35)
call SaveInteger(Rg,$49303845,150,35)
call SaveInteger(Rg,$49303846,150,35)
call SaveInteger(Rg,$49303847,150,35)
call SaveInteger(Rg,$49303848,150,45)
call SaveInteger(Rg,$49303849,150,45)
call SaveInteger(Rg,$4930384A,150,45)
call SaveInteger(Rg,$4930384B,150,45)
call SaveInteger(Rg,$4930384C,150,45)
call SaveInteger(Rg,$4930384D,150,45)
call SaveInteger(Rg,$4930384E,150,45)
call SaveInteger(Rg,$4930384F,150,45)
call SaveInteger(Rg,$49303853,150,45)
call SaveInteger(Rg,$49303854,150,45)
call SaveInteger(Rg,$49303855,150,45)
call SaveInteger(Rg,$49303858,150,10)
call SaveInteger(Rg,$49303859,150,20)
call SaveInteger(Rg,$4930385A,150,50)
call SaveInteger(Rg,$49303930,150,50)
call SaveInteger(Rg,$49303931,150,50)
call SaveInteger(Rg,$49303932,150,50)
call SaveInteger(Rg,$49303933,150,50)
call SaveInteger(Rg,$49303934,150,50)
call SaveInteger(Rg,$49303935,150,50)
call SaveInteger(Rg,$49303936,150,50)
call SaveInteger(Rg,$49303757,150,60)
call SaveInteger(Rg,$49303830,150,55)
call SaveInteger(Rg,$49303946,150,55)
call SaveInteger(Rg,$49303947,150,55)
call SaveInteger(Rg,$49304144,150,65)
call SaveInteger(Rg,$49304147,150,65)
call SaveInteger(Rg,$49304149,150,65)
call SaveInteger(Rg,$49303955,150,70)
call SaveInteger(Rg,$4930414C,150,70)
call SaveInteger(Rg,$4930414D,150,70)
call SaveInteger(Rg,$4930414E,150,75)
call SaveInteger(Rg,$4930414F,150,70)
call SaveInteger(Rg,$49304150,150,70)
call SaveInteger(Rg,$49304154,150,75)
call SaveInteger(Rg,$49304158,150,75)
call SaveInteger(Rg,$49304159,150,80)
call SaveInteger(Rg,$49304236,150,20)
call SaveInteger(Rg,$49304237,150,20)
call SaveInteger(Rg,$49304152,150,20)
call SaveInteger(Rg,$49304238,150,20)
call SaveInteger(Rg,$49304239,150,20)
call SaveInteger(Rg,$49304241,150,20)
call SaveInteger(Rg,$49304242,150,10)
call SaveInteger(Rg,$49304243,150,10)
call SaveInteger(Rg,$49304245,150,20)
call SaveInteger(Rg,$49304246,150,25)
call SaveInteger(Rg,$49304247,150,10)
call SaveInteger(Rg,$49304248,150,55)
call SaveInteger(Rg,$49304249,150,70)
call SaveInteger(Rg,$4930424C,150,25)
call SaveInteger(Rg,$4930424D,150,25)
call SaveInteger(Rg,$4930424E,150,25)
call SaveInteger(Rg,$4930424F,150,25)
call SaveInteger(Rg,$49304250,150,25)
call SaveInteger(Rg,$49304251,150,25)
call SaveInteger(Rg,$49304252,150,30)
call SaveInteger(Rg,$49304253,150,30)
call SaveInteger(Rg,$49304254,150,30)
call SaveInteger(Rg,$49304255,150,30)
call SaveInteger(Rg,$49304256,150,30)
call SaveInteger(Rg,$49304257,150,30)
call SaveInteger(Rg,$49304258,150,50)
call SaveInteger(Rg,$49304259,150,40)
call SaveInteger(Rg,$4930425A,150,40)
call SaveInteger(Rg,$49304330,150,40)
call SaveInteger(Rg,$49304331,150,40)
call SaveInteger(Rg,$49304332,150,40)
call SaveInteger(Rg,$49304333,150,40)
call SaveInteger(Rg,$49304334,150,60)
call SaveInteger(Rg,$49304335,150,60)
call SaveInteger(Rg,$49304336,150,60)
call SaveInteger(Rg,$49304337,150,60)
call SaveInteger(Rg,$49304338,150,60)
call SaveInteger(Rg,$49304339,150,60)
call SaveInteger(Rg,$49304341,150,75)
call SaveInteger(Rg,$49304342,150,75)
call SaveInteger(Rg,$49304343,150,75)
call SaveInteger(Rg,$49304344,150,75)
call SaveInteger(Rg,$49304345,150,75)
call SaveInteger(Rg,$49304346,150,75)
call SaveInteger(Rg,$49304348,150,85)
call SaveInteger(Rg,$4930434A,150,85)
call SaveInteger(Rg,$4930434C,150,85)
call SaveInteger(Rg,$4930434D,150,70)
call SaveInteger(Rg,$49304353,150,75)
call SaveInteger(Rg,$49304354,150,20)
call SaveInteger(Rg,$49304358,150,30)
call SaveInteger(Rg,$49304359,150,30)
call SaveInteger(Rg,$4930435A,150,30)
call SaveInteger(Rg,$49304430,150,70)
call SaveInteger(Rg,$49304435,150,40)
call SaveInteger(Rg,$49304436,150,45)
call SaveInteger(Rg,$49304437,150,40)
call SaveInteger(Rg,$49304438,150,75)
call SaveInteger(Rg,$49304439,150,80)
call SaveInteger(Rg,$49304441,150,35)
call SaveInteger(Rg,$49304443,150,65)
call SaveInteger(Rg,$49304444,150,55)
call SaveInteger(Rg,$49304445,150,85)
call SaveInteger(Rg,$49304446,150,20)
call SaveInteger(Rg,$49304447,150,40)
call SaveInteger(Rg,$49304449,150,75)
call SaveInteger(Rg,$4930444A,150,30)
call SaveInteger(Rg,$4930444B,150,30)
call SaveInteger(Rg,$4930444C,150,20)
call SaveInteger(Rg,$4930444D,150,25)
call SaveInteger(Rg,$4930444E,150,50)
call SaveInteger(Rg,$49304453,150,5)
call SaveInteger(Rg,$49304454,150,5)
call SaveInteger(Rg,$49304455,150,5)
call SaveInteger(Rg,$49304456,150,5)
call SaveInteger(Rg,$49304457,150,10)
call SaveInteger(Rg,$49304458,150,10)
call SaveInteger(Rg,$49304459,150,10)
call SaveInteger(Rg,$4930445A,150,10)
call SaveInteger(Rg,$49304530,150,20)
call SaveInteger(Rg,$49304531,150,20)
call SaveInteger(Rg,$49304532,150,20)
call SaveInteger(Rg,$49304533,150,20)
call SaveInteger(Rg,$49304534,150,15)
call SaveInteger(Rg,$49304535,150,15)
call SaveInteger(Rg,$49304536,150,15)
call SaveInteger(Rg,$49304537,150,25)
call SaveInteger(Rg,$49304538,150,25)
call SaveInteger(Rg,$49304539,150,25)
call SaveInteger(Rg,$49304541,150,25)
call SaveInteger(Rg,$49304542,150,30)
call SaveInteger(Rg,$49304543,150,30)
call SaveInteger(Rg,$49304544,150,30)
call SaveInteger(Rg,$49304545,150,30)
call SaveInteger(Rg,$49304546,150,35)
call SaveInteger(Rg,$49304547,150,35)
call SaveInteger(Rg,$49304548,150,40)
call SaveInteger(Rg,$49304549,150,40)
call SaveInteger(Rg,$4930454A,150,40)
call SaveInteger(Rg,$4930454B,150,40)
call SaveInteger(Rg,$4930454C,150,45)
call SaveInteger(Rg,$4930454D,150,45)
call SaveInteger(Rg,$4930454E,150,45)
call SaveInteger(Rg,$4930454F,150,50)
call SaveInteger(Rg,$49304550,150,50)
call SaveInteger(Rg,$49304551,150,50)
call SaveInteger(Rg,$49304552,150,55)
call SaveInteger(Rg,$49304553,150,55)
call SaveInteger(Rg,$49304554,150,55)
call SaveInteger(Rg,$49304555,150,55)
call SaveInteger(Rg,$49304556,150,70)
call SaveInteger(Rg,$49304557,150,70)
call SaveInteger(Rg,$49304558,150,70)
call SaveInteger(Rg,$49304559,150,70)
call SaveInteger(Rg,$4930455A,150,70)
call SaveInteger(Rg,$49304630,150,70)
call SaveInteger(Rg,$49304631,150,70)
call SaveInteger(Rg,$49304632,150,70)
call SaveInteger(Rg,$49304642,150,10)
call SaveInteger(Rg,$4930424B,150,40)
call SaveInteger(Rg,$49304644,150,20)
call SaveInteger(Rg,$49304646,150,15)
call SaveInteger(Rg,$49304647,150,10)
call SaveInteger(Rg,$49304648,150,30)
call SaveInteger(Rg,$49304649,150,40)
call SaveInteger(Rg,$4930464A,150,50)
call SaveInteger(Rg,$4930464B,150,60)
call SaveInteger(Rg,$4930464C,150,55)
call SaveInteger(Rg,$4930464D,150,55)
call SaveInteger(Rg,$4930464E,150,60)
call SaveInteger(Rg,$4930464F,150,60)
call SaveInteger(Rg,$49304650,150,60)
call SaveInteger(Rg,$49304651,150,60)
call SaveInteger(Rg,$49304652,150,60)
call SaveInteger(Rg,$49304653,150,80)
call SaveInteger(Rg,$49304654,150,60)
call SaveInteger(Rg,$49304655,150,70)
call SaveInteger(Rg,$49304658,150,80)
call SaveInteger(Rg,$4930465A,150,80)
call SaveInteger(Rg,$49304659,150,80)
call SaveInteger(Rg,$49304730,150,90)
call SaveInteger(Rg,$49304731,150,85)
call SaveInteger(Rg,$49304732,150,85)
call SaveInteger(Rg,$49304733,150,85)
call SaveInteger(Rg,$49304734,150,85)
call SaveInteger(Rg,$49304735,150,85)
call SaveInteger(Rg,$49304736,150,90)
call SaveInteger(Rg,$49304737,150,90)
call SaveInteger(Rg,$49304738,150,100)
call SaveInteger(Rg,$49304739,150,25)
call SaveInteger(Rg,$49304741,150,25)
call SaveInteger(Rg,$49304742,150,30)
call SaveInteger(Rg,$49304743,150,40)
call SaveInteger(Rg,$49304744,150,40)
call SaveInteger(Rg,$49304745,150,50)
call SaveInteger(Rg,$49304746,150,70)
call SaveInteger(Rg,$49304747,150,85)
call SaveInteger(Rg,$49304748,150,80)
call SaveInteger(Rg,$49304749,150,90)
call SaveInteger(Rg,$4930474A,150,100)
call SaveInteger(Rg,$4930474D,150,45)
call SaveInteger(Rg,$49304751,150,55)
call SaveInteger(Rg,$49304753,150,70)
call SaveInteger(Rg,$49304754,150,60)
call SaveInteger(Rg,$49304759,150,70)
call SaveInteger(Rg,$4930475A,150,70)
call SaveInteger(Rg,$49304830,150,80)
call SaveInteger(Rg,$49304832,150,75)
call SaveInteger(Rg,$49304833,150,75)
call SaveInteger(Rg,$49304839,150,80)
call SaveInteger(Rg,$49304841,150,100)
call SaveInteger(Rg,$49304842,150,80)
call SaveInteger(Rg,$49304843,150,80)
call SaveInteger(Rg,$49304846,150,80)
call SaveInteger(Rg,$49304847,150,85)
call SaveInteger(Rg,$49304848,150,85)
call SaveInteger(Rg,$49304849,150,30)
call SaveInteger(Rg,$4930484B,150,85)
call SaveInteger(Rg,$4930484F,150,90)
call SaveInteger(Rg,$49304852,150,90)
call SaveInteger(Rg,$49304855,150,150)
call SaveInteger(Rg,$49304856,150,100)
call SaveInteger(Rg,$4930485A,150,130)
call SaveInteger(Rg,$49304930,150,100)
call SaveInteger(Rg,$49304931,150,110)
call SaveInteger(Rg,$49304932,150,120)
call SaveInteger(Rg,$49303641,150,130)
call SaveInteger(Rg,$49303642,150,130)
call SaveInteger(Rg,$49303643,150,130)
call SaveInteger(Rg,$49303644,150,130)
call SaveInteger(Rg,$49303645,150,130)
call SaveInteger(Rg,$49303646,150,130)
call SaveInteger(Rg,$49303647,150,130)
call SaveInteger(Rg,$49303648,150,130)
call SaveInteger(Rg,$49303649,150,130)
call SaveInteger(Rg,$4930364B,150,15)
call SaveInteger(Rg,$4930364C,150,40)
call SaveInteger(Rg,$4930364F,150,130)
call SaveInteger(Rg,$4930364A,150,15)
call SaveInteger(Rg,$49304755,150,20)
call SaveInteger(Rg,$49303652,150,20)
call SaveInteger(Rg,$49303655,150,50)
call SaveInteger(Rg,$49303758,150,50)
call SaveInteger(Rg,$4930375A,150,50)
call SaveInteger(Rg,$4930414A,150,50)
call SaveInteger(Rg,$49304156,150,50)
call SaveInteger(Rg,$4930415A,150,50)
call SaveInteger(Rg,$49304230,150,55)
call SaveInteger(Rg,$49304231,150,55)
call SaveInteger(Rg,$49304232,150,55)
call SaveInteger(Rg,$49304233,150,100)
call SaveInteger(Rg,$49304234,150,100)
call SaveInteger(Rg,$49304235,150,100)
call SaveInteger(Rg,$49304347,150,130)
call SaveInteger(Rg,$4930474C,150,130)
call SaveInteger(Rg,$49304750,150,130)
call SaveInteger(Rg,$49304752,150,150)
call SaveInteger(Rg,$49304756,150,150)
call SaveInteger(Rg,$49304757,150,150)
call SaveInteger(Rg,$49304758,150,15)
call SaveInteger(Rg,$49304834,150,50)
call SaveInteger(Rg,$49304835,150,50)
call SaveInteger(Rg,$49304836,150,50)
call SaveInteger(Rg,$49304837,150,65)
call SaveInteger(Rg,$49304838,150,65)
call SaveInteger(Rg,$49304844,150,65)
call SaveInteger(Rg,$49304845,150,65)
call SaveInteger(Rg,$4930484A,150,65)
call SaveInteger(Rg,$4930484C,150,65)
call SaveInteger(Rg,$4930484D,150,65)
call SaveInteger(Rg,$4930484E,150,65)
call SaveInteger(Rg,$49304850,150,65)
call SaveInteger(Rg,$49304851,150,65)
call SaveInteger(Rg,$49304938,150,65)
call SaveInteger(Rg,$49304939,150,75)
call SaveInteger(Rg,$49304941,150,80)
call SaveInteger(Rg,$49304942,150,80)
call SaveInteger(Rg,$49304943,150,85)
call SaveInteger(Rg,$49304944,150,85)
call SaveInteger(Rg,$49304945,150,90)
call SaveInteger(Rg,$49304946,150,90)
call SaveInteger(Rg,$49304947,150,90)
call SaveInteger(Rg,$49304948,150,90)
call SaveInteger(Rg,$49304949,150,90)
call SaveInteger(Rg,$4930494A,150,90)
call SaveInteger(Rg,$4930494B,150,90)
call SaveInteger(Rg,$4930494C,150,90)
call SaveInteger(Rg,$4930494D,150,90)
call SaveInteger(Rg,$4930494E,150,130)
call SaveInteger(Rg,$4930494F,150,100)
call SaveInteger(Rg,$49304950,150,100)
call SaveInteger(Rg,$49304951,150,100)
call SaveInteger(Rg,$49304952,150,100)
call SaveInteger(Rg,$49304953,150,100)
call SaveInteger(Rg,$49304954,150,100)
call SaveInteger(Rg,$49304955,150,100)
call SaveInteger(Rg,$49304956,150,100)
call SaveInteger(Rg,$49304957,150,130)
call SaveInteger(Rg,$49304958,150,130)
call SaveInteger(Rg,$49304959,150,160)
call SaveInteger(Rg,$4930495A,150,160)
call SaveInteger(Rg,$49304A30,150,160)
call SaveInteger(Rg,$49304A31,150,160)
call SaveInteger(Rg,$49304A32,150,160)
call SaveInteger(Rg,$49304A33,150,160)
call SaveInteger(Rg,$49304A34,150,160)
call SaveInteger(Rg,$49304A35,150,160)
call SaveInteger(Rg,$49304A36,150,160)
call SaveInteger(Rg,$49304A37,150,160)
call SaveInteger(Rg,$49304A38,150,160)
call SaveInteger(Rg,$49304A39,150,160)
call SaveInteger(Rg,$49304A41,150,160)
call SaveInteger(Rg,$49304A42,150,160)
call SaveInteger(Rg,$49304A43,150,160)
call SaveInteger(Rg,$49304A44,150,190)
call SaveInteger(Rg,$49304A45,150,200)
call SaveInteger(Rg,$49304A46,150,200)
call SaveInteger(Rg,$49304A47,150,200)
call SaveInteger(Rg,$49304A48,150,200)
call SaveInteger(Rg,$49304A49,150,200)
call SaveInteger(Rg,$49304A4A,150,200)
call SaveInteger(Rg,$49304A4B,150,200)
call SaveInteger(Rg,$49304A4C,150,200)
call SaveInteger(Rg,$49304A4D,150,200)
call SaveInteger(Rg,$49304A4E,150,200)
call SaveInteger(Rg,$49304A4F,150,200)
call SaveInteger(Rg,$49304A50,150,200)
call SaveInteger(Rg,$49304A51,150,200)
call SaveInteger(Rg,$49304A52,150,200)
call SaveInteger(Rg,$49304A53,150,200)
call SaveInteger(Rg,$49304A54,150,200)
call SaveInteger(Rg,$49304A55,150,200)
call SaveInteger(Rg,$49304A56,150,200)
call SaveInteger(Rg,$49304A57,150,200)
call SaveInteger(Rg,$49304A58,150,200)
call SaveInteger(Rg,$49304A59,150,200)
call SaveInteger(Rg,$49304A5A,150,200)
call SaveInteger(Rg,$49304B30,150,200)
call SaveInteger(Rg,$49304B31,150,200)
call SaveInteger(Rg,$49304B32,150,200)
call SaveInteger(Rg,$49304B33,150,200)
call SaveInteger(Rg,$49304B34,150,200)
call SaveInteger(Rg,$49304B35,150,200)
call SaveInteger(Rg,$49304B36,150,200)
call SaveInteger(Rg,$49304B37,150,200)
call SaveInteger(Rg,$49304B38,150,200)
call SaveInteger(Rg,$49304B39,150,200)
call SaveInteger(Rg,$49304B41,150,200)
call SaveInteger(Rg,$4930324D,150,100)
call SaveInteger(Rg,$4930324E,150,130)
call SaveInteger(Rg,$49303255,150,190)
call SaveInteger(Rg,$49304B4B,150,110)
call SaveInteger(Rg,$49304B4C,150,115)
call SaveInteger(Rg,$49304B4D,150,120)
call SaveInteger(Rg,$49304B4E,150,125)
call SaveInteger(Rg,$49304933,150,30)
call SaveInteger(Rg,$49303043,151,9)
call SaveInteger(Rg,$49303044,151,8)
call SaveInteger(Rg,$49303045,151,7)
call SaveInteger(Rg,$49303046,151,6)
call SaveInteger(Rg,$49303047,151,5)
call SaveInteger(Rg,$49303058,151,9)
call SaveInteger(Rg,$49303059,151,6)
call SaveInteger(Rg,$4930305A,151,8)
call SaveInteger(Rg,$49303130,151,7)
call SaveInteger(Rg,$49303131,151,5)
call SaveInteger(Rg,$49303132,151,4)
call SaveInteger(Rg,$49303133,151,4)
call SaveInteger(Rg,$49303143,151,9)
call SaveInteger(Rg,$49303144,151,5)
call SaveInteger(Rg,$49303145,151,7)
call SaveInteger(Rg,$49303146,151,6)
call SaveInteger(Rg,$49303147,151,4)
call SaveInteger(Rg,$49303148,151,8)
call SaveInteger(Rg,$4930314E,151,8)
call SaveInteger(Rg,$4930314F,151,4)
call SaveInteger(Rg,$49303150,151,9)
call SaveInteger(Rg,$49303151,151,7)
call SaveInteger(Rg,$49303152,151,6)
call SaveInteger(Rg,$49303153,151,5)
call SaveInteger(Rg,$49303247,151,3)
call SaveInteger(Rg,$4930324C,151,6)
call SaveInteger(Rg,$4930324F,151,7)
call SaveInteger(Rg,$49303251,151,3)
call SaveInteger(Rg,$49303253,151,3)
call SaveInteger(Rg,$49303257,151,9)
call SaveInteger(Rg,$49303332,151,5)
call SaveInteger(Rg,$49303335,151,4)
call SaveInteger(Rg,$49303356,151,1)
call SaveInteger(Rg,$49303357,151,2)
call SaveInteger(Rg,$49303358,151,8)
call SaveInteger(Rg,$49303359,151,3)
call SaveInteger(Rg,$4930335A,151,4)
call SaveInteger(Rg,$49303430,151,5)
call SaveInteger(Rg,$49303431,151,6)
call SaveInteger(Rg,$49303432,151,7)
call SaveInteger(Rg,$49303450,151,8)
call SaveInteger(Rg,$49303454,151,5)
call SaveInteger(Rg,$49303456,151,8)
call SaveInteger(Rg,$49303633,151,10)
call SaveInteger(Rg,$49303634,151,9)
call SaveInteger(Rg,$49303635,151,11)
call SaveInteger(Rg,$49303637,151,12)
call SaveInteger(Rg,$49303839,151,3)
call SaveInteger(Rg,$49303841,151,1)
call SaveInteger(Rg,$49303842,151,5)
call SaveInteger(Rg,$49303843,151,2)
call SaveInteger(Rg,$49303844,151,7)
call SaveInteger(Rg,$49303845,151,6)
call SaveInteger(Rg,$49303846,151,8)
call SaveInteger(Rg,$49303847,151,4)
call SaveInteger(Rg,$49303848,151,1)
call SaveInteger(Rg,$49303849,151,5)
call SaveInteger(Rg,$4930384A,151,3)
call SaveInteger(Rg,$4930384B,151,2)
call SaveInteger(Rg,$4930384C,151,7)
call SaveInteger(Rg,$4930384D,151,6)
call SaveInteger(Rg,$4930384E,151,8)
call SaveInteger(Rg,$4930384F,151,4)
call SaveInteger(Rg,$4930385A,151,1)
call SaveInteger(Rg,$49303930,151,2)
call SaveInteger(Rg,$49303931,151,6)
call SaveInteger(Rg,$49303932,151,4)
call SaveInteger(Rg,$49303933,151,3)
call SaveInteger(Rg,$49303934,151,5)
call SaveInteger(Rg,$49303935,151,7)
call SaveInteger(Rg,$49303936,151,8)
call SaveInteger(Rg,$49304242,151,7)
call SaveInteger(Rg,$49304243,151,8)
call SaveInteger(Rg,$49304247,151,4)
call SaveInteger(Rg,$49304248,151,3)
call SaveInteger(Rg,$4930424C,151,5)
call SaveInteger(Rg,$4930424D,151,4)
call SaveInteger(Rg,$4930425A,151,9)
call SaveInteger(Rg,$49304331,151,8)
call SaveInteger(Rg,$49304335,151,5)
call SaveInteger(Rg,$49304336,151,2)
call SaveInteger(Rg,$49304339,151,13)
call SaveInteger(Rg,$49304342,151,6)
call SaveInteger(Rg,$49304344,151,2)
call SaveInteger(Rg,$4930434A,151,13)
call SaveInteger(Rg,$49304437,151,8)
call SaveInteger(Rg,$49304446,151,3)
call SaveInteger(Rg,$49304447,151,5)
call SaveInteger(Rg,$49304556,151,4)
call SaveInteger(Rg,$49304557,151,7)
call SaveInteger(Rg,$49304558,151,2)
call SaveInteger(Rg,$49304559,151,8)
call SaveInteger(Rg,$4930455A,151,5)
call SaveInteger(Rg,$49304630,151,1)
call SaveInteger(Rg,$49304631,151,6)
call SaveInteger(Rg,$49304632,151,3)
call SaveInteger(Rg,$49304650,151,4)
call SaveInteger(Rg,$49304651,151,7)
call SaveInteger(Rg,$49304739,151,3)
call SaveInteger(Rg,$49304743,151,8)
call SaveInteger(Rg,$49304744,151,5)
call SaveInteger(Rg,$49304745,151,9)
call SaveInteger(Rg,$4930474A,151,6)
call SaveInteger(Rg,$4930474D,151,4)
call SaveInteger(Rg,$49304753,151,1)
call SaveInteger(Rg,$49304759,151,13)
call SaveInteger(Rg,$49304832,151,8)
call SaveInteger(Rg,$49304833,151,3)
call SaveInteger(Rg,$49304839,151,3)
call SaveInteger(Rg,$49304841,151,5)
call SaveInteger(Rg,$49304843,151,7)
call SaveInteger(Rg,$49304846,151,1)
call SaveInteger(Rg,$49304847,151,4)
call SaveInteger(Rg,$49304849,151,5)
call SaveInteger(Rg,$4930484F,151,7)
call SaveInteger(Rg,$49303641,151,4)
call SaveInteger(Rg,$49303642,151,7)
call SaveInteger(Rg,$49303643,151,6)
call SaveInteger(Rg,$49303644,151,5)
call SaveInteger(Rg,$49303645,151,2)
call SaveInteger(Rg,$49303646,151,1)
call SaveInteger(Rg,$49303647,151,8)
call SaveInteger(Rg,$49303648,151,3)
call SaveInteger(Rg,$49303652,151,8)
call SaveInteger(Rg,$4930484E,151,4)
call SaveInteger(Rg,$49304850,151,7)
call SaveInteger(Rg,$49304851,151,3)
call SaveInteger(Rg,$49304938,151,6)
call SaveInteger(Rg,$49304941,151,5)
call SaveInteger(Rg,$49304942,151,4)
call SaveInteger(Rg,$49304945,151,9)
call SaveInteger(Rg,$49304946,151,3)
call SaveInteger(Rg,$49304951,151,4)
call SaveInteger(Rg,$49304952,151,8)
call SaveInteger(Rg,$49304953,151,7)
call SaveInteger(Rg,$49304954,151,3)
call SaveInteger(Rg,$49304955,151,2)
call SaveInteger(Rg,$49304956,151,1)
call SaveInteger(Rg,$49304A35,151,4)
call SaveInteger(Rg,$49304A36,151,8)
call SaveInteger(Rg,$49304A37,151,7)
call SaveInteger(Rg,$49304A38,151,3)
call SaveInteger(Rg,$49304A39,151,5)
call SaveInteger(Rg,$49304A41,151,2)
call SaveInteger(Rg,$49304A42,151,1)
call SaveInteger(Rg,$49304A43,151,6)
call SaveInteger(Rg,$49304A4B,151,4)
call SaveInteger(Rg,$49304A4C,151,8)
call SaveInteger(Rg,$49304A4D,151,7)
call SaveInteger(Rg,$49304A4E,151,3)
call SaveInteger(Rg,$49304A4F,151,5)
call SaveInteger(Rg,$49304A50,151,2)
call SaveInteger(Rg,$49304A51,151,1)
call SaveInteger(Rg,$49304A52,151,6)
call SaveInteger(Rg,$49304A53,151,3)
call SaveInteger(Rg,$49304A5A,151,8)
call SaveInteger(Rg,$49304B30,151,5)
set RV[1]=$49303044
set RV[2]=$49303045
set RV[3]=$49303047
set RV[4]=$49303046
set RV[5]=$49303043
set RV[6]=$49303132
set RV[7]=$49303041
set RV[8]=$49303039
set RV[9]=$49303034
set RV[10]=$49303049
set RV[11]=$4930304B
set RV[12]=$49303048
set RV[13]=$49303036
set RV[14]=$4930304A
set RV[15]=$49303035
set RV[16]=$4930304D
set RV[17]=$4930304C
set RV[18]=$49303042
set RU[1]=$6830374E
set RU[2]=$6830374F
set RU[3]=$68303750
set RU[4]=$68303751
set RU[5]=$68303752
set RU[6]=$68303753
set RU[7]=$68303832
set RU[8]=$68303833
set RU[9]=$68303834
set RU[10]=$68303759
set RU[11]=$68303757
set RU[12]=$6830375A
set RU[13]=$68303754
set RU[14]=$68303830
set RU[15]=$68303755
set RU[16]=$68303756
set RU[17]=$68303758
set RU[18]=$68303831
set SF[1]=$49304642
set SF[2]=$49304644
set SF[3]=$49304648
set SF[4]=$49304649
set SF[5]=$4930464A
set SF[6]=$4930464B
set SF[7]=$49304746
set SF[8]=$49304748
set SF[9]=$49304749
set SF[10]=$4930324D
set SF[11]=$4930324E
set SF[12]=$49303255
set SG[1]=$49303857
set SG[2]=$49303858
set SG[3]=$4930474B
set SG[4]=$49303253
set SG[5]=$49304642
set SG[6]=$49304644
set SG[7]=$49303251
set SG[101]=$49304648
set SG[102]=$49304649
set SG[103]=$49303859
set SG[104]=$49304446
set SG[201]=$4930364B
set SG[202]=$4930444D
set SG[203]=$4930464A
set SG[204]=$4930464B
set SG[301]=$49304746
set SG[302]=$49304748
set SG[401]=$49304749
set SG[402]=$49304A55
set SG[403]=$49304A53
set SG[404]=$4930324D
set SG[405]=$4930324E
set SG[406]=$49303255
endfunction
function ed takes nothing returns nothing
set OJ[1]="|cffff00ffАрхеолог|r "
set OJ[2]="|cffff00ffМститель|r"
set OJ[3]="|cffff00ffОхотник за головами|r"
set OJ[4]="|cffff00ffСнабженец|r"
set OJ[5]="|cffff00ffВезучник|r"
set OJ[6]="|cff7fffd4Алмазная кожа|r"
set OJ[7]="|cff7fffd4Дрессировщик|r"
set OJ[8]="|cff7fffd4Интеллектуал|r"
set OJ[9]="|cff7fffd4Ловкач|r"
set OJ[10]="|cff7fffd4Мастер-грибодел|r"
set OJ[11]="|cff7fffd4Мастер-гурман|r"
set OJ[12]="|cff7fffd4Мастер-крысолов|r"
set OJ[13]="|cff7fffd4Мастер-рудокоп|r"
set OJ[14]="|cff7fffd4Мастер-рыболов|r"
set OJ[15]="|cff7fffd4Наёмник|r"
set OJ[16]="|cff7fffd4Полиглот|r"
set OJ[17]="|cff7fffd4Садист|r"
set OJ[18]="|cff7fffd4Танк|r"
set Op[1]=""
set Op[2]="Что это за шум? Слышите? Как-будто сотня лапок клацает по полу... В укрытие!"
set Op[3]="Что, они ещё хотят?! Ну пусть подползают, букашки чертовы! Не тех гоблинов они сожрать решили!"
set Op[4]="Я опять слышу зверушек! УИИИИИИ! ЖГИ-ВЗРЫВАЙ!"
set Op[5]="Вот это сейчас звучало совсем не пугающе. С-с-с-с-овсем."
set Op[6]="А жуков больше не видно... Наконец, можно спокойно заняться раскопками."
set Op[7]="Если Коп-Корп нашли нас дронами - скоро сюда нагонят шахтёров-рабов, разной техники, и прочей дешевой гоблинской техники!"
set Op[8]="Кстати, про грязную работу. Я слышал, что Коп-Корп пользуется силами некромантов, чтобы заставлять нежить заниматься раскопками. Фу!"
set Op[9]="Пока всё, что мы нашли в этой пещере - это пачку вкусных тараканов, крыс, и не очень вкусных кобольдов. Но Коп-Корп же тоже что-то ищет здесь..."
set Op[10]="Фууууу, чем это так ужасно воняет? Отвратительно! Это даже хуже, чем когда Спаззл притащил в палатку вонючкохвоста!"
set Op[11]="Чего ты мне в ухо шепчешь? Стоп! Кто мне шепчет в ухо! Покажись, невидимый шептун!"
set Op[12]="О, смотрите! Из стены только что вылетел огонек!"
set Op[13]="Заряжаааааай! Призраки обычно так легко не отступают!"
set Op[14]="Чувствуете? Земля трясется! Что-то большое приближается! Неужели Коп-Корп спустил сюда шреддеров?"
set Op[15]="Эй, ребятзы, мой шокометр зашкаливает! Если никто не использует шоковую микроволновку для готовки крыс, то у нас тут настоящая электрическая аномалия приближается!"
set Op[16]="Эй, неудачники! Говорит Шиззл! Вы на моей территории! За вашу дерзость я пришлю вам небольшой пороховой подарочек, ловите!"
set Op[17]="Вот этот звук я узнаю везде и всегда... Шреддеры! Мать моя гоблинша они пустили шреддеров!"
set Op[18]="Я думаю, что разумней всего будет окопаться и держать оборону. Не отдадим корпоративным крысам наш лут!"
set Op[19]="АЙ, БОЛЬНО! Шиззл нанял убийц, чтобы избавиться от нас! Кройте спину!"
set Op[20]="Это шум мощного двигателя! Сюда едет какая-то огромная и мощная машина! И судя по выхлопам - гоблинская конструкция."
set Op[21]="Ох... Чувствуете? Таким приятным ароматом понесло... Сладким-сладким машинным маслом, моим любимым сортом!"
set Op[22]="Сладкий запах стал супер-сладким, почти невыносимым! Кхе, пахнет пережаренной в сахаре ванилью!"
set Op[23]="В любом случае, откуда тут демоны? Неужели, убитый нами страж был печатью какой-то демонической темницы?"
set Op[24]="Если мы дейсвительно сломали печать врат - это значчит, что дворфы запечатали тут демонов! Но зачем?"
set Op[25]="Какие милые, милые смертные... Подходите ко мне, мои сладенькие, Я ИСПЬЮ ВАШИ ДУШИ, но сделаю это так нежно, что вам это понравится..."
set Op[26]="Итак, мы, получается освободили демона? Замочили его, а чертежей гномов так и не видать. Ищем дальше!"
set Op[27]="Ого, судя по звуку, Коп-Корп начал разбуривать вход в пещеру! Заряжайте бронебойные!"
set Op[28]="Нам как будто Коп-Корпа, павуков и демонов мало - ещё и Альянс зачем-то лезет в нашу пещеру."
set Op[29]="Так, никому не двигаться! Мой Магометр-3000 заглючил. Или кто-то колдует снежную бурю? Не понятно..."
set Op[30]="Что, кто-то нашел что-то древне-вдорфийское? А то внезапно запахло очищенным порохом и Айронфорджским пивом... Буэ-э-э!"
set Op[31]="Шепот... В голове... Говорит убить вас всех и забрать всё ваше золото... Хм, ничего необычногол, просто сейчас он говорит в разы громче. Не обращайте внимания."
set Op[32]="Должен... Продать... Всю руду... И грибы... А, что я сказал?"
set Op[33]="Аррррр! Я хочу твою пушку, отдай! Я вижу, как ты смотришь на мой новенький сет! А НУ ЛАПЫ УБРАЛ!"
set Op[34]="Я УБЬЮ ВАС ВСЕХ! А НУ СКИДЫВАЙТЕ МНЕ ВСЁ СВОЁ ЗОЛОТО! Я ВАС ПОРЕШАЮ!"
set Op[35]="Идите ко мне! Идите в храм, с которого всё началось... Вас ждёт там богатство, неслыханное богатство!"
set Op[36]="Ой, смотрите, потолок пещеры осыпается! Стоп, что это оттуда высунулось? Бомба? ЭТО БОМБА?!?! БЕЖИИИИМ!"
set Op[37]="Все живы? Ух, Шиззл чуть всю пещеру своими бомбами не обрушил нам на головы... Чувствуете запах серы?"
set Op[38]="Мне кажется, или становится жарче! Я, конечно, люблю прожареное мясце, НО НЕ КОГДА ПРОЖАРИВАЮТ МЕНЯ!"
set Op[39]="Ах вы тупые зеленые уродцы! Вы хоть понимаете что наделали?! Этих демонов НЕЛЬЗЯ БЫЛО выпускать!"
set Op[40]="Слушайте, как-то всё этр стремно... Хазул просто помер от сердечного приступа. Бррррр, стремота."
set Op[41]="Я всё больше начинаю подозревать, что мы зря вообще затеяли эту экспедицию в тёмной страшной пещере..."
set Op[42]="Света слишком мало! Расставьте побольше факелов! И вообще, стены давят на меня! ВЗОРВИТЕ ВСЕ СТЕНЫ! АААААА!"
set Op[43]="Света слишком мало! Расставьте побольше факелов! И вообще, стены давят на меня! ВЗОРВИТЕ ВСЕ СТЕНЫ! АААААА!"
set Op[44]="Я просто на пределе, просто на пределе! Моя голова сейчас взорвется, я не могу даже п-п-п-прицелиться, у меня так руки дрожат..."
set Op[45]="Моё терпение лопнуло, смертные! Лучше бы вы просто поддались панике и сбежали. Теперь мне придется собственноручно вас уничтожить."
set Op[46]="Кстати, как думаете, Шиззл струсил под влияением демона Страха и сбежал? Его подопечные наверняка уже разбежались..."
set Op[47]="Я слышал, что Шиззл практикует гипноз для расширения своего влияния. Ставлю 100 грибов, что он для этого использует Зиппохипический кристалл!"
set Op[48]="Сколько дней мы уже торчим в этой пещере? Тут дня и ночи не видать, я уже запутался..."
set Op[49]="Учитывая нрав Шиззла и его мстительность - я думаю, что он скоро выйдет из себя. Я его не боюсь, отстрелю ему его огра, будет знать!"
set Op[50]="Я вспомнил, что Шиззл когда-то работал с цирковым дрессировщиком Гензо. Как думаете, эти звери - цирковые питомцы Гензо?"
set Op[51]="А ещё я тут подумал - чего я с вами лут весь делю? Я же больше все делаю!"
set Op[52]="Отдай! Ты нечестно набил больше фрагов, чем я! Отдай мою руду, я требую сатисфакции!"
set Op[53]="...И вообще я видел, как вы все шепчетесь за моей спиной! Я ВАС ПОСТРЕЛЯЮ ВСЕХ СЕЙЧАС!"
set Op[54]="И вообще, я вам не доверяю! Думаете, что справитесь без меня? Наверняка думаете, потому что я сам так думаю! T_T"
set Op[55]="Ваша зависть и гордыня такие вкусные, НЯМ НЯМ НЯМ! Я сломаю ваши кости и высосу души, маленькие зеленые ушастики!"
set Op[56]="Ребята, у нас уже неплохие успехи! Посмотрите на нашу снарягу! Из демонов получаются отличные пушки!"
set Op[57]="А вы знаете, как заинтриговать гоблина-инженера? Завтра расскажу..."
set Op[58]="Что-то тут не чисто. С чего вдруг сюда целое племя огров ломанулось? Они обычно так глубоко не живут!"
set Op[59]="Грубой силой, значит, хочет нас продавить? Фокусы закончились? Или финансирование кончается? Ха!"
set Op[60]="Нет, ну сколько можно?! Если хочешь что-то сделать - делай это сам! Проваливайте из моей пещеры, демонические артефакты будут моими!"
set Op[61]="Ааааггггррхх... Спасибо, госпожа... Спасибо за возможность восстать и отомстить за свою смерть... "
set Op[62]="Ух, ух... Чувствуете, холодком понесло? там, снаружи, что, уже зима? Сколько мы тут живем уже, в пещер? Нет, ну серьезно!"
set Op[63]="А, в прочем, не стоит особо задумываться... ЗАРЯЖАААААЙ и НЕ ДУУУУМАЙ!"
set Op[64]="Фу! Какой отвратительный запах! Похоже, что на этот раз нас ждет воскрешение нашего старого вонючего друга-кобольда!"
set Op[65]="Ах... Столько трупов в одном месте... Просто рай для Смерти... Присоединяйтесь к пиру душ и разложения!"
set Op[66]="Мой Катастрофометр говорит, что тут сейчас будет тотальная битва! Предлагаю открывать экстренный портал на поверхность и валить! Только нам нужен мощный энергетический проводник."
set Op[67]="Вы уверены, что стоило использовать машину времени на эту... штуку? Мне что-то не хорошо..."
set Op[68]="Смертные создания! Вы нарушаете ткань времени и бытия! Немедленно вернитесь в своё время, или столкнетесь с последствиями своих действий!"
set Op[69]="УИИИИИИИИ!"
set Op[70]="Ааааааать етить мою бороду, так этож гоблины! Дружина вольных шахтеров! К бою! На дадим мерзким лазутчикам шнырять по нашей шахте!"
set Op[71]="Да мы всего-лишь хотели у вас пару рецептов инженерских подсмотреть ДО того, как вас демоны исстребят... Ай, ладно, всё равно ведь драка будет, да?"
set Op[72]="Прибыть в прошлое в момент написания чертежей, которые мы хотим украсть - идеальное ограбление!"
set Op[73]="О, слышите? Горн клана Горных Пивоваров! В наше время их уже не существует! Интересно, что с ними случилось?.."
set Op[74]="Мелкие вредители, вы портите мои планы! Убирайтесь из пещеры! Энергия этой пещеры нужна мне для завершения ритуала!"
set Oq[1]="Какие эти пауки мерзкие... Зато, говорят, они очень вкусные!"
set Oq[2]="Местная фауна не выглядит дружелюбной! Пока нам мешают эти насекомые, мы не сможем нормально начать раскопки!"
set Oq[3]="УИИИИИ! Поджигай, взрывай, стреляй! А мне тут нравится!"
set Oq[4]="Да чего мы с этими тараканами возимся вообще?! Надо придумать как остановить их раз, и навсегда!"
set Oq[5]="Большая зверушка! Не съедобная, но из панциря можно что-нибудь сообразить!"
set Oq[6]="Это же шахтерские дроны Коп-Корпа! Проклятая корпорация тоже пытается раздобыть секреты гномьих изобретений!"
set Oq[7]="Шиззл нанимает кобольдов, чтобы выполнять свою грязную работу. Настоящий гоблин никогда не откажется от хорошей личной дуэли на огнемётах!"
set Oq[8]="Скелетов так весело разносить на косточки! А эти кобольды-некроманты так весело визжат, когда горят! УИИИИИ!"
set Oq[9]="Чем они кормили этих кобольдов, что они так ожирели! Вон тот пузом только что целое пушечное ядро отбил!"
set Oq[10]="АААААА! У меня глаза слезятся! Я ничего не вижу от этой вони! "
set Oq[11]="Это что за фокусы? Коп-Корп нанимает призраков? Да и плевать, наши пули их всё так же спокойно разрывают на эктоплазмовые куски!"
set Oq[12]="Коп-Корп тут не причем, мы побеспокоили духов погибших тут гномов... ЭЙ, ДУХИ! А НУ БЫСТРО ОТДАЛИ НАМ ВСЕ СВОИ СОКРОВИЩА И ЧЕРТЕЖИ!"
set Oq[13]="Не так уж всё и страшно! Пара-тройка шашек динамита решит все проблемы с приведениями!"
set Oq[14]="Бестелесный дух внутри доспехов - я такого ещё не видел! Наши шреддеры всё-равно лучше и эффективней."
set Oq[15]="Дворфийский Страж! Ой! Мой крутометрометр показывает, что после отключения стража где-то сломалась магическая печать. Мы либо где-то открыли сокровищницу, либо темницу..."
set Oq[16]="Ничего себе, столько пороха! Шиззл не церемонится, пускает всё, что у него есть, чтобы выгнать нас из пещеры!"
set Oq[17]="Отличные шреддеры, жаль пилоты дилетанты! Хороший пилот на нас не попрёт!"
set Oq[18]="Смотрите, вон тот тащит целый кусок арканита, бейте его! Не дайте им утащить нашу руду!"
set Oq[19]="Ха! Жалкие попытки! Но Шиззл явно ищет тут что-то настолько ценное, что готов кому-угодно заплатить, лишь бы выбить нас из руин."
set Oq[20]="Хочу себе такой экскаватор! Ух, яб его разбирал-собирал по 10 раз в день! Даже не ездил бы! Заберу, пожалуй, с него деталь!"
set Oq[21]="Ой, нахальные женщины, отстаньте! Не буду я целоваться! Моя любовь - механизмы, а не демонессы! Откуда они вообще тут взялись?!"
set Oq[22]="Ай, они кусаются и царапаются, и страшно рычат на меня! Хотя вон та вон ничего такая... АЙ! ОНА ТОЖЕ КУСАЕТСЯ!"
set Oq[23]="Ну вот эти вот ребята совсем отбитые! Ну, наплевать! Демоны, призраки, Коп-Корп... Мы всем наваляем! ЗАРЯЖАААААЙ!"
set Oq[24]="Какие милые собачки... Они так миленько ВЗРЫВАЮТСЯ И ГОРЯТ, УИИИИИИИИ!"
set Oq[25]="А вот теперь понятно, зачем дворфы хранили тут демона, шаловливые бородатые карлики, эхехе!"
set Oq[26]="Коп-Корп всё никак не успокоится, даже передышки нам не даёт! Ух, я этому Шиззлу обязательно отстрелю что-нибудь при встрече!"
set Oq[27]="Вы видите эти маркировки? Это не Коп-Корп... Это Альянс! Зачем Альянс ведёт раскопки дворфийской пещеры?"
set Oq[28]="Ну теперь всё ясно. Паладины Альянса почувствовали демоническое вторжение и прибыли произвести очищение. ОПОЗДАЛИ, МЫ УЖЕ ВСЁ ЗАЧИСТИЛИ! СЛЫШТЕ?! ДЕМОНОВ! ТУТ! НЕТ!"
set Oq[29]="Хорошо, что они не превращают нас в овец... Из меня получается довольно страшненькая овца, я проверял своим Овцетрансформатором-SH400. Случайно. Чего ты ржешь?!"
set Oq[30]="Эй, ребята, а вы знаете, кто это был? Это же Бомбз и Аккуратерз! Знаменитые изобретатели гномьей автопушки. Жаль, я не успел у них автограф взять, ха!"
set Oq[31]="Ух, я думал, что эти шахтеры очень опытные ребята, и не будут просто так кидаться на нас с кирками! Посмотрите, да они не в себе!"
set Oq[32]="Похоже, что этой группе разбойников совсем крышу снесло! Они просто невнятно бормочат себе под нос что-то про несметные богатства и горы золота. Тут золота нет! Мы искали, мы знаем! "
set Oq[33]="Гоблинзы... Держать строй... Не поддавайтесь этой золотой лихорадке... Ух ты, монетка!"
set Oq[34]="УИИИИИ! ЗОЛОТО, ГОЛДА, ЖЕЛТАЯ СМЕРТЬ! БОГАТСТВО! ДЕНЬГИДЕНЬГИДЕНЬГИ!.. "
set Oq[35]="Ууууф, отпустило наконец... Так, значит гномы держали тут целых двух демонов! Вы посмотрите на эти Крылья! Из таких получится отличный ускоритель!"
set Oq[36]="УИИИИИИИ! Земля трескается! Осторожно!"
set Oq[37]="Коп-Корп своей бомбежкой окончательно сломал темницу демонов! Поберегиииись!"
set Oq[38]="И несмотря на то, что эти демоны состоят из демонического огня - их всё так же просто поджечь нашим напалмом. Гоблопалм - сила!"
set Oq[39]="Ой, всё, всё, я сдаюсь, не стреляйте! СДАЮСЬ!"
set Oq[40]="Куда эти животные бегут? Или, вернее сказать, от чего?"
set Oq[41]="Ай! Посмотрите какие у них страшные морды! Я на такое не подписывался!"
set Oq[42]="Эти твари ещё страшнее! Я вообще не думаю, что это демоны, да вы посмтрите - вон тот похож на мою бабулю Греттерзон! НЕТ, ТОЛЬКО НО ОБНИМАШКИ, БАБУЛЬ!"
set Oq[43]="Всё хорошо, всё хорошо, всё хорошо, МЫ ВСЕ УМРЕМ!"
set Oq[44]="Это же просто иллюзия, да? Или я только что убил себя? Я что, мёртв? Я убил себя? О нет, я умер, ААААААА!"
set Oq[45]="Вдох, выдох... Ну что, изи же, а вы боялись... Эй, кто-то подло насрал мне в штаны! Кто это был!?"
set Oq[46]="Зря мы думали, что Коп-Корп так просто отступит... Теперь и животных на нас натравливает."
set Oq[47]="Тролли на летучий мышах! Победить он нас таким, конечно, не сможет, но всё равно я удивлен фантазии Шиззла!"
set Oq[48]="У меня дежавю, мы же уже убивали пауков! Или нет? Я не помню!"
set Oq[49]="Я думал, что такие кодои только у Орды есть! Ну, чего добру пропадать? Сегодня у нас на ужин кодоятина!"
set Oq[50]="Твоё выступление окончено, дрессировщик! Выпускайте главного клоуна - Шиззла! Ха-ха!"
set Oq[51]="Мне эти демоны на нервы уже действуют, прут и прут! Спорим, я больше вас настреляю! УИИИИИИ!"
set Oq[52]="Какие у них дальнобойные орудия... Я хочу эту демоническую пушку! Она только моя, никому из вас не достанется!"
set Oq[53]="И почему вон у него сет высокоуровневый, хотя я целую кучу демонюк поубивал?! Где справедливость?!"
set Oq[54]="Я в эту статую почти не мог попасть! Вы всё без меня сделали, сами! Я - слабое звено в командеееееее! ToT"
set Oq[55]="Оооооох, вот это бой! Я бы сам не справился, честно! Только вместе у нас был шанс! Мы - отличная команда, да, парни?"
set Oq[56]="Эй, огры, убирайтесь! Пещера наша! Чего они так прут сломя голову, это тупо для для племени огров!"
set Oq[57]="Говорят, что на поединках огры-маги превращают оппонента в овцу и съедают его! Вот это я называю безотдходной дуэлью!"
set Oq[58]="Ну, теперь понятно... Посмотрите в их бездумные глаза! Это гипноз! Шиззл загипнотизировал их!"
set Oq[59]="УИИИИИИИИИ! Поглядите какой здоровый огр! Я на него почти весь запас пороха потратил!"
set Oq[60]="Ну вот и всё, глава Коп-Корпа на деле оказался... просто ОГОБЛЕНИТЕЛЬНЫМ алхимиком! Вы видели этот синий напалм?! Я ТОЖЕ ТАКОЙ ХОЧУ!"
set Oq[61]="Шиззл не только гипнозом и алхимией увлекался, но ещё и некромантией? Нет, я понимаю, в целях экономии использовать скелетов для раскопок, но он что, воскресил самого себя?!"
set Oq[62]="Значит, Шиззл пользовался услугами кобольдов-некромантов, мог воскресить себя, и теперь насылает на нас скелетов гномов? Ну тут что-то не клеится..."
set Oq[63]="Я впервые вижу таких сильных личей в таком количестве! Тем веселее их подрывать! УИИИИ!"
set Oq[64]="Никогда не понимал генную инженерию! Металлические механизмы ведь намного крепче и надёжней! Будущее - за Кибергоблопанком!"
set Oq[65]="Готовьтесь, сейчас опять встанет! Вот сейчас!.. Что, всё? Победа? Не верится как-то..."
set Oq[66]="УИИИИИИИИ!"
set Oq[67]="Стоп, вы видели?! Я только что видел себя двдцать левелов назад! Не говорите с собой из прошлого, иначе пространственно-временная аномалия превратит вас в галошу!"
set Oq[68]="А у меня от этого разговора небольшое Дежавю... Этот диалог разве уже не состоялся? Я не понимаю! НИЧЕГО НЕ ПОНИМАЮ!!!!!"
set Oq[69]="Глядите, временной разрыв стабилизируется! Мы переносимся! Держитесь за что-нибудь... СВОЕВРЕМЕННОЕ!"
set Oq[70]="Ух, наваливают они серьезно, конечно! Крепкие ребята, ничего не скажешь! Или, может, переход в прошлое ослабил нас?"
set Oq[71]="Да ты присмотрись, эти ребята читеры! Их броня на самом деле адамантитовая, просто покрашена под бронзу!"
set Oq[72]="Ого, какие замечательные автоматоны! Посмотрите, какая крепкая спайка! Я ХОЧУ ИХ ВЗОРВАТЬ! СЛИШКОМ ИДЕАЛЬНЫЙ МЕХАНИЗМ!"
set Oq[73]="Теперь понятно. Клан горных пивоваров был ТРАГИЧЕСКИ исстреблен неизвестными в бою..."
set Oq[74]="А вот и объяснение откуда тут взялись демоны... Глупый гном призвал их, а кто-то убил его, запечатав в пещере на долгие века."
set PE[1]="Великая Пятёрка убита! Теперь никто не будет указывать нам! Свободные демоны, услышьте мой зов! ДА НАЧНЕТСЯ РЕЗНЯ!"
set PE[2]="Не спеши с выводами, мерзкое отродье! Паладины Серебряной Длани здесь, чтобы остановить вас!"
set PE[3]="Имя нам - Легион! Вы не остановите нас!"
set PE[4]="Теплодекторы обнаружили целую армию Серебряной Длани! Если тут начнется резня - нам будет тяжковато!"
set PE[5]="Предлагаю сваливать через демонический портал!"
set PE[6]="Хороший ход! Судя по приборам, если собрать несколько демонических табличек - мы сможем инвертнуть потрал!"
set PE[7]="Но куда он нас приведёт?"
set PE[8]="А плевать! Зафигарим демонов, и отправимся за новым шмотом в неизведанные миры!"
set PE[9]="Портал открывается! Но инверсия не запускается... Что-то лезет из портала, поберегись!"
set PE[10]="Оно сдохло! Из него выпало что-то... ЗЛОЕ! Хватайте, и бежим!"
set PE[11]="Паладины"
set O6[1]="Снаряжение"
set O6[2]="Меха-теха-штука"
set O6[3]="Выживший"
set O6[4]="Раненый гном"
set O6[5]="Скрытые сокровища"
set O6[6]="Древняя защита"
set O6[7]="Фатальная ошибка"
set O6[8]="Новый друг"
set O6[9]="Сделка"
set O6[10]="Грибные аномалии"
set O6[11]="Гигантский кипятильник"
set O6[12]="Двуличная морда"
set O6[13]="Прощальный сюрприз"
set O6[14]="Голос Свыше"
set O6[15]="Ангельская миссия"
set O6[16]="Дилемма"
set O6[17]="Спиритизм"
set O6[18]="Ритуал"
set O6[19]="Дракон!"
set O6[20]="Опять дракон!"
set O6[21]="Торговец"
set O6[22]="Назад в прошлое!"
set O6[23]="Перестройка по-гоблински"
set O7[1]="Начало экспедиции - и такой провал! Без нашего снаряжения, которое несли те двое оболтусов, нам придётся туго! Наверняка что-нибудь из наших вещей уцелело и упало в воду. Нужно обыскать берег реки."
set O7[2]="Слава Гобу, несколько полезных приборов уцелело! Зик собирал эту штуковину несколько недель, обещал, что в пещере она покажет любую аномальную органику и потенциально полезные сокровища! Только поставить её надо в каком-то конкретном месте в пещере, чтобы сигнал ловил. Подсказка: чтобы установить штуковину - нужно встать в правильное место."
set O7[3]="Итак, эта штуковина показала много всякой чепухи. Криворукий Тарзик никогда не умел собирать подобные вещи! Она говорит, что тут где-то за стеной грибов прячется живой гном! Этого не может быть, потмоу что все гномы ведь давным-давно померли!"
set O7[4]="Надо-же! Мы нашли живого гнома в этих пещерах! Но он сильно ранен одним из арахнидов, отравлен, весь обожжен, и вообще похож на маленький костяной скелет из костей!"
set O7[5]="После долгого и нудного рассказа о себе, гном наконец-то начал рассказывать что-то стоящее... Он расшифровал один древний свиток, в котормо говорилось о древней кузнице, в которой гномы крафтили свои самые лучшие ништяки. Но кузницу по легенде охраняет Хозяин кузницы."
set O7[6]="Трёхпалый расшифровал ещё один свиток, в котором говорится о системе защиты гномов. Она активируется специальными руническими табличками. Нам нужны эти таблички!"
set O7[7]="Трёхпалый рассказал нам, что для активации обелисков нужно вставить в таблички драгоценные камни и активировать их возле обелисков. Но как только мы коснулись одной - его разорвало на части, а обелиски активировались против нас! Теперь чтобы деактивировать их - нужно взломать их руническую частоту. Хорошо, что у нас есть Магивзломщик-500 среди гаджетов! Только нужно поставить его там, где сигнал достанет до обелисков."
set O7[8]="У нас все приборы закоротило! Даже мини-карта, и та искрится! (Ну это наверное потому что я её в озеро уронил, но не важно...) И дело точно не в сырости пещеры... Кто-то взламывает нашу магиечскую частоту! Нужно найти кто этот подлец!"
set O7[9]="Вот так дела! К нам сюда спустился один из алхимиков Коп-Корпа! Зовут его Попс Алхимик (оригинально, правда?). Увидя наши заряженные пулялы, он с радостью отключил свой взломщик, и предложил нам выгодную сделку - он покажет нам парочку классных рецептов зелий в обмен на опытные образцы местных грибов."
set O7[10]="Попс утверждает, что обелиски насыщают грибы магической энергией, но ему нужны доказательства. Он просит поискать какой-нибудь необычный гриб. Он сказал, что его мы точно не пропустим! Но советовал его не есть, потому что это может вызвать неконтролируемый фатальный понос!"
set O7[11]="Попс разобрался как ещё можно применять пещерные грибы, и результаты его исследований на самом деле поражают! При ещё большем повышении температуры можно создать очень ммощный усиливающий тоник, который он назвал Гобоплавилкой. Забористая штука, наверняка, с таким-то названием! Но ему для этого нужно построить огромную плавилку. Конечно, мы взялись помочь ему в таком деле!"
set O7[12]="Попс оказался очередным чертовым наёмником Шиззла! Машину, которую мы ему собрали он направил против нас, и начал плавить наши постройки! А сам сидит и ехидно хихикает там! Пора показать Коп-Корпу что такие шуточки с нами не прокатят!"
set O7[13]="Копаясь в вещах Попса мы случайно активировали детонатор и запустили цепь взрывчатки с таймером. Этот бешеный алхимик заминировал пещеру! У нас есть 5 минут, чтобы найти всю взрывчатку и обезвредить её. Всё осложняет устройство цепных взрывчаток - обезвредив хотябы одну из них, остальные автоматически рванут через 45 секунд. Взрывчаток всего 9, и Попс наверняка спрятал взрывчатку там, где уже есть порох."
set O7[14]="Это нечто интересное! Нам в мысли забрался ангел! Щас по порядку опишу - каждому из нас вдруг одновременно в голову пришли следующие мысли: Смертные, я Посланец Света, ангел Сариэль, я хочу предложить вам задание, которое будет вам по душе. Вы найдёте меня у верхнего обелиска."
set O7[15]="Мы нашли этого Сариэля, и он не совсем такой, каким их описывают. Он сказал нам следующее, цитирую: Смертные, не удивляйтесь увидеть ангела в столь темном месте. Меня сюда привело тревожное известие - вы освободили ужасающие силы пятерых демонов. Но вы в силах исправить ошибку самостоятельно. Я предлагаю вам небольшое задание - убейте демона-кузнеца, который создает оружие своим грязным собратьям - в обмен на знание будущего и прошлого право пользоваться Кузницей Света."
set O7[16]="Мы обнаружили демона-кузнеца и нас с ним получился интереснейший разговор: О, гоблины, а я всё ждал когда-же вы меня найдете. Да, я знаю, что вас подослали меня завалить. Этот ангелочек не знает, с кем связался. Но вы славные ребятки, и я хочу вам предложить ответную сделку - замочите Духа Света, и я дам вам парочку обалденных рецептов рунических демонических стволов. Нарезные, пороховые, разрывные... Ммм, конфетка! И разрешу пользоваться моей демонической кузней. Придется решать кого убивать - Духа Света, или демона."
set O7[17]="Свет, Тьма, да кому вообще какое дело? Главное - взрывы! Но теперь о кое-чем интересном - призрак-торговец, который молчаливо снабжал нас парочкой старых но полезных товаров, вдруг размахался руками. Кажется он что-то хочет сказать, но мы не слышим голоса. Нужно собрать усилитель звуковых волн и послушать что этот мёртвый гном от нас хочет. (Рецепт сбора нужного прибора находится в разделе второстепенных заданий)."
set O7[18]="С голосовым модулем мы смогли наконец поговорить с призраком. И он рассказал нам, что перед самым заточением демонов - на помощь гномам прилетел дракон, но погиб в бою. Этот дракон был хранителем знаний гномов, и он может знать много полезных вещей. В общем нам нужно провести какой-то ритуал, чтобы воскресить этого дракона и узнать его секреты. Для этого нужно наполнить сферу душ и направить их в останки дракона."
set O7[19]="Призрак не предупреждал нас о том, что этот чертов дракон будет таким огромным! Он видимо посчитал нас зелеными демонами, и не хочет слушать, просто кинулся в атаку. Придется выбить из него всю дурь!"
set O7[20]="Этот дракон использует энергию душ, которую мы в него и всадили! Хитрая ящерица! Ну ничего, напалм и взрывчатка сожгут даже самое живучее создание в Азероте! Надо просто поднапрячься!"
set O7[21]="Мы случайно освободили подозрительного гнома, которого остальные гномы посадили в тюрьму, по его словам, за ведение торговли с кобольдами и некромантию. Совершенно несправедливая узурпация свободной торговли! Возмутительно! Мы пообещали ему вновь поставить его бизнес на ноги, скинувшись по |cffffd70070000|r золота с рыла."
set O7[22]="Каким-то образом нам удалось попасть в прошлое! Видимо мы попали в то время, когда гномы ещё были живы, а Великая кузница ещё даже не была построена! Но, наверняка, гномы уже планируют её постройку. Если мы соберем их чертежи и внесём туда кое-какие поправки - мы наверняка сможем сделать ещё более крутотенную кузницу для совершенно безумных предметов!"
set O7[23]="Мы раздобыли чертеж, по которому гномы хотели построить свою кузницу. Ну то так делает чертежи?! Где бомбы, резервное хранилище пороха, синхронный взрыватель?.. В общем, мы переделали чертеж, и самым подходящим местом для кузница является большааааая лавовая печь на юге пещеры. Построить её может только инженер, с помощью своей ремонтной клешни постепенно вкладывая ресурсы в место постройки."
set O9[1]="Рассказ гнома"
set O9[2]="Нагревательная установка"
set O9[3]="Котелок"
set PB[1]="Спасённый нами гном поведал нам свою историю. Его зовут Фарин Трёхпалый, он какой-то там потомок какого-то кого-то в каком-то поколении и бла-бла-бла, искал эту пещеру несколько лет. В одной из таверн он подслушал, что мы идем на раскопки в горах. Он нашел другой вход, но нарвался на кучу арахнидов. Убегая, случайно подорвал бочку с динамитом и обрушил на себя потолок. Еле остался жив. Пообещал помочь нам с расшифровкой местных свитков в обмен на право написать про эту экспедицию книгу. Да кто вообще читает книги?!"
set PB[2]="Заносить текст в триггер"
set PB[3]="Наш новый знакомый торговец сообщил, что наладил торговые отношения с местным племенем пещерных кобольдов, и те согласились предоставить нам алхимический котелок для зелий. Снова нужны инвестиции, только кобольды принимают плату не золотом, а едой. Пора покормить свиномордых!"
set PK[1]="|c0080FFFFПережить волн врагов: |r"
set PK[2]="|c0080FFFFНайти потерявшегося кобольта: |r"
set PK[3]="|c0080FFFFУбить врагов: |r"
set PK[4]="|c0080FFFFПоймать крыс: |r"
set PK[5]="|c0080FFFFПобедить босса: |r"
set PK[6]="|c0080FFFFСъесть грибов: |r"
set PK[7]="|c0080FFFFПоймать рыб: |r"
set PK[8]="|c0080FFFFНайти тайников: |r"
set PK[9]="|c0080FFFFЗавершить волну с не менее 95% здоровья: |r"
set PK[10]="|c0080FFFFУбить минибоссов: |r"
set PK[11]="|c0080FFFFРаскопать глыб: |r"
set PK[12]="|c0080FFFFУлучшить Металлическую защиту: |r"
set PL[1]="|c0000FF00Личная цель выполнена! Получено |r"
set PL[2]="|c0000FF00 опыта.|r"
set PL[3]="|c0000FF00Личная цель: |r"
set PL[4]="|c00FF0000Эта специализация уже имеет максимальный уровень!|r"
set PL[5]="|c0000FF80 - перк улучшен до уровня: |r"
set PL[6]="|c0080FF00Доступно очков специализации: |r"
set PL[7]="|c0080FF00Поздравляем с вашим первым воскрешенным гоблином-помошником! Весь его инвентарь теперь будет сохраняться с основным персонажем.|r"
set PL[8]="|c0080FF00 еды.|r"
set PL[9]="|c0080FF00 золота.|r"
set PL[10]="|c0080FF00Личная цель выполнена! Удача увеличена на 1.|r"
set PL[11]="|c0080FF00Личная цель выполнена! Получено дополнительное очко специализации.|r"
set PL[12]="|c0080FF00Личная цель выполнена! ХП и МП восстановлены!|r"
set PL[13]="|c0080FF00Личная цель выполнена! Получен бафф на защиту!|r"
set PL[14]="|c0080FF00Личная цель выполнена! Получен бафф на защиту от магии!|r"
set PL[15]="|c0080FF00Личная цель выполнена! Получен бафф на скорость перемещения!|r"
set PL[16]="|c0080FF00Личная цель выполнена! Получен бафф на дополнительный урон!|r"
set Nw[1]="|c0000FF00Бронежилет с лапой арахнида|r = |cffabababЛапа гигантского арахнида|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в любой кузнице"
set Nw[2]="|c0000FF00Бронежилет с головой арахнида|r = |cffabababГолова гигантского арахнида|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в любой кузнице"
set Nw[3]="|c0000FF00Бронежилет с клешней арахнида|r = |cffabababКлешня гигантского арахнида|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в любой кузнице"
set Nw[4]="|c00FF8040Арканитовый слиток|r = |c00FF8040Арканитовая руда|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[5]="|c00FF00FFТориевый слиток|r = |c00FF00FFТориевая руда|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[6]="|c00C0C0C0Железный слиток|r = |c00C0C0C0Железная руда|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[7]="|c0080FFFFСеребряный слиток|r = |c0080FFFFСеребряная руда|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[8]="|c00C0C0C0Железное ружье|r = |c00C0C0C0Железный слиток|r (5) + Ружьё;\n |cff00bfffКрафтится в любой кузнице"
set Nw[9]="|c00C0C0C0Железный пулемёт|r = |c00C0C0C0Железный слиток|r (5) + Пулемёт;\n |cff00bfffКрафтится в любой кузнице"
set Nw[10]="|c00C0C0C0Железная базука|r = |c00C0C0C0Железный слиток|r (5) + Базука;\n |cff00bfffКрафтится в любой кузнице"
set Nw[11]="|c00C0C0C0Железный огнемёт|r = |c00C0C0C0Железный слиток|r (5) + Огнемёт;\n |cff00bfffКрафтится в любой кузнице"
set Nw[12]="|c00C0C0C0Железные гранаты|r = |c00C0C0C0Железный слиток|r (5) + Питарды;\n |cff00bfffКрафтится в любой кузнице"
set Nw[13]="|c00C0C0C0Железный шарострел|r = |c00C0C0C0Железный слиток|r (5) + Шарострел;\n |cff00bfffКрафтится в любой кузнице"
set Nw[14]="Гоблинский комбинезон = Гоблинские перчатки + Гоблинские сапоги + Гоблинский бронежилет + Гоблинский шлем-котелок;\n |cff00bfffКрафтится в любой кузнице"
set Nw[15]="|c0080FFFFСеребряная подвеска|r = |cff00ffffКрасивая подвеска|r + |c0080FFFFСеребряный слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[16]="|c0080FFFFСеребряный амулет|r = |cff00ffffМагический амулет|r + |c0080FFFFСеребряный слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[17]="|cff00ffffЭкспедиционный костюмчик|r = |cff00ffffКожаная накидка|r + Железный нагрудник + Льняной плащ;\n |cff00bfffКрафтится в любой кузнице"
set Nw[18]="|cff00ffffКостюм ученого|r = Маска + Льняной плащ;\n |cff00bfffКрафтится в любой кузнице"
set Nw[19]="|cff00ffffКостюм амбала|r = Каска взрывника + Железный нагрудник;\n |cff00bfffКрафтится в любой кузнице"
set Nw[20]="|cff00ffffКостюм наёмника|r = Шапка + |cff00ffffКожаная накидка|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[21]="|cff00ffffКаско-шлемо-маска|r = Каска взрывника + Шапка + Маска;\n |cff00bfffКрафтится в любой кузнице"
set Nw[22]="|c00FF00FFТориевое ружье|r = Ружьё + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[23]="|c00FF00FFТориевые гранаты|r = Питарды + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[24]="|c00FF00FFТориевый огнемёт|r = Огнемёт + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[25]="|c00FF00FFТориевый пулемёт|r = Пулемёт + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[26]="|c00FF00FFТориевый шарострел|r = Шарострел + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[27]="|c00FF00FFТориевая ракетница|r = Базука + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[28]="|c00C0C0C0Железная оптика|r = Увеличительное стёклышко + |c00C0C0C0Железный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[29]="|c00FF00FFТориевая оптика|r = Увеличительное стёклышко + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[30]="|c0080FFFFСеребряная оптика|r = Увеличительное стёклышко + |c0080FFFFСеребряный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[31]="|c00FF8040Арканитовая оптика|r = Увеличительное стёклышко + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[32]="|c00FF8040Арканитовый шарострел|r = Шарострел + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[33]="|c00FF8040Арканитовое ружье|r = Ружьё + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[34]="|c00FF8040Арканитовый огнемёт|r = Огнемёт + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[35]="|c00FF8040Арканитовый пулемёт|r = Пулемёт + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[36]="|c00FF8040Арканитовые гранаты|r = Питарды + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[37]="|c00C0C0C0Железные боеприпасы|r = |c00C0C0C0Железная руда|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[38]="|c0080FFFFСеребряные боеприпасы|r = |c0080FFFFСеребряная руда|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[39]="|c00FF00FFТориевые боеприпасы|r = |c00FF00FFТориевая руда|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[40]="|c00FF8040Арканитовые боеприпасы|r = |c00FF8040Арканитовая руда|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[41]="|c0000FF00Арахнидские перчатки|r = Гоблинские перчатки + |cffabababКлешня гигантского арахнида|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[42]="|c0000FF00Арахнидские сапоги|r = Гоблинские сапоги + |cffabababЛапа гигантского арахнида|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[43]="|c0000FF00Арахнидский шлем|r = Гоблинский шлем-котелок + |cffabababГолова гигантского арахнида|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[44]="|cffffa500Сет Арахнида|r = |c0000FF00Бронежилет с лапой арахнида|r + |c0000FF00Арахнидские перчатки|r + |c0000FF00Арахнидские сапоги|r + |c0000FF00Арахнидский шлем|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nw[45]="|cffffa500Сет Арахнида|r = |c0000FF00Бронежилет с головой арахнида|r + |c0000FF00Арахнидские перчатки|r + |c0000FF00Арахнидские сапоги|r + |c0000FF00Арахнидский шлем|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nw[46]="|cffffa500Сет Арахнида|r = |c0000FF00Бронежилет с клешней арахнида|r + |c0000FF00Арахнидские перчатки|r + |c0000FF00Арахнидские сапоги|r + |c0000FF00Арахнидский шлем|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nw[47]="Грибная настойка = |cfffffacdСъедобный грыбочек|r (1) + Целительная жижа (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[48]="|cff00ffffБроне-комбез|r = Гоблинский комбинезон + |cff00ffffЭкспедиционный костюмчик|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[49]="|cff00ffffБроне-скафандр|r = |cff00ffffКаско-шлемо-маска|r + |cff00ffffБроне-комбез|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[50]="|cff00ffffБроне-скафандр|r = Гоблинский комбинезон + |cff00ffffКостюм ученого|r + |cff00ffffКостюм амбала|r + |cff00ffffКостюм наёмника|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[51]="Грибной бульон = Грибная настойка (1) + Гоблинский шлем-котелок;\n |cff00bfffКрафтится в любой кузнице"
set Nw[52]="|cff00ffffПолу-философский камень|r = |c0080FFFFСеребряный амулет|r + |c0080FFFFСеребряная подвеска|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[53]="|cff00ffffФилософский камень|r = |cff00ffffПолу-философский камень|r + Увеличительное стёклышко;\n |cff00bfffКрафтится в любой кузнице"
set Nw[54]="Грибной спирт = |cfffffacdСъедобный грыбочек|r (1) + Освежающая вода (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[55]="Грибная самогонка = Грибной спирт (1) + Гоблинский шлем-котелок;\n |cff00bfffКрафтится в любой кузнице"
set Nw[56]="|c0080FFFFСеребряная пыль|r = |c00C0C0C0Железная руда|r (1) + |c0080FFFFСеребряная руда|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[57]="|c00C0C0C0Железный двигатель|r = Грибной спирт (5) + |cff00ffffФилософский камень|r + |c00C0C0C0Железный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[58]="|c00C0C0C0Железный меха-гоблин|r = |c00C0C0C0Железный двигатель|r + Увеличительное стёклышко + Увеличительное стёклышко + |c00C0C0C0Железный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[59]="|c0080FFFFСеребряный меха-гоблин|r = |c00C0C0C0Железный двигатель|r + Увеличительное стёклышко + Увеличительное стёклышко + |c0080FFFFСеребряный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[60]="|c00FF00FFТориевый меха-гоблин|r = |c00C0C0C0Железный двигатель|r + Увеличительное стёклышко + Увеличительное стёклышко + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[61]="|c00FF8040Арканитовый меха-гоблин|r = |c00C0C0C0Железный двигатель|r + Увеличительное стёклышко + Увеличительное стёклышко + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[62]="|cff00ffffРубиновое колечко|r = |c00FF3535Рубин|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[63]="|cff00ffffСапфировое кольцо|r = |cff00ffffСапфировое колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[64]="|cff00ffffРубиновое кольцо|r = |cff00ffffРубиновое колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[65]="|cff00ffffСапфировое колечко|r = |c000080FFСапфир|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[66]="|cff00ffffИзумрудное колечко|r = |c0000FF40Изумруд|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[67]="|cff00ffffИзумрудное кольцо|r = |cff00ffffИзумрудное колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[68]="|cff00ffffАметистовое колечко|r = |c00FF00FFАметист|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[69]="|cff00ffffАметистовое кольцо|r = |cff00ffffАметистовое колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[70]="|cff00ffffТопазовое колечко|r = |c00FFFF00Топаз|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[71]="|cff00ffffТопазовое кольцо|r = |cff00ffffТопазовое колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[72]="|cff00ffffАлмазное колечко|r = |c00FFFFFFАлмаз|r (1) + |c0080FFFFСеребряный слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[73]="|cff00ffffАлмазное кольцо|r = |cff00ffffАлмазное колечко|r + |c0080FFFFСеребряный слиток|r (3);\n |cff00bfffКрафтится в любой кузнице"
set Nw[74]="|cff9932ccДемонический слиток|r = |cff9932ccАдские угли|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[75]="|cff9932ccАдские пули|r = |cff9932ccАдские угли|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[76]="Слабый энергетик = Освежающая вода (1) + Целительная жижа (1) + Пустая баночка;\n |cff00bfffКрафтится в любой кузнице"
set Nw[77]="Энергетик = Грибная настойка (1) + Грибной спирт (1) + Пустая баночка;\n |cff00bfffКрафтится в любой кузнице"
set Nw[78]="Сильный энергетик = Грибной бульон (1) + Грибная самогонка (1) + Пустая баночка;\n |cff00bfffКрафтится в любой кузнице"
set Nw[79]="|cff00ffffТанк-нигдеход|r = |c00C0C0C0Железный двигатель|r + |c00C0C0C0Железный двигатель|r + |c00FF8040Арканитовый слиток|r (10) + |c00C0C0C0Железный слиток|r (20);\n |cff00bfffКрафтится в любой кузнице"
set Nw[80]="|cffffff00Движок MТ II|r = |c00C0C0C0Железный двигатель|r + |c00C0C0C0Железный двигатель|r + |c00FF00FFТориевый слиток|r (20);\n |cff00bfffКрафтится в любой кузнице"
set Nw[81]="|cff9932ccАдский танк|r = |cff00ffffТанк-нигдеход|r + |cff9932ccДемонический слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[82]="|cff00ffffМультицвет|r = |c00FF3535Рубин|r (1) + |c000080FFСапфир|r (1) + |c0000FF40Изумруд|r (1) + |c00FFFF00Топаз|r (1) + |c00FFFFFFАлмаз|r (1) + |c00FF00FFАметист|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[83]="|cff00ffffРадужный камень|r = |cff00ffffМультицвет|r + |cff00ffffФилософский камень|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[84]="|cffcd853fЖаренная форель|r = |cfffffacdТигровая форель|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[85]="|cffcd853fЖаренный синехвостик|r = |cfffffacdПещерный синехвостик|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[86]="|cffcd853fЖаренная зубатка|r = |cfffffacdПещерная зубатка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[87]="|cffcd853fФеле мана-угря|r = |cfffffacdМана-угорь|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[88]="|cffcd853fКопченые водоросли|r = |cfffffacdВодоросли|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[89]="|cffcd853fЖаренная вонючка|r = |cfffffacdБескостная вонючка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[90]="|cffcd853fЖаренная крысятинка|r = |cfffffacdКрысятинка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[91]="|cffcd853fЖаренные грибочки|r = |cfffffacdСъедобный грыбочек|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[92]="|cffcd853fКотлетки Обжорка|r = |cffcd853fЖаренная крысятинка|r (1) + |cffcd853fЖаренные грибочки|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[93]="|cffcd853fПотрясная жрачка|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренная вонючка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[94]="|cffcd853fПотрясная жрачка|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренная зубатка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[95]="|cffcd853fПотрясная жрачка|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренная форель|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[96]="|cffcd853fПотрясная жрачка|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренный синехвостик|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[97]="|cffcd853fПотрясная жрачка|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fФеле мана-угря|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[98]="|cffcd853fПотрясная отбивная|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренное мясо|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[99]="|cffcd853fПотрясная отбивная|r = |cffcd853fВолшебная приправа|r (1) + |cffcd853fЖаренная крысятинка|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[100]="|cffcd853fПотрясный салат|r = |cffcd853fКопченые водоросли|r (1) + |cffcd853fВолшебная приправа|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[101]="|cffcd853fПотрясный салат|r = |cffcd853fЖаренные грибочки|r (1) + |cffcd853fВолшебная приправа|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[102]="|c00C0C0C0Железная удочка|r = Деревянная удочка + |c00C0C0C0Железный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[103]="|c0080FFFFСеребряная удочка|r = Деревянная удочка + |c0080FFFFСеребряный слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[104]="|c00FF00FFТориевая удочка|r = Деревянная удочка + |c00FF00FFТориевый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[105]="|c00FF8040Арканитовая удочка|r = Деревянная удочка + |c00FF8040Арканитовый слиток|r (5);\n |cff00bfffКрафтится в любой кузнице"
set Nw[106]="|cffcd853fЖаренное мясо|r = |cfffffacdМясо|r;\n |cff00bfffКрафтится в плавилке"
set Nw[107]="|cffcd853fСалат Зеленый|r = |cfffffacdСъедобный грыбочек|r (1) + |cfffffacdВодоросли|r (1);\n |cff00bfffКрафтится в плавилке"
set Nw[108]="|cffffff00Демонический ключ|r = |cffffff00Часть Демонического ключа|r + |cffffff00Часть Демонического ключа|r + |cffffff00Часть Демонического ключа|r + |cffffff00Часть Демонического ключа|r + |cffffff00Часть Демонического ключа|r + |cffffff00Часть Демонического ключа|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[109]="|cff00ffffЗажигалка|r = |c0000FF00Свечка рабовладельца|r + Огнемёт;\n |cff00bfffКрафтится в любой кузнице"
set Nw[110]="|cff00ffffБум-Стик А-2|r = |c0000FF00Свечка рабовладельца|r + Базука;\n |cff00bfffКрафтится в любой кузнице"
set Nw[111]=" = |c0000FF00Свечка рабовладельца|r + |cff00ffffКрасивая подвеска|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[112]="|cff00ffffМед-Протез|r = |c0000FF00Перчатка рабовладельца|r + Шарострел;\n |cff00bfffКрафтится в любой кузнице"
set Nw[113]="|cff00ffffДемоническая кирка|r = |c0000FF00Кирка рабовладельца|r + |cff9932ccДемонический слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nw[114]="|cff9932ccДемоническая удочка|r = Деревянная удочка + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nw[115]="|cffffd700Эссенция Жизни|r = |cffabababОсколок души|r + |cffabababОсколок души|r + |cffabababОсколок души|r + |cffabababОсколок души|r + |cffabababОсколок души|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[116]="|cff9932ccЭссенция Огня|r = |cffabababОсколок пламенной души|r + |cffabababОсколок пламенной души|r + |cffabababОсколок пламенной души|r + |cffabababОсколок пламенной души|r + |cffabababОсколок пламенной души|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[117]="|c0000FF00Лампа из черепа|r = |cffabababГолова гигантского арахнида|r + |c0000FF00Свечка рабовладельца|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[118]="|cff00ffffЖракодел-700|r = |cffcd853fВолшебная приправа|r + |c00FF8040Арканитовый меха-гоблин|r + |cffcd853fМясо гигантского мурлока|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в любой кузнице"
set Nw[119]="Старая лампа = |c00FFFF00Топаз|r (1) + Старая сломанная лампа + Увеличительное стёклышко;\n |cff00bfffКрафтится в любой кузнице"
set Nw[120]="Секретная вкусняшка = Мясо кодоя + |cffcd853fВолшебная приправа|r;\n |cff00bfffКрафтится в плавилке"
set Nx[1]="|cffffa500Арахнидский доспех|r = |c0000FF00Бронежилет с лапой арахнида|r + |c0000FF00Бронежилет с головой арахнида|r + |c0000FF00Бронежилет с клешней арахнида|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nx[2]="|cff00ffffАрканитовый Нано-протез|r = |cffabababРуна: Нано-протез|r + |c00FF8040Арканитовый слиток|r (10) + Целительная жижа (5);\n |cff00bfffКрафтится в любой кузнице"
set Nx[3]="|cff00ffffАрканитовый шестиствол|r = |cffabababРуна: Пулемёт/Огнемёт|r + |c00FF8040Арканитовый пулемёт|r + |c00FF8040Арканитовые боеприпасы|r (50);\n |cff00bfffКрафтится в любой кузнице"
set Nx[4]="|cff00ffffАрканитовый напалмомёт|r = |cffabababРуна: Пулемёт/Огнемёт|r + |c00FF8040Арканитовый огнемёт|r + |c00FF8040Арканитовые боеприпасы|r (50);\n |cff00bfffКрафтится в любой кузнице"
set Nx[5]="|cffffa500Сет Рабовладельца|r = |c0000FF00Перчатка рабовладельца|r + |c0000FF00Кирка рабовладельца|r + |c0000FF00Свечка рабовладельца|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nx[6]="|cff00ffffАрканитовая снайперка|r = |cffabababРуна: Снайперское ружье|r + |c00FF8040Арканитовая оптика|r + |c00FF8040Арканитовое ружье|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[7]="|cff00ffffАрканитовые фугасы|r = |cffabababРуна: Фугасы|r + |c00FF8040Арканитовые гранаты|r + |c00FF8040Арканитовая руда|r (10);\n |cff00bfffКрафтится в любой кузнице"
set Nx[8]="|cff00ffffАрканитовый шаромёт|r = |cffabababРуна: Шаромёт|r + |c00FF8040Арканитовый шарострел|r + |c00FF8040Арканитовые боеприпасы|r (50);\n |cff00bfffКрафтится в любой кузнице"
set Nx[9]="|c0000FF00Магическое ультра-горючее|r = |cffabababАккумуляторная кислота|r + Грибной спирт;\n |cff00bfffКрафтится в любой кузнице"
set Nx[10]="|c0000FF00Ториевый нейро-генератор|r = |cffabababТориевый обломок генератора|r + |c00FF00FFТориевый слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nx[11]="|c0000FF00Доспех из ториевой гусеницы|r = |cffabababКусок ториевой гусеницы|r + |c00FF00FFТориевый слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set Nx[12]="|cff00ffffСамозарядный дробовик|r = |cffabababРецепт: Самозарядный дробовик|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[13]="|cff00ffffЭлитная снайперка|r = |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c00FF8040Арканитовое ружье|r + |c0080FFFFСеребряная оптика|r + |cffabababРецепт: Элитная снайперка|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[14]="|cff00ffffБазука бомбера|r = |c00FF8040Арканитовая ракетница|r + |c00FF8040Арканитовая ракетница|r + |c00FF8040Арканитовая ракетница|r + |c00FF8040Арканитовая ракетница|r + |c0080FFFFСеребряная оптика|r + |cffabababРецепт: Базука бомбера|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[15]="|cff00ffffМехо-пак|r = Увеличительное стёклышко + Увеличительное стёклышко + Увеличительное стёклышко + |cffabababРецепт: Мехо-пак|r + Гоблинский бронежилет + |cff00ffffКостюм ученого|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[16]="|cff00ffffПереносная мед-станция|r = Гоблинский бронежилет + Грибной спирт (5) + Грибная настойка (5) + |c00FF8040Арканитовый шарострел|r + |c00FF8040Арканитовый шарострел|r + |cffabababРецепт: Переносная мед-станция|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[17]="|cff00ffffЯдер-магическая бомба|r = Гоблинский бронежилет + |c00FF8040Арканитовые гранаты|r + |c00FF8040Арканитовые гранаты|r + |c00FF8040Арканитовые гранаты|r + |c00FF8040Арканитовые гранаты|r + |cffabababРецепт: Ядер-Магическая бомба|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[18]="|cff00ffffПулемётная лента|r = |c00FF8040Арканитовый пулемёт|r + |c00FF8040Арканитовый пулемёт|r + |c00FF8040Арканитовый пулемёт|r + |c00FF8040Арканитовый пулемёт|r + |c00FF00FFТориевая оптика|r + |cffabababРецепт: Пулемётная лента|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[19]="|cff00ffffОгнемётное охлаждение|r = |c00FF8040Арканитовый огнемёт|r + |c00FF8040Арканитовый огнемёт|r + |c00FF8040Арканитовый огнемёт|r + |c00FF8040Арканитовый огнемёт|r + Освежающая вода (4) + |cffabababРецепт: Огнемётное охлаждение|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[20]="|c0000FF00Железная гаубица|r = |cffabababОбломки железной гаубицы|r + |c00C0C0C0Железная базука|r + |c00C0C0C0Железный слиток|r (20);\n |cff00bfffКрафтится в любой кузнице"
set Nx[21]="|c0000FF00Мешок взрывчатки|r = |c0000FF00Пустой пороховой мешочек|r + |c00C0C0C0Железные боеприпасы|r (50) + |c0080FFFFСеребряные боеприпасы|r (50) + |c00FF00FFТориевые боеприпасы|r (50) + |c00FF8040Арканитовые боеприпасы|r (50);\n |cff00bfffКрафтится в любой кузнице"
set Nx[22]="|cff00ffffРубиновый перстень|r = |cff00ffffРубиновое кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[23]="|cff00ffffСапфировый перстень|r = |cff00ffffСапфировое кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[24]="|cff00ffffИзумрудный перстень|r = |cff00ffffИзумрудное кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[25]="|cff00ffffАметистовый перстень|r = |cff00ffffАметистовое кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[26]="|cff00ffffТопазовый перстень|r = |cff00ffffТопазовое кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[27]="|cff00ffffАлмазный перстень|r = |cff00ffffАлмазное кольцо|r + |c00FF8040Арканитовый слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[28]="|cffffa500Радужный скелет|r = |cff00ffffРадужный камень|r + |cff00ffffБроне-скафандр|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[29]="|cffffa500Сапфировое ожерелье|r = |cff00ffffСапфировый перстень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[30]="|cffffa500Изумрудное ожерелье|r = |cff00ffffИзумрудный перстень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[31]="|cffffa500Аметистовое ожерелье|r = |cff00ffffАметистовый перстень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[32]="|cffffa500Рубиновое ожерелье|r = |cff00ffffРубиновый перстень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[33]="|cffffa500Топазовое ожерелье|r = |cff00ffffТопазовый перстень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[34]="|cffffa500Алмазное ожерелье|r = |cffffa500Алмазное ожерелье|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set Nx[35]="|cff00ffffПерчатка Власти|r = |c0000FF00Перчатка рабовладельца|r + Гоблинские перчатки;\n |cff00bfffКрафтится в Великой кузнице"
set Nx[36]="|cff00ffffАрахнидский камень|r = |cffffa500Арахнидский доспех|r + |cffabababКамень силы|r;\n |cff00bfffКрафтится в Великой кузнице"
set Nx[37]="|cffff4500Сет Рабовладельца v2.0|r = |cffffa500Сет Рабовладельца|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set Nx[38]="|cffff4500Арахнидский Камень v2.0|r = |cff00ffffАрахнидский камень|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set Nx[39]="|cff00ffffАрахнидский кастет|r = |cffabababКлешня гигантского арахнида|r + |c0000FF00Перчатка рабовладельца|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[40]="|cff00ffffСвет Жизни|r = |c0000FF00Свечка рабовладельца|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[41]="|cff00ffffАрканитовая автобазука|r = |c00FF8040Арканитовая ракетница|r + |c00FF8040Арканитовые боеприпасы|r (50) + |cffabababРуна: Автобазука|r;\n |cff00bfffКрафтится в любой кузнице"
set Nx[42]="|cff00ffffСвященный свет|r = |cff00ffffСвет Жизни|r + |c0000FF00Лампа из черепа|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[1]="|cffffa500Ториевая циркулярная пила|r = |cffabababТориевый обломок генератора|r + |cffabababАккумуляторная кислота|r + |cffabababКусок ториевой гусеницы|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[2]="|cffffa500Экзоскелет КУС-500rmk|r = |c0000FF00Ториевый нейро-генератор|r + |c0000FF00Магическое ультра-горючее|r + |c0000FF00Доспех из ториевой гусеницы|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[3]="|cffffa500Сет Похоти|r = |c0000FF00Венец Похоти|r + |c0000FF00Нагрудник Похоти|r + |c0000FF00Наручники Похоти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[4]="|cffffa500Алебарда Похоти|r = |cffabababДревко алебарды Похоти|r + |cffabababЛезвие алебарды Похоти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[5]="|c0000FF00Перчатки Бомбса|r = |cffabababПорваные перчатки|r + Гоблинские перчатки;\n |cff00bfffКрафтится в любой кузнице"
set N0[6]="|c0000FF00Труба Аккуратерса|r = |cffabababТреснувшая подзорная труба|r + |c0080FFFFСеребряная оптика|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[7]="|c0000FF00Бронежилет Бомбса|r = |c0000FF00Повреждённая броня|r + |cff00ffffБроне-комбез|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[8]="|cff00ffffПерчатка Уничтожения|r = |cff00ffffПерчатка Власти|r + |c0000FF00Арахнидские перчатки|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[9]="|cff00ffffОсколочный миноукладчик|r = |cffabababТориевый обломок генератора|r + Питарды;\n |cff00bfffКрафтится в Великой кузнице"
set N0[10]="|cff00ffffНейро-балон|r = |cffabababТориевый обломок генератора|r + Шарострел;\n |cff00bfffКрафтится в любой кузнице"
set N0[11]="|cff00ffffКислотная граната|r = |cffabababАккумуляторная кислота|r + |cfffffacdСъедобный грыбочек|r (1);\n |cff00bfffКрафтится в любой кузнице"
set N0[12]="|cff00ffffХим-костюм|r = |cffabababАккумуляторная кислота|r + |cff00ffffБроне-скафандр|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[13]="|cff00ffffШипованный доспех|r = |cffabababКусок ториевой гусеницы|r + |cff00ffffКостюм амбала|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[14]="|cff00ffffГусеничные сапоги|r = |c0000FF00Арахнидские сапоги|r + |cffabababКусок ториевой гусеницы|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[15]="|cff00ffffКорона Похоти|r = |c0000FF00Венец Похоти|r + |cff00ffffКаско-шлемо-маска|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[16]="|cff00ffffЦарь скорпионов|r = |c0000FF00Венец Похоти|r + |c0000FF00Арахнидский шлем|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[17]="|cff00ffffПохотливая броня|r = |c0000FF00Нагрудник Похоти|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в любой кузнице"
set N0[18]="|cff00ffffОхотник на ведьм|r = |c0000FF00Нагрудник Похоти|r + Маска;\n |cff00bfffКрафтится в любой кузнице"
set N0[19]="|cff00ffffПохотливые перчатки|r = |c0000FF00Наручники Похоти|r + |c0000FF00Перчатки Бомбса|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[20]="|cff00ffffНакидка амазонки|r = |c0000FF00Наручники Похоти|r + |cff00ffffКостюм наёмника|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[21]="|cffffa500Ожерелье Фиалка|r = |cffffa500Рубиновое ожерелье|r + |cffffa500Сапфировое ожерелье|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[22]="|cffffa500Ожерелье Лайм|r = |cffffa500Изумрудное ожерелье|r + |cffffa500Топазовое ожерелье|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[23]="|cffffa500Ожерелье Индиго|r = |cffffa500Аметистовое ожерелье|r + |cffffa500Алмазное ожерелье|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[24]="|cffff4500Циркулярка v2.0|r = |cffffa500Ториевая циркулярная пила|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N0[25]="|cffff4500Экзоскелет КУС-500 v2.0|r = |cffffa500Экзоскелет КУС-500rmk|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N0[26]="|cffff4500Радужный скелет v2.0|r = |cffffa500Радужный скелет|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N0[27]="|cff00ffffВиварий|r = |c0000FF00Ториевый нейро-генератор|r + |c0000FF00Кирка рабовладельца|r;\n |cff00bfffКрафтится в любой кузнице"
set N0[28]="|cff00ffffДоспех Паучьего Жреца|r = |cffffa500Арахнидский доспех|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[29]="|cff00ffffКонвертер O.R.E|r = |cffffa500Ториевая циркулярная пила|r + |c00C0C0C0Железный двигатель|r;\n |cff00bfffКрафтится в Великой кузнице"
set N0[30]="|cff00ffffКислобум-8000|r = |cff00ffffКислотная граната|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N1[1]="|cffffa500Сет Бомбса|r = |c0000FF00Бронежилет Бомбса|r + |c0000FF00Перчатки Бомбса|r + |c0000FF00Железная гаубица|r;\n |cff00bfffКрафтится в Великой кузнице"
set N1[2]=" = |c0000FF00Бронежилет Бомбса|r + |c0000FF00Перчатки Бомбса|r + |c0000FF00Мешок взрывчатки|r;\n |cff00bfffКрафтится в Великой кузнице"
set N1[3]="|cffffa500Сет Аккуратерса|r = |c0000FF00Перчатки Бомбса|r + |c0000FF00Бронежилет Бомбса|r + |c0000FF00Труба Аккуратерса|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[4]="|c0000FF00Крылья Алчности|r = |c0000FF00Правое крыло Алчности|r + |c0000FF00Левое крыло Алчности|r;\n |cff00bfffКрафтится в Великой кузнице"
set N1[5]="|cff9932ccОко демона|r = Увеличительное стёклышко + |cff9932ccДемонический слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set N1[6]="|cff9932ccНенависть|r = |cffffa500Алебарда Похоти|r + |cffabababСломанная печать врат|r + |cff9932ccДемонический слиток|r (8);\n |cff00bfffКрафтится в любой кузнице"
set N1[7]="|cff9932ccЯрость|r = |cffffa500Сет Арахнида|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set N1[8]="|cff9932ccЧревоугодие|r = |cffffa500Аметистовое ожерелье|r + |cff00ffffФилософский камень|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set N1[9]="|cff9932ccМощь|r = |cff00ffffБроне-скафандр|r + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set N1[10]="|cffffa500Сет Алчности|r = |cff20b2aaПерстень Алчности|r + |c0000FF00Ожерелье Алчности|r + |c0000FF00Коготь Алчности|r;\n |cff00bfffКрафтится в Великой кузнице"
set N1[11]="|cff00ffffФилософский перстень|r = |cff20b2aaПерстень Алчности|r + |cff00ffffФилософский камень|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[12]="|cff00ffffАлла|r = |cff20b2aaПерстень Алчности|r + Ружьё;\n |cff00bfffКрафтится в Великой кузнице"
set N1[13]="|cff00ffffАмулет продажности|r = |c0000FF00Ожерелье Алчности|r + |cff00ffffКрасивая подвеска|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[14]="|cff00ffffЖажда наживы|r = |c0000FF00Ожерелье Алчности|r + Базука;\n |cff00bfffКрафтится в Великой кузнице"
set N1[15]="|cff00ffffКогтистая броня|r = |c0000FF00Коготь Алчности|r + |cff00ffffКостюм амбала|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[16]="|cff00ffffКогтистая перчатка|r = |c0000FF00Коготь Алчности|r + |c0000FF00Арахнидские перчатки|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[17]="|cffff4500Сет Аккуратерса v2.0|r = |cffffa500Сет Аккуратерса|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N1[18]="|cffff4500Сет Бомбса v2.0|r = |cffffa500Сет Бомбса|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N1[19]="|cffff4500Сет Похоти v2.0|r = |cffffa500Сет Похоти|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N1[20]="|cffff4500Сет Сапёра v2.0|r =  + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N1[21]="|c0000FF00Восполнитель Тьмы|r =  + |cff9932ccДемонический слиток|r (2);\n |cff00bfffКрафтится в любой кузнице"
set N1[22]="|cff00ffffВорчун|r = |c0000FF00Железная гаубица|r + |cff00ffffБум-Стик А-2|r;\n |cff00bfffКрафтится в любой кузнице"
set N1[23]="|cff00ffffНабор подрывника|r = |c0000FF00Мешок взрывчатки|r + |c00FF8040Арканитовые гранаты|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[1]="|cff00ffffРазрушитель материи|r = Базука + |cff9932ccДемонический слиток|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[2]="|cff00ffffПронзающий душу|r = Ружьё + |cff9932ccДемонический слиток|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[3]="|cff00ffffПрожигатель|r = Огнемёт + |cff9932ccДемонический слиток|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[4]="|cff00ffffДушеглот|r = Шарострел + |cff9932ccДемонический слиток|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[5]="|cffffa500Доспехи Порчи|r = |cff9932ccНенависть|r + |cff9932ccЯрость|r + |cff9932ccЧревоугодие|r + |cff9932ccМощь|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[6]="|cffffa500Сет Хазула|r = |c0000FF00Очки Хазула|r + |c0000FF00Телепортатор|r + |c0000FF00Стазис-кружка|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[7]="|c0000FF00Силовая броня|r = |c0000FF00Повреждённая силовая броня|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[8]="|c0000FF00Ядерный реактор|r = |c0000FF00Повреждённый реактор|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[9]="|c0000FF00Техно-модуль|r = |c0000FF00Повреждённый техно-модуль|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[10]="|c0000FF00Магический окуляр|r = |c0000FF00Повреждённый окуляр|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[11]="|c0000FF00Воспламенитель|r = |c0000FF00Повреждённый воспламенитель|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[12]="|c0000FF00Ускоритель частиц|r = |c0000FF00Повреждённый ускоритель частиц|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[13]="|c0000FF00Ракетная установка|r = |c0000FF00Повреждённая ракетница|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[14]="|c0000FF00Преобразователь маны|r = |c0000FF00Повреждённый преобразователь|r + |cffabababЗапасные детали|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[15]="|c0000FF00Телепортатор|r = |cffabababОбломки телепортатора|r + |c00C0C0C0Железный двигатель|r + |cff00ffffИзумрудный перстень|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[16]="|c0000FF00Стазис-кружка|r = |cffabababСтранная кружка|r + |cff00ffffРубиновый перстень|r + Гоблинские перчатки;\n |cff00bfffКрафтится в любой кузнице"
set N2[17]="|c0000FF00Очки Хазула|r = |cffabababТреснувшие очки|r + |c000080FFСапфир|r (2) + |c0080FFFFСеребряный слиток|r (1);\n |cff00bfffКрафтится в любой кузнице"
set N2[18]="|cff00ffffКаратель|r = |cff00ffffСамозарядный дробовик|r + |cff00ffffАрканитовая снайперка|r + |c00FF8040Арканитовый слиток|r (30) + Зелье духа + |cffabababРецепт: Каратель|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[19]="|cff00ffffБезмолвный палач|r = |cff00ffffЭлитная снайперка|r + |cff00ffffАрканитовая снайперка|r + |c00FF8040Арканитовый слиток|r (20) + Зелье невидимости + |cffabababРецепт: Безмолвный палач|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[20]="|cff00ffffЛютый|r = |cff00ffffПулемётная лента|r + |cff00ffffАрканитовый шестиствол|r + |c00FF8040Арканитовый слиток|r (15) + Зелье скорости + |cffabababРецепт: Лютый|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[21]="|cff00ffffHealPack-3000|r = |cff00ffffПереносная мед-станция|r + |cff00ffffАрканитовый шаромёт|r + Зелье неуязвимости + |cffabababРецепт: HealPack-3000|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[22]="|cff00ffffТех-Протез|r = |cff00ffffМехо-пак|r + |cff00ffffАрканитовый Нано-протез|r + Зелье щита + |cffabababРецепт: Тех-протез|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[23]="|cff00ffffБумер|r = |cff00ffffЯдер-магическая бомба|r + |cff00ffffАрканитовые фугасы|r + |c00FF8040Арканитовый слиток|r (30) + Зелье антимагии + |cffabababРецепт: Бумер|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[24]="|cff00ffffMr.Пламень|r = |cff00ffffОгнемётное охлаждение|r + |cff00ffffАрканитовый напалмомёт|r + Зелье гальванизации + |cffabababРецепт: Mr. Пламень|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[25]="|cff00ffffБольшой Сэм|r = |cff00ffffБазука бомбера|r + |cff00ffffАрканитовая автобазука|r + Зелье антимагии + |cffabababРецепт: Большой Сэм|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[26]="|cffffa500Сила Демона|r = |c0000FF00Крылья Алчности|r + |cff9932ccМощь|r;\n |cff00bfffКрафтится в любой кузнице"
set N2[27]="|cffff4500Сет Алчности v2.0|r = |cffffa500Сет Алчности|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N2[28]="|cffff4500Сила Демона v2.0|r = |cffffa500Сила Демона|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N2[29]="|cff00ffffЭкзотика|r = |cff00ffffАлла|r + |cff00ffffНакидка амазонки|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[30]="|cffffa500Адский Индиго|r = |cffffa500Ожерелье Индиго|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N2[31]="|cffffa500Священный Индиго|r = |cffffa500Ожерелье Индиго|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N2[32]="|cffffa500Адская Фиалка|r = |cffffa500Ожерелье Фиалка|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N2[33]="|cffffa500Священная Фиалка|r = |cffffa500Ожерелье Фиалка|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N2[34]="|cffffa500Адский Лайм|r = |cffffa500Ожерелье Лайм|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N2[35]="|cffffa500Священный Лайм|r = |cffffa500Ожерелье Лайм|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N2[36]="|cff00ffffЗагребушка-700|r = |cff00ffffПохотливые перчатки|r + |cff00ffffФилософский перстень|r + |c00FF8040Арканитовый слиток|r (5) + |c0080FFFFСеребряная руда|r (20);\n |cff00bfffКрафтится в Великой кузнице"
set N2[37]="|cff00ffffПылающий восполнитель|r = |c0000FF00Восполнитель Тьмы|r + |cff00ffffСвященный свет|r;\n |cff00bfffКрафтится в Великой кузнице"
set N2[38]="|cff00ffffКогти антиматерии|r = |cff00ffffКогтистая перчатка|r + |cff00ffffАрахнидский кастет|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[1]="|cffffa500Сет Страха|r = |c0000FF00Пояс Страха|r + |c0000FF00Глаза Страха|r + |c0000FF00Язык Страха|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[2]="|cff00ffffНано-кирка|r = |c0000FF00Техно-модуль|r + |c0000FF00Кирка рабовладельца|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[3]="|cff00ffffМаска Ужаса|r = |c0000FF00Язык Страха|r + Маска;\n |cff00bfffКрафтится в любой кузнице"
set N3[4]="|cff00ffffГлотатель Страха|r = |c0000FF00Язык Страха|r + Питарды;\n |cff00bfffКрафтится в Великой кузнице"
set N3[5]="|cff00ffffСмотрящая в душу|r = |c0000FF00Глаза Страха|r + Ружьё;\n |cff00bfffКрафтится в Великой кузнице"
set N3[6]="|cff00ffffМедальон Кошмаров|r = |c0000FF00Глаза Страха|r + |cff00ffffКрасивая подвеска|r;\n |cff00bfffКрафтится в любой кузнице"
set N3[7]="|cff00ffffКираса Страха|r = |c0000FF00Пояс Страха|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в любой кузнице"
set N3[8]="|cff00ffffПугающий тулуп|r = |c0000FF00Пояс Страха|r + |cff00ffffКостюм амбала|r;\n |cff00bfffКрафтится в любой кузнице"
set N3[9]="|cffff4500Сет Хазула v2.0|r = |cffffa500Сет Хазула|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N3[10]="|c0000FF00Кости Страха|r = |c0000FF00Когти Страха|r + |c0000FF00Наплечники Страха|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[11]="|cff00ffffСтрахоискатель|r = |c0000FF00Глаза Страха|r + |cff9932ccОко демона|r;\n |cff00bfffКрафтится в любой кузнице"
set N3[12]="|cff00ffffУжасный Лизун|r = |c0000FF00Язык Страха|r + Шарострел;\n |cff00bfffКрафтится в любой кузнице"
set N3[13]="|cff00ffffКипятильник Страха|r = |c0000FF00Пояс Страха|r + Огнемёт;\n |cff00bfffКрафтится в любой кузнице"
set N3[14]="|cff00ffffГолод Страха|r = |c0000FF00Язык Страха|r + |cff9932ccЧревоугодие|r;\n |cff00bfffКрафтится в любой кузнице"
set N3[15]="|cff00ffffЛьстец|r = |cffffa500Алебарда Похоти|r + |c0000FF00Крылья Алчности|r;\n |cff00bfffКрафтится в любой кузнице"
set N3[16]="|cff00ffffНочные очки|r = |c0000FF00Очки Хазула|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[17]="|cff00ffffКогтистый страж|r = |cff00ffffКогтистая броня|r + |cff00ffffКогтистая перчатка|r + |cffabababОсколок пламенной души|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[18]="|cffffa500Обсидиановый Индиго|r = |cffffa500Адский Индиго|r + |cffffa500Священный Индиго|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[19]="|cffffa500Обсидиановая фиалка|r = |cffffa500Адская Фиалка|r + |cffffa500Священная Фиалка|r;\n |cff00bfffКрафтится в Великой кузнице"
set N3[20]="|cffffa500Обсидиановый лайм|r = |cffffa500Адский Лайм|r + |cffffa500Священный Лайм|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[1]="|c0000FF00Ошейник Дрессировщика|r = |c0080FFFFСеребряный слиток|r (10) + |c00FF00FFТориевый слиток|r (10) + |cffabababПомятый серебряный ошейник|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[2]="|c0000FF00Сете-пушка Дрессировщика|r = |c0080FFFFСеребряный слиток|r (1) + |c00C0C0C0Железный двигатель|r + Ружьё + |cffabababПорванная сеть|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[3]="|c0000FF00Электро-булава Дрессировщика|r = |c00C0C0C0Железный слиток|r (10) + |c00C0C0C0Железный двигатель|r + |c0000FF40Изумруд|r (1) + |cffabababСломанная булава|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[4]="|cffffa500Сет Дрессировщика|r = |c0000FF00Сете-пушка Дрессировщика|r + |c0000FF00Электро-булава Дрессировщика|r + |c0000FF00Ошейник Дрессировщика|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[5]="|cffffa500Доспехи Легиона|r = |cffffa500Доспехи Порчи|r + |cffabababЗнак лейтенанта демонов|r + |cffabababРецепт: Доспехи Легиона|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N4[6]="|c0000FF00Амулет Вождя Огров|r = |cffabababПомятый амулет|r + |cffffa500Изумрудное ожерелье|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[7]="|cffff4500Сет Страха v2.0|r = |cffffa500Сет Страха|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N4[8]="|cff00ffffMEGA-HealPack|r = |cff00ffffHealPack-3000|r + |cffabababРецепт: MEGA-HealPack|r + |cff00ffffДушеглот|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[9]="|cff00ffffMr. Жаров|r = |cff00ffffMr.Пламень|r + |cffabababРецепт: Mr. Жаров|r + |cff00ffffПрожигатель|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[10]="|cff00ffffЛедяная кара|r = |cff00ffffБезмолвный палач|r + |cffabababРецепт: Ледяная кара|r + |cff00ffffПронзающий душу|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[11]="|cff00ffffСэмюэль Старший|r = |cff00ffffБольшой Сэм|r + |cffabababРецепт: Сэмюэль Старший|r + |cff00ffffРазрушитель материи|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[12]="|cff00ffffКрашер|r = |cff00ffffБумер|r + |cffabababРецепт: Крашер|r + |cff00ffffРазрушитель материи|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[13]="|cff00ffffОхотник|r = |cff00ffffКаратель|r + |cffabababРецепт: Охотник|r + |cff00ffffПронзающий душу|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[14]="|cff00ffffБешеный|r = |cff00ffffЛютый|r + |cffabababРецепт: Бешеный|r + |cff00ffffПрожигатель|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[15]=" = |cff00ffffТех-Протез|r + |cffabababРецепт :Чудо техники|r + |cff00ffffДушеглот|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[16]="|cff00ffffПугатель|r = |c0000FF00Кости Страха|r + |c0000FF00Крылья Алчности|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[17]="|cff00ffffКолючий Преградитель|r = |cff00ffffКогтистая броня|r + |c0000FF00Доспех из ториевой гусеницы|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[18]="|cff00ffffБесстрашный воин|r = |cff00ffffКираса Страха|r + |cff00ffffПугающий тулуп|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в любой кузнице"
set N4[19]="|cff00ffffПохотливый Ужас|r = |cff00ffffПохотливая броня|r + |cff00ffffКираса Страха|r + |cffabababОсколок пламенной души|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[20]="|cff00ffffСонный парализатор|r = |cff00ffffМедальон Кошмаров|r + |cff00ffffСтрахоискатель|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[21]="|cff00ffffПродавец душ|r = |cff00ffffЗагребушка-700|r + |cff00ffffКогти антиматерии|r + |c00FF8040Арканитовый слиток|r (5) + |c00FFFF00Топаз|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[22]="|cff00ffffОчки обмана|r = |cff00ffffНочные очки|r + |c0000FF00Глаза Страха|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[23]="|cff00ffffАлмазные когти|r = |cff00ffffАлмазный перстень|r + |c0000FF00Когти Страха|r + |cff00ffffФилософский перстень|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[24]="|cff00ffffНестабильный конвертер|r = |c0000FF00Телепортатор|r + |cff00ffffКонвертер O.R.E|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[25]="|cff00ffffШипастые сапоги|r = |cff00ffffШипованный доспех|r + |cff00ffffКогтистая броня|r + |cff00ffffГусеничные сапоги|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[26]="|cff00ffffДоспех дознавателя|r = |cff00ffffОхотник на ведьм|r + |c0000FF00Язык Страха|r + |cffffa500Ожерелье Индиго|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[27]="|cff00ffffТехбрат-25Т|r = |cff00ffffЦарь скорпионов|r + |cff00ffffУжасный Лизун|r + |cff00ffffМед-Протез|r + |c0080FFFFСеребряный меха-гоблин|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[28]="|cff00ffffПытатель-135-F|r = |cff00ffffЗажигалка|r + |c0000FF00Язык Страха|r + |cff9932ccМощь|r + |cff00ffffОхотник на ведьм|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[29]="|cff00ffffАлхимические когти|r = |cff00ffffНано-кирка|r + |cff00ffffКонвертер O.R.E|r + |c0000FF00Когти Страха|r;\n |cff00bfffКрафтится в Великой кузнице"
set N4[30]="|cff00ffffПылающий пронзатель|r = |cff00ffffКогти антиматерии|r + |cff9932ccНенависть|r + |c0000FF00Когти Страха|r + |cff9932ccЯрость|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[1]="|cffffa500Сет Зависти|r = |c0000FF00Сердце Зависти|r + |c0000FF00Клык Зависти|r + |c0000FF00Цепь Зависти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[2]="|c0000FF00Шлем Шиззла|r = |cffabababПомятый шлем|r + |cff00ffffКаско-шлемо-маска|r;\n |cff00bfffКрафтится в любой кузнице"
set N5[3]="|c0000FF00Дневник Шиззла|r = |cffabababЗапертый дневник|r + |c00FFFFFFАлмаз|r (1);\n |cff00bfffКрафтится в любой кузнице"
set N5[4]="|cffffa500Сет Шиззла|r = |c0000FF00Шлем Шиззла|r + |c0000FF00Зелья Шиззла|r + |c0000FF00Дневник Шиззла|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[5]="|cff00ffffПорочный мультицвет|r = |c0000FF00Сердце Зависти|r + |cff00ffffМультицвет|r;\n |cff00bfffКрафтится в любой кузнице"
set N5[6]="|cff00ffffДушитель Х-8|r = |c0000FF00Цепь Зависти|r + Пулемёт;\n |cff00bfffКрафтится в Великой кузнице"
set N5[7]="|c0000FF00Кандалы Зависти|r = |c0000FF00Цепь Зависти|r + Гоблинские сапоги;\n |cff00bfffКрафтится в любой кузнице"
set N5[8]="|cff00ffffГромовержец|r = |c0000FF00Цепь Зависти|r + Ружьё;\n |cff00bfffКрафтится в Великой кузнице"
set N5[9]="|cff00ffffОстрейший Рогоклык|r = |c0000FF00Рог Зависти|r + |c0000FF00Клык Зависти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[10]="|cff00ffffВероломный шлем|r = |c0000FF00Клык Зависти|r + Каска взрывника;\n |cff00bfffКрафтится в любой кузнице"
set N5[11]="|c0000FF00Зелья Шиззла|r = |cffabababЯщик со склянками|r + Грибной бульон (1) + Грибная самогонка (1);\n |cff00bfffКрафтится в любой кузнице"
set N5[12]="|cffff4500Сет Дрессировщика v2.0|r = |cffffa500Сет Дрессировщика|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N5[13]="|cffff4500Сет Зависти v2.0|r = |cffffa500Сет Зависти|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N5[14]="|cffff4500Доспехи Легиона v2.0|r = |cffffa500Доспехи Легиона|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N5[15]="|cff00ffffВдова|r = |c0000FF00Кости Страха|r + |cffffa500Алебарда Похоти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[16]="|cff00ffffИспивающий душу|r = |cff00ffffГолод Страха|r + |cff9932ccДемонический слиток|r (8) + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[17]="|cff00ffffШок-базука|r = |c0000FF00Электро-булава Дрессировщика|r + |cffffd700Эссенция Жизни|r + |c00FF8040Арканитовая ракетница|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[18]="|cff00ffffЭлектрическая клешня|r = |c0000FF00Электро-булава Дрессировщика|r + |cffabababКлешня гигантского арахнида|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[19]="|cff00ffffОшейник Подчинения|r = |c0000FF00Венец Похоти|r + |cff9932ccЭссенция Огня|r + |c0000FF00Ошейник Дрессировщика|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[20]="|cff00ffffОжерелье Достатка|r = |cff00ffffАмулет продажности|r + |cffffa500Ожерелье Фиалка|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[21]="|cff00ffffПолыхалка R-13|r = |cff00ffffПрожигатель|r + |c0000FF00Воспламенитель|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[22]="|cff00ffffБроня Разврата|r = |c0000FF00Силовая броня|r + |cffffd700Эссенция Жизни|r + |cff00ffffПохотливая броня|r + |cff00ffffНакидка амазонки|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[23]="|cff00ffffДоспех Инквизитора|r = |c0000FF00Рог Зависти|r + |c0000FF00Сердце Зависти|r + |cff00ffffДоспех дознавателя|r + |cff00ffffПугающий тулуп|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[24]="|cff00ffffЭксперимент-ХВ00-М|r = |c0000FF00Зелья Шиззла|r + |cff00ffffДушеглот|r + |cff00ffffОсколочный миноукладчик|r + |cff00ffffКислобум-8000|r;\n |cff00bfffКрафтится в Великой кузнице"
set N5[25]="|cff00ffffНейрохилотрон-500|r = |cff00ffffНейро-балон|r + |cff00ffffПылающий восполнитель|r + |c0000FF00Дневник Шиззла|r + |c0000FF00Зелья Шиззла|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[1]="|cff00ffffСмертельная сущность|r = |cff9932ccЯрость|r + |c0000FF00Перст Смерти|r;\n |cff00bfffКрафтится в любой кузнице"
set N6[2]="|cff00ffffАмулет Глотателя Душ|r = |cff9932ccЧревоугодие|r + |c0000FF00Амулет Смерти|r;\n |cff00bfffКрафтится в любой кузнице"
set N6[3]="|cff00ffffМаска Некромантии|r = |c0000FF00Арахнидский шлем|r + |c0000FF00Накидка Смерти|r;\n |cff00bfffКрафтится в любой кузнице"
set N6[4]="|cffff4500Сет Шиззла v2.0|r = |cffffa500Сет Шиззла|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Кузнице Света"
set N6[5]="|cffff4500Сет Смерти v2.0|r = |cffffa500Сет Смерти|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N6[6]="|cff00ffffГолос Смерти|r = |c0000FF00Накидка Смерти|r + |cff00ffffКостюм ученого|r;\n |cff00bfffКрафтится в любой кузнице"
set N6[7]="|cffffa500Сет Смерти|r = |c0000FF00Амулет Смерти|r + |c0000FF00Накидка Смерти|r + |c0000FF00Перст Смерти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[8]="|cffffa500Перчатка Армагедона|r = |c0000FF00Перст Смерти|r + |cff00ffffПерчатка Уничтожения|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[9]="|cffff4500Перчатки Армагедона v2.0|r = |cffffa500Перчатка Армагедона|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N6[10]="|cff00ffffМогильный холод|r = |c0000FF00Амулет Смерти|r + |c0000FF00Кандалы Зависти|r + |cffabababСломанная печать врат|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[11]="|cff00ffffНепрощающий|r = |cff00ffffДушеглот|r + |c0000FF00Сердце Зависти|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[12]="|cff00ffffСловарь Демонов|r = |c0000FF00Язык Страха|r + |c0000FF00Сердце Зависти|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[13]="|cff00ffffШлем Воеводы|r = |c0000FF00Амулет Вождя Огров|r + |c0000FF00Шлем Шиззла|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[14]="|cff00ffffДушежог-3000-G|r = |cff00ffffКипятильник Страха|r + |c0000FF00Воспламенитель|r + |cff00ffffПрожигатель|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[15]="|cff00ffffЗолотая лихорадка|r = |c0000FF00Резак Зависти|r + |c0000FF00Жнец|r + |c0000FF00Несправедливость|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[16]="|cff00ffffШаги Смерти|r = |cff00ffffКогти антиматерии|r + |cff00ffffШипастые сапоги|r + |c0000FF00Перст Смерти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[17]="|cff00ffffРассекатель душ|r = |cff00ffffПродавец душ|r + |cffffa500Алебарда Похоти|r + |c0000FF00Жнец|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[18]="|cff00ffffУбийца королей|r = |c0000FF00Несправедливость|r + |c0000FF00Клык Зависти|r + |cff00ffffЭкзотика|r + |cff00ffffСмотрящая в душу|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[19]="|cff00ffffВредная клешня|r = |cff00ffffЭлектрическая клешня|r + |cff00ffffАлмазные когти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[20]="|cff00ffffДух проклятого Зверя|r = |cff00ffffОжерелье Достатка|r + |cff00ffffПорочный мультицвет|r + |cff00ffffКогтистый страж|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[21]="|cff00ffffМеч Пустоты|r = |cff9932ccДемоническая удочка|r + |cff00ffffОстрейший Рогоклык|r + |c0000FF00Несправедливость|r + |cff00ffffПугатель|r + |cff00ffffЛьстец|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[22]="|cff00ffffНавязчивое пламя|r = |cff00ffffКислотная граната|r + |cff00ffffИспивающий душу|r + |cff00ffffПохотливый Ужас|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[23]="|cff00ffffКорона Севера|r = |cff00ffffВероломный шлем|r + |cff00ffffШлем Воеводы|r + |cff00ffffМогильный холод|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[24]="|cff00ffffДоспех Палача|r = |cff00ffffДоспех Инквизитора|r + |cff00ffffГолос Смерти|r + |cff9932ccЭссенция Огня|r + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[25]="|cff00ffffДоспех Жреца Смерти|r = |cff00ffffМаска Некромантии|r + |cff00ffffСловарь Демонов|r + |cff00ffffДоспех Паучьего Жреца|r;\n |cff00bfffКрафтится в Великой кузнице"
set N6[26]="|cff00ffffКапкан Страданий|r = |cff00ffffОстрейший Рогоклык|r + |c0000FF00Кандалы Зависти|r + |c0000FF00Сете-пушка Дрессировщика|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[1]="|cffffa500Воплощение зла|r = |c0000FF00Демоническая сущность|r + |cff9932ccЭссенция Огня|r + Книга Времени (9й том);\n |cff00bfffКрафтится в Демонической кузнице"
set N7[2]="|cff00ffffОсквернитель Х-20|r = |cff00ffffДушитель Х-8|r + |cff9932ccНенависть|r + |c0000FF00Перст Смерти|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N7[3]="|cff00ffffБроня Смертника|r = |c0000FF00Ядерный реактор|r + |c0000FF00Накидка Смерти|r + |cff9932ccЭссенция Огня|r + |cff9932ccЭссенция Огня|r + |cff00ffffГлотатель Страха|r + Гоблинский бронежилет;\n |cff00bfffКрафтится в Демонической кузнице"
set N7[4]="|c0000FF00Дракончик|r = |cffabababЯйцо дракона|r + |c0000FF00Демоническая сущность|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N7[5]="|cffffa500Дракон|r = |c0000FF00Дракончик|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N7[6]="|cffff4500Боевой дракон|r = |cffffa500Дракон|r + |cff9932ccЭссенция Огня|r;\n |cff00bfffКрафтится в Демонической кузнице"
set N7[7]="|cff00ffffДраконий Амулет|r = |cffffa500Обсидиановый Индиго|r + |cffabababДраконья чешуя|r + |cffabababДраконья чешуя|r;\n |cff00bfffКрафтится в Кузнице Света"
set N7[8]="|cff00ffffДраконий Медальон|r = |cffffa500Обсидиановая фиалка|r + |cffabababДраконья чешуя|r + |cffabababДраконья чешуя|r;\n |cff00bfffКрафтится в Кузнице Света"
set N7[9]="|cff00ffffДраконье Ожерелье|r = |cffffa500Обсидиановый лайм|r + |cffabababДраконья чешуя|r + |cffabababДраконья чешуя|r;\n |cff00bfffКрафтится в Кузнице Света"
set N7[10]="|cff00ffffДьявольская Маска|r = |cff00ffffОчки обмана|r + |cff00ffffМаска Ужаса|r + |cff00ffffОжерелье Достатка|r + |c0000FF00Демоническая сущность|r + |cff00ffffМедальон Кошмаров|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[11]="|cff00ffffКогти Демона|r = |cff00ffffАлмазные когти|r + |c0000FF00Демоническая сущность|r + |cff00ffffШипастые сапоги|r + |cff9932ccДемонический слиток|r (5);\n |cff00bfffКрафтится в Великой кузнице"
set N7[12]="|cff00ffffКровавый Пакт|r = |cff00ffffНепрощающий|r + |cff00ffffЦарская Любовь|r + |cff00ffffНейрохилотрон-500|r + |cff00ffffСловарь Демонов|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[13]="|cff00ffffПустотник|r = |cff00ffffШок-базука|r + |cff00ffffБесстрашный воин|r + |cff00ffffЖажда наживы|r + |cff00ffffВорчун|r + |cff9932ccДемонический слиток|r (5);\n |cff00bfffКрафтится в Великой кузнице"
set N7[14]="|cff00ffffПожирающий огонь|r = |cff00ffffСмертельная сущность|r + |cff00ffffДушежог-3000-G|r + |cff00ffffПолыхалка R-13|r + |cff00ffffПытатель-135-F|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[15]="|cff00ffffСмертельная Кирка|r = |cff00ffffНестабильный конвертер|r + |cff00ffffАлхимические когти|r + |cff00ffffШаги Смерти|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[16]="|cff00ffffШоквинтовка-XL|r = |cff00ffffСонный парализатор|r + |cff00ffffГромовержец|r;\n |cff00bfffКрафтится в Великой кузнице"
set N7[17]="|cff00ffffБезудержность|r = |cff00ffffКолючий Преградитель|r + |cff00ffffБроня Разврата|r + |cff00ffffГолод Страха|r;\n |cff00bfffКрафтится в Великой кузнице"
set Ny[1]="|cff00ffffДраконья Слеза|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffMEGA-HealPack|r + |cffabababРецепт: Драконья Слеза|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[2]="|cff00ffffДраконье Дыхание|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffMr. Жаров|r + |cffabababРецепт: Драконье Дыхание|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[3]="|cff00ffffДраконий Коготь|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffБешеный|r + |cffabababРецепт: Драконий Коготь|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[4]="|cff00ffffДраконий Характер|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffКрашер|r + |cffabababРецепт: Драконий Характер|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[5]="|cff00ffffДраконье Око|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffЛедяная кара|r + |cffabababРецепт: Драконье Око|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[6]="|cff00ffffДраконья Душа|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffОхотник|r + |cffabababРецепт: Драконья Душа|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[7]="|cff00ffffДраконий Крик|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r + |cff00ffffСэмюэль Старший|r + |cffabababРецепт: Драконий Крик|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[8]="|cff00ffffДраконий Разум|r = |cffabababЭкзорцист|r + |cffff4500Боевой дракон|r + |cffabababАмулет Изгнания|r + |cffabababДраконья чешуя|r +  + |cffabababРецепт: Драконий Разум|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[9]="|cffffa500Доспехи Дракона|r = |cffff4500Доспехи Легиона v2.0|r + |cffabababДраконья чешуя|r + |cffff4500Боевой дракон|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[10]="|cffffa500Клинок Дракона|r = |c0000FF00Жнец|r + |c0000FF00Несправедливость|r + |cff9932ccЭссенция Огня|r + |cff00ffffВдова|r + |cffabababДраконья чешуя|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[11]="|cff00ffffОдержимый Амулет|r = |cff00ffffДраконий Амулет|r + |c0000FF00Демоническая сущность|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[12]="|cff00ffffОдержимый Медальон|r = |cff00ffffДраконий Медальон|r + |c0000FF00Демоническая сущность|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[13]="|cff00ffffОдержимое Ожерелье|r = |cff00ffffДраконье Ожерелье|r + |c0000FF00Демоническая сущность|r;\n |cff00bfffКрафтится в Демонической кузнице"
set Ny[14]="|cff00ffffАмулет Бесконечности|r = |cff00ffffОдержимый Амулет|r + |cff7fff00Адамантитовый слиток|r (5) + |cffabababСущность Времени|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице"
set Ny[15]="|cff00ffffМедальон Бесконечности|r = |cff00ffffОдержимый Медальон|r + |cff7fff00Адамантитовый слиток|r (5) + |cffabababСущность Времени|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице"
set Ny[16]="|cff00ffffОжерелье Бесконечности|r = |cff00ffffОдержимое Ожерелье|r + |cff7fff00Адамантитовый слиток|r (5) + |cffabababСущность Времени|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице"
set Ny[17]="|cff00ffffДемонический Шлем|r = |cff00ffffНавязчивое пламя|r + |cff00ffffМаска Ужаса|r + |c0000FF00Шлем Шиззла|r + |c0000FF00Демоническая сущность|r;\n |cff00bfffКрафтится в Великой кузнице"
set Ny[18]="|cff00ffffМощь Титанов|r = |cffffa500Воплощение зла|r + |cffabababДраконья чешуя|r + |cffabababАмулет Изгнания|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r + |cff00ffffПылающий восполнитель|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[19]="|cff00ffffГенератор Разрушения|r = |cffffa500Воплощение зла|r + |cffabababДраконья чешуя|r + |cff9932ccЭссенция Огня|r + |c0000FF00Ториевый нейро-генератор|r + |cff00ffffСмертельная сущность|r + |cff00ffffПылающий восполнитель|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[20]="|cff00ffffКлинок Вечности|r = |cffffa500Клинок Дракона|r + |cff00ffffМеч Пустоты|r + |cff00ffffРассекатель душ|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[21]="|cff00ffffПечать вечного изгнания|r = |cffabababАмулет Изгнания|r + |cff00ffffДоспех Палача|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[22]="|cff00ffffДоспехи Лича|r = |cff00ffffДоспех Жреца Смерти|r + |cff00ffffКорона Севера|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[23]="|cff00ffffДневник Времени|r = |cff00ffffСловарь Демонов|r + |c0000FF00Дневник Шиззла|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[24]="|cff00ffffДуша Титана|r = |cff00ffffМощь Титанов|r + |cff00ffffДух проклятого Зверя|r + |cffabababСущность Времени|r + |cffffd700Эссенция Жизни|r + |cffffd700Эссенция Жизни|r + Зелье невидимости;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[25]="|cff00ffffАдские муки|r = |cff00ffffНавязчивое пламя|r + |cff00ffffКапкан Страданий|r + |cff00ffffПродавец душ|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[26]="|cff00ffffДемонический реактор|r = |cff00ffffДемонический Шлем|r + |cff00ffffГенератор Разрушения|r + |cff00ffffКогти Демона|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[27]="|cff00ffffКровобот-666|r = |cff00ffffКровавый Пакт|r + |cff00ffffТехбрат-25Т|r + |cffff4500Боевой дракон|r + |cffabababСущность Времени|r + |cff00ffffДьявольская Маска|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[28]="|cff00ffffПустотный запальник|r = |cff00ffffГенератор Разрушения|r + |cffff4500Боевой дракон|r + |cff00ffffШаги Смерти|r + |cffabababСущность Времени|r + |cff00ffffПустотник|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[29]="|cff00ffffАдская буря|r = |cff00ffffМогильный холод|r + |cff00ffffПожирающий огонь|r + |cffff4500Боевой дракон|r + |cffabababСущность Времени|r + |cff00ffffДоспех Палача|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[30]="|cff00ffffВневременная кирка|r = |cffffa500Клинок Дракона|r + |cffabababСущность Времени|r + |cff00ffffСмертельная Кирка|r + |cff00ffffВредная клешня|r + Зелье скорости;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[31]="|cff00ffffРазрушитель Времени|r = |cffabababСущность Времени|r + |cffff4500Боевой дракон|r + |cff00ffffДух проклятого Зверя|r + |cff00ffffЭксперимент-ХВ00-М|r + |cff00ffffБроня Смертника|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[32]="|cff00ffffСтиратель Личности|r = |cff00ffffМеч Пустоты|r + |cffffa500Клинок Дракона|r + |cffabababСущность Времени|r + |cff00ffffШоквинтовка-XL|r + |cff00ffffУбийца королей|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[33]="|cff00ffffРазрыватель Реальности|r = |cff00ffffКогти Демона|r + |cff00ffffКапкан Страданий|r + |cffabababСущность Времени|r + |cff00ffffБезудержность|r + |cff00ffffКорона Севера|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Ny[34]="|cff00ffffВневременный Палач|r = |cffabababСущность Времени|r + |cff00ffffРассекатель душ|r + |cff00ffffПылающий пронзатель|r + |cff00ffffОсквернитель Х-20|r + |cff00ffffДоспех Палача|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[1]="|cff00ffffДоспехи Титана|r = |cffffa500Доспехи Дракона|r + |cff00ffffДуша Титана|r + |cff7fff00Адамантитовый слиток|r (5) + |cffabababСущность Времени|r + |cffabababДраконья чешуя|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[2]="|cff00ffffВыноситель (Сет Охотника)|r = |cff7fff00Адамантитовый слиток|r (10) + |cffabababНано-оптикуляр|r + |cffabababНано-гиблердрайв|r + |cffabababНано-холождойзер|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[3]="|cff00ffffКоллапсо (Сет Горного Короля)|r = |cffabababВисконитовый взрыватель|r + |cffabababСитарактовый процессор|r + |cffabababСлактоковый кожух|r + |cff7fff00Адамантитовый слиток|r (10) + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[4]="|cff00ffffДоспех Миротворца|r = |cff00ffffДоспехи Титана|r + |cff00ffffМедальон Бесконечности|r + |cff7fff00Адамантитовый слиток|r + |cffff69b4Кобальтовый слиток|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[5]="|cff00ffffМеч Миротворца|r = |cff00ffffДоспехи Титана|r + |cff00ffffПечать вечного изгнания|r + |cffff69b4Кобальтовый слиток|r (10) + |cff00ffffАмулет Бесконечности|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[6]="|cff00ffffПлащ Жизнетворца|r = |cff00ffffДоспехи Титана|r + |cff00ffffДоспехи Лича|r + |cff7fff00Адамантитовый слиток|r + |cffff69b4Кобальтовый слиток|r (10) + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[7]="|cff00ffffАннигилятор-АТ|r = |cff00ffffДневник Времени|r + |cff00ffffКлинок Вечности|r + |cff00ffffОжерелье Бесконечности|r + |cff00ffffАдские муки|r + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[8]="|cff00ffffИзначальная Жизнь|r = |cff00ffffДуша Титана|r + |cff00ffffКровобот-666|r + |cff00ffffДраконья Слеза|r + |cffff69b4Кобальтовый слиток|r (12) + |cff7fff00Адамантитовый слиток|r (5);\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[9]="|cff00ffffЧерная Дырочка|r = |cff00ffffДемонический реактор|r + |cff00ffffПустотный запальник|r + |cff00ffffДраконий Крик|r + |cffff69b4Кобальтовый слиток|r (12) + |cff7fff00Адамантитовый слиток|r (5);\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[10]="|cff00ffffМагмовое Ядро|r = |cff00ffffДемонический реактор|r + |cff00ffffДраконье Дыхание|r + |cff00ffffАдская буря|r + |cff9932ccЭссенция Огня|r + |cffff69b4Кобальтовый слиток|r (12);\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[11]="|cff00ffffТерраформер|r = |cff00ffffДуша Титана|r + |cff00ffffДраконий Разум|r + |cff00ffffВневременная кирка|r + |cffff69b4Кобальтовый слиток|r (12) + |cffffd700Эссенция Жизни|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[12]="|cff00ffffСверхновая|r = |cff00ffffДуша Титана|r + |cff00ffffДраконий Характер|r + |cff00ffffРазрушитель Времени|r + |cffff69b4Кобальтовый слиток|r (12) + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[13]="|cff00ffffКузнец Судеб|r = |cff00ffffДемонический реактор|r + |cff00ffffСтиратель Личности|r + |cff00ffffДраконье Око|r + |cffff69b4Кобальтовый слиток|r (12) + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[14]="|cff00ffffДвигатель Вселенной|r = |cff00ffffРазрыватель Реальности|r + |cff00ffffДемонический реактор|r + |cff00ffffДраконья Душа|r + |cffff69b4Кобальтовый слиток|r (12);\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[15]="|cff00ffffРазрушитель Бытия|r = |cff00ffffДемонический реактор|r + |cff00ffffДраконий Коготь|r + |cff00ffffВневременный Палач|r + |cffff69b4Кобальтовый слиток|r (12) + |cff7fff00Адамантитовый слиток|r (5) + |cffabababСущность Времени|r;\n |cff00bfffКрафтится в Вневременной кузнице"
set Nz[16]="|cffda70d6Сет Рабовладельца v3.0|r = |cffffa500Сет Рабовладельца|r + |cffff4500Сет Рабовладельца v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[17]="|cffda70d6Арахнидский камень v3.0|r = |cff00ffffАрахнидский камень|r + |cffff4500Арахнидский Камень v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[18]="|cffda70d6Радужный скелет v3.0|r = |cffffa500Радужный скелет|r + |cffff4500Радужный скелет v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[19]="|cffda70d6КУС-500рмк v3.0|r = |cffffa500Экзоскелет КУС-500rmk|r + |cffff4500Экзоскелет КУС-500 v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[20]="|cffda70d6Циркулярка v3.0|r = |cffffa500Ториевая циркулярная пила|r + |cffff4500Циркулярка v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[21]="|cffda70d6Сет Похоти v3.0|r = |cffffa500Сет Похоти|r + |cffff4500Сет Похоти v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[22]="|cffda70d6Сет Аккуратерса v3.0|r = |cffffa500Сет Аккуратерса|r + |cffff4500Сет Аккуратерса v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[23]="|cffda70d6Сет Бомбса v3.0|r = |cffffa500Сет Бомбса|r + |cffff4500Сет Бомбса v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[24]="|cffda70d6Сет Сапера v3.0|r =  + |cffff4500Сет Сапёра v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[25]="|cffda70d6Сет Алчности v3.0|r = |cffffa500Сет Алчности|r + |cffff4500Сет Алчности v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[26]="|cffda70d6Сила демона v3.0|r = |cffffa500Сила Демона|r + |cffff4500Сила Демона v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[27]="|cffda70d6Сет Хазула v3.0|r = |cffffa500Сет Хазула|r + |cffff4500Сет Хазула v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[28]="|cffda70d6Сет Страха v3.0|r = |cffffa500Сет Страха|r + |cffff4500Сет Страха v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[29]="|cffda70d6Сет Дрессировщика v3.0|r = |cffffa500Сет Дрессировщика|r + |cffff4500Сет Дрессировщика v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[30]="|cffda70d6Доспехи Легиона v3.0|r = |cffffa500Доспехи Легиона|r + |cffff4500Доспехи Легиона v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[31]="|cffda70d6Сет Зависти v3.0|r = |cffffa500Сет Зависти|r + |cffff4500Сет Зависти v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[32]="|cffda70d6Сет Шиззла v3.0|r = |cffffa500Сет Шиззла|r + |cffff4500Сет Шиззла v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[33]="|cffda70d6Перчатка Армагедона v3.0|r = |cffffa500Перчатка Армагедона|r + |cffff4500Перчатки Армагедона v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
set Nz[34]="|cffda70d6Сет Смерти v3.0|r = |cffffa500Сет Смерти|r + |cffff4500Сет Смерти v2.0|r + |cffff69b4Кобальтовый слиток|r (10) + |cff7fff00Адамантитовый слиток|r (20);\n |cff00bfffКрафтится в Великой кузнице 2.0"
endfunction
function ee takes unit HD,integer Hy returns boolean
local item Rf
local integer H9=0
loop
set Rf=UnitItemInSlot(HD,H9)
if Rf!=null then
if GetItemTypeId(Rf)==Hy then
set Rf=null
return true
endif
endif
set H9=H9+1
set Rf=null
exitwhen H9>5
endloop
return false
endfunction
function ef takes unit HD,integer IT,integer Si,integer Sj,integer Sk,integer Sl,integer Sm,integer Sn,integer So,boolean Sp,integer Sq,integer Sr,integer Ss,integer St,integer Su,integer Sv,integer Sw,integer Sx returns integer
local integer array Sy
local boolean array Sz
local boolean array S0
local item array S1
local boolean S2=true
set Sy[1]=Si
set Sy[2]=Sj
set Sy[3]=Sk
set Sy[4]=Sl
set Sy[5]=Sm
set Sy[6]=Sn
set Sy[7]=GetItemTypeId(UnitItemInSlot(HD,0))
set Sy[8]=GetItemTypeId(UnitItemInSlot(HD,1))
set Sy[9]=GetItemTypeId(UnitItemInSlot(HD,2))
set Sy[10]=GetItemTypeId(UnitItemInSlot(HD,3))
set Sy[11]=GetItemTypeId(UnitItemInSlot(HD,4))
set Sy[12]=GetItemTypeId(UnitItemInSlot(HD,5))
set Sz[1]=false
set Sz[2]=false
set Sz[3]=false
set Sz[4]=false
set Sz[5]=false
set Sz[6]=false
set S0[1]=false
set S0[2]=false
set S0[3]=false
set S0[4]=false
set S0[5]=false
set S0[6]=false
set Si=1
set Sj=1
loop
exitwhen Si>So
loop
exitwhen Sj>6
if S0[Sj]==false then
if Sy[Si]==Sy[6+Sj] then
set Sz[Si]=true
set S0[Sj]=true
set S1[Si]=UnitItemInSlot(HD,Sj-1)
set Sj=10
endif
endif
set Sj=Sj+1
endloop
set Si=Si+1
set Sj=1
if Sz[Si-1]==false then
set S2=false
set Sj=10
set Si=10
endif
endloop
if S2 then
set Sy[7]=Sr
set Sy[8]=Ss
set Sy[9]=St
set Sy[10]=Su
set Sy[11]=Sv
set Sy[12]=Sw
if Sq>0 then
set Si=1
loop
exitwhen Si>6
if Sy[Si+6]>GetItemCharges(S1[Si]) then
set S2=false
set Si=10
endif
set Si=Si+1
endloop
endif
endif
if S2 then
set Si=1
loop
exitwhen Si>So
set Sy[Si]=GetItemUserData(S1[Si])
set Si=Si+1
endloop
set Si=1
set Sj=0
set Sk=0
set Sl=0
set Sm=0
set Sn=0
loop
exitwhen Si>So
if Sy[Si]<1 or Sy[Si]>10 then
set Sn=Sn+1
else
if Sj==0 then
set Sj=Sy[Si]
set Sk=1
else
if Sy[Si]==Sj then
set Sk=Sk+1
else
if Sl==0 then
set Sl=Sy[Si]
set Sm=1
else
if Sy[Si]==Sl then
set Sm=Sm+1
else
set S2=false
endif
endif
endif
endif
endif
set Si=Si+1
endloop
endif
if S2 then
if Sn+Sk==So then
set Si=Sj
else
if Sp and Sm==1 and Sn+Sm+Sk==So then
set Si=Sj
else
if Sp and Sk==1 and Sn+Sm+Sk==So then
set Si=Sl
else
set S2=false
endif
endif
endif
endif
if S2 then
set Sj=1
loop
exitwhen Sj>6
if Sy[Sj+6]<GetItemCharges(S1[Sj]) then
call SetItemCharges(S1[Sj],GetItemCharges(S1[Sj])-Sy[Sj+6])
else
call RemoveItem(S1[Sj])
endif
set Sj=Sj+1
endloop
if Sx>0 then
if UnitHasItemOfTypeBJ(HD,IT) then
call SetItemCharges(GetItemOfTypeFromUnitBJ(HD,IT),GetItemCharges(GetItemOfTypeFromUnitBJ(HD,IT))+Sx)
else
call SetItemCharges(UnitAddItemById(HD,IT),Sx)
endif
else
call SetItemUserData(UnitAddItemById(HD,IT),Si)
endif
else
set Si=42
endif
set HD=null
set Sj=1
loop
exitwhen Sj>So
set S1[Sj]=null
set Sj=Sj+1
endloop
return Si
endfunction
function eg takes unit HD returns nothing
call ef(HD,$49303439,$49303438,$49303149,$49303149,$49303056,0,0,4,false,1,0,0,0,5,0,0,0)
call ef(HD,$49303441,$49303438,$49303149,$49303149,$49303057,0,0,4,false,1,0,0,0,5,0,0,0)
call ef(HD,$49303442,$49303438,$49303149,$49303149,$49303055,0,0,4,false,1,0,0,0,5,0,0,0)
call ef(HD,$49303443,$49303438,$49303149,$49303149,$49303054,0,0,4,false,1,0,0,0,5,0,0,0)
call ef(HD,$49303051,$4930304F,$49303039,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303052,$4930304E,$49303039,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303053,$49303050,$49303039,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303058,$49303056,$49303043,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303059,$49303056,$49303046,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$4930305A,$49303056,$49303044,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303130,$49303056,$49303045,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303131,$49303056,$49303047,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303133,$49303056,$49303132,0,0,0,0,2,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303134,$49303042,$49303041,$49303039,$49303034,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303135,$49303036,$49303057,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49303136,$49303035,$49303057,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49303137,$49303048,$49303049,$4930304A,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303138,$4930304D,$4930304A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303139,$4930304B,$49303049,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303141,$4930304C,$49303048,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303142,$4930304B,$4930304C,$4930304D,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303143,$49303043,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303144,$49303047,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303145,$49303045,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303146,$49303046,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303147,$49303132,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303148,$49303044,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314A,$49303149,$49303056,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314B,$49303149,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314C,$49303149,$49303057,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314D,$49303149,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314E,$49303044,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$4930314F,$49303132,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303150,$49303043,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303151,$49303045,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303152,$49303046,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303153,$49303047,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303154,$49303030,0,0,0,0,0,1,false,1,1,0,0,0,0,0,20)
call ef(HD,$49303155,$49303031,0,0,0,0,0,1,false,1,1,0,0,0,0,0,20)
call ef(HD,$49303156,$49303032,0,0,0,0,0,1,false,1,1,0,0,0,0,0,20)
call ef(HD,$49303157,$49303033,0,0,0,0,0,1,false,1,1,0,0,0,0,0,20)
call ef(HD,$4930315A,$49303042,$49303050,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303230,$49303041,$4930304F,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303231,$49303034,$4930304E,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303234,$49303158,$49303037,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49303247,$49303241,$49303054,$49303037,0,0,0,3,false,2,0,10,5,0,0,0,0)
call ef(HD,$49303248,$49303134,$49303137,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303249,$49303142,$49303248,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303249,$49303134,$49303138,$49303139,$49303141,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930324C,$49303236,$49303152,$49303157,0,0,0,3,false,1,0,0,50,0,0,0,0)
call ef(HD,$4930324F,$49303236,$49303151,$49303157,0,0,0,3,false,1,0,0,50,0,0,0,0)
call ef(HD,$49303254,$49303234,$49303034,0,0,0,0,2,false,1,1,0,0,0,0,0,5)
call ef(HD,$49303257,$49303235,$4930314D,$49303150,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303258,$49303136,$49303135,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303259,$49303258,$49303149,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303332,$49303238,$49303153,$49303033,0,0,0,3,false,1,0,0,10,0,0,0,0)
call ef(HD,$49303335,$49303239,$4930314F,$49303157,0,0,0,3,false,1,0,0,50,0,0,0,0)
call ef(HD,$49303336,$49303158,$49303038,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49303337,$49303336,$49303034,0,0,0,0,2,false,1,1,0,0,0,0,0,5)
call ef(HD,$49303343,$49303339,$49303336,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303344,$49303341,$49303055,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49303345,$49303342,$49303055,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$4930334A,$49303349,0,0,0,0,0,1,false,1,5,0,0,0,0,0,0)
call ef(HD,$49303356,$4930334D,$49303150,$49303150,$49303150,$49303150,$49303150,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303357,$49303150,$49303150,$49303150,$49303150,$4930314C,$4930334E,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303358,$4930314E,$4930314E,$4930314E,$4930314E,$4930314C,$4930334F,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303359,$49303149,$49303149,$49303149,$49303350,$49303039,$49303138,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930335A,$49303039,$49303336,$49303234,$4930314F,$4930314F,$49303351,6,false,2,0,5,5,0,0,0,0)
call ef(HD,$49303430,$49303039,$49303153,$49303153,$49303153,$49303153,$49303352,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303431,$49303152,$49303152,$49303152,$49303152,$4930314B,$49303353,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303432,$49303151,$49303151,$49303151,$49303151,$49303038,$49303354,6,false,1,0,0,0,0,4,0,0)
call ef(HD,$49303437,$49303030,$49303031,0,0,0,0,2,false,2,1,1,0,0,0,0,0)
call ef(HD,$49303438,$49303336,$49303259,$49303056,0,0,0,3,false,2,5,0,5,0,0,0,0)
call ef(HD,$49303450,$4930344B,$4930305A,$49303056,0,0,0,3,false,1,0,0,20,0,0,0,0)
call ef(HD,$49303451,$4930344D,$49303042,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303452,$4930344C,$4930314C,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303453,$4930344F,$49303248,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303454,$4930344E,$49303154,$49303155,$49303156,$49303157,0,5,false,4,0,50,50,50,50,0,0)
call ef(HD,$49303533,$4930345A,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$49303534,$49303537,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$49303535,$49303533,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$49303536,$49303535,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303537,$49303530,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$49303538,$49303534,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303539,$49303459,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$49303541,$49303539,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$49303542,$49303541,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303543,$49303532,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$49303544,$49303543,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$49303545,$49303544,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303546,$49303531,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$49303547,$49303546,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$49303548,$49303547,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303549,$49303458,$49303057,0,0,0,0,2,false,2,1,2,0,0,0,0,0)
call ef(HD,$4930354A,$49303549,$49303057,0,0,0,0,2,false,1,0,3,0,0,0,0,0)
call ef(HD,$4930354B,$4930354A,$49303054,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303553,$49303451,$49303453,$49303452,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303633,$49303044,$49303632,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303634,$49303043,$49303632,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303635,$49303045,$49303632,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303636,$49303631,0,0,0,0,0,1,false,1,1,0,0,0,0,0,20)
call ef(HD,$49303637,$49303132,$49303632,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303659,$49303038,$49303037,$49303657,0,0,0,3,false,2,1,1,0,0,0,0,0)
call ef(HD,$4930365A,$49303234,$49303336,$49303657,0,0,0,3,false,2,1,1,0,0,0,0,0)
call ef(HD,$49303730,$49303254,$49303337,$49303657,0,0,0,3,false,2,1,1,0,0,0,0,0)
call ef(HD,$49303747,$49303438,$49303438,$49303054,$49303056,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49303748,$49303438,$49303438,$49303055,0,0,0,3,false,1,0,0,20,0,0,0,0)
call ef(HD,$49303749,$49303548,$49303658,$49303259,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930374A,$49303056,$4930314A,$4930314C,$4930314B,$4930314D,0,5,false,1,20,0,0,0,0,0,0)
call ef(HD,$4930374B,$49303056,$49303337,0,0,0,0,2,false,2,20,1,0,0,0,0,0)
call ef(HD,$4930374C,$49303041,$49303041,$49303055,$49303056,0,0,4,false,2,0,0,10,10,0,0,0)
call ef(HD,$4930374D,$49303748,$49303749,$4930374A,$4930374B,$4930374C,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930374E,$49303149,$49303632,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$4930374F,$4930344A,$4930325A,$49303632,0,0,0,3,false,1,0,0,8,0,0,0,0)
call ef(HD,$49303750,$49303232,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303751,$49304152,$49303259,$49303632,0,0,0,3,false,1,0,0,2,0,0,0,0)
call ef(HD,$49303752,$49303249,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49303853,$49303850,$49303438,$49303542,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303854,$49303851,$49303536,$49303042,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303855,$49303852,$49303530,$49303057,0,0,0,3,false,2,0,2,1,0,0,0,0)
call ef(HD,$49303856,$49303747,$49303632,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49303857,$4930345A,$49303530,$49303459,$49303531,$49303458,$49303532,6,false,6,1,1,1,1,1,1,0)
call ef(HD,$49303858,$49303857,$49303259,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303859,$49303858,$49303249,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930385A,$49303356,$49303257,$49303054,$49303737,$49303937,0,5,false,1,0,0,30,0,0,0,0)
call ef(HD,$49303930,$49303357,$49303257,$49303054,$49303732,$49303938,0,5,false,1,0,0,20,0,0,0,0)
call ef(HD,$49303931,$49303431,$4930324C,$49303054,$49303735,$49303939,0,5,false,1,0,0,15,0,0,0,0)
call ef(HD,$49303932,$4930335A,$49303335,$49303733,$49303941,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303933,$49303359,$49303247,$49303736,$49303942,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303934,$49303430,$49303332,$49303054,$49303734,$49303943,0,5,false,1,0,0,30,0,0,0,0)
call ef(HD,$49303935,$49303432,$4930324F,$49303738,$49303944,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303936,$49303358,$49303652,$49303734,$49303945,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304137,$49303948,$49303056,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304138,$49303948,$49303057,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304139,$49303948,$49303055,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304141,$49303948,$49303054,0,0,0,0,2,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304144,$49303057,$49303055,$49304148,0,0,0,3,false,2,10,10,0,0,0,0,0)
call ef(HD,$49304147,$49303057,$49303438,$49303043,$49304145,0,0,4,false,1,1,0,0,0,0,0,0)
call ef(HD,$49304149,$49303056,$49303438,$49303459,$49304146,0,0,4,false,2,10,0,1,0,0,0,0)
call ef(HD,$49303954,$4930394E,$4930394E,$4930394E,$4930394E,$4930394E,$4930394E,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304154,$49304153,$49303142,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304158,$49304157,$49303458,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49304236,$49303538,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304237,$49303542,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304152,$49303545,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304238,$49303536,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304239,$49303548,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304241,$4930354B,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304242,$49303252,$49303045,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304243,$49303252,$49303044,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304244,$49303252,$49303036,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304247,$49303250,$49303132,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930424D,$49303341,$49303132,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930424E,$49303339,$49303158,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$4930424F,$49303339,$49303249,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304250,$49303342,$49303139,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304251,$49303230,$49303342,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304252,$49303444,$49303142,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304253,$49303444,$49303231,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304254,$49303445,$49303039,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304255,$49303445,$4930304D,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304256,$49303446,$49303451,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304257,$49303446,$49303141,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304258,$49303630,$49303752,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304259,$49303834,$49303259,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304330,$49303835,$49303036,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304332,$49303836,$49303139,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304333,$49303836,$4930315A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304334,$49303947,$4930304D,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304337,$49303946,$49303036,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304338,$49303830,$49303039,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304339,$49303830,$49303139,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304341,$49303955,$49303857,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304343,$4930414D,$49303041,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304346,$4930414C,$4930304B,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304348,$49303750,$49304659,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930434A,$49303751,$49304658,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930434C,$49303231,$4930465A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304353,$49304155,$49303254,$49303337,0,0,0,3,false,2,0,1,1,0,0,0,0)
call ef(HD,$49304355,$49303251,$49303632,0,0,0,0,2,false,1,0,1,0,0,0,0,0)
call ef(HD,$49304356,$49303948,$49303632,0,0,0,0,2,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304358,$49304238,$49304236,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304359,$49304237,$49304239,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930435A,$49304152,$49304241,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304430,$49304151,$49304237,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304433,$49304431,$49304431,$49304431,$49304431,$49304431,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304434,$49304432,$49304432,$49304432,$49304432,$49304432,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304556,$49303932,$49304633,$49303637,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304557,$49303935,$49304634,$49303635,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304558,$49303930,$49304637,$49303634,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304559,$49303936,$49304639,$49303633,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930455A,$49303934,$49304636,$49303633,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304630,$4930385A,$49304638,$49303634,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304631,$49303931,$49304635,$49303635,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304632,$49303933,$49304641,$49303637,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930424B,$49304244,$49303632,0,0,0,0,1,false,1,0,2,0,0,0,0,0)
call ef(HD,$49304646,$49303050,$49303250,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304647,$4930304E,$49303252,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930464F,$49303946,$4930374E,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304650,$49303947,$49303132,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304651,$49303830,$49303045,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304652,$49303947,$49303751,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304654,$4930344A,$49303630,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304731,$4930465A,$49303138,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304739,$49303344,$49303251,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304743,$49303450,$49304243,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304744,$49303454,$49303153,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930474B,$4930395A,$49303443,$4930434E,$49304433,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304759,$49304338,$49304339,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304853,$49303443,$49303056,$49303055,0,0,0,3,false,2,0,100,50,0,0,0,0)
call ef(HD,$4930364A,$49303252,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303650,$49303531,$49303435,$49303149,0,0,0,3,false,1,1,0,0,0,0,0,0)
call ef(HD,$49303652,$4930314E,$49303157,$49303237,0,0,0,3,false,1,0,50,0,0,0,0,0)
set HD=null
endfunction
function eh takes unit HD returns nothing
call ef(HD,$49303232,$49303051,$4930315A,$49303230,$49303231,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303232,$49303052,$4930315A,$49303230,$49303231,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303232,$49303053,$4930315A,$49303230,$49303231,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303233,$49303051,$49303052,$49303053,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303253,$49303250,$49303251,$49303252,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930334B,$49303341,$49303339,$49303342,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930334C,$49303344,$49303343,$49303345,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303447,$49303444,$49303445,$49303446,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930344A,$49303449,$49303448,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303456,$49303453,$49303451,$49303450,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303457,$49303453,$49303451,$49303454,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303630,$49303833,$49303832,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303753,$4930374F,$49303750,$49303751,$49303752,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303754,$49303855,$49303853,$49303854,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303837,$49303834,$49303835,$49303836,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303848,$49303841,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303849,$49303842,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384A,$49303839,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384B,$49303843,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384C,$49303844,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384D,$49303845,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384E,$49303846,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930384F,$49303847,$49303838,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303757,$49303830,$49303946,$49303947,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930414E,$49303955,$4930414C,$4930414D,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304159,$49304154,$49304353,$49304158,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304245,$49303250,$49303042,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304246,$49304245,$4930315A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304248,$4930384A,$49303251,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304249,$49304147,$49304149,$49304144,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930424C,$49303341,$49303047,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930425A,$49303834,$49303043,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304331,$49303835,$49303044,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304335,$49303947,$49303047,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304336,$49303946,$49303043,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304342,$4930414D,$49303046,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304344,$4930414D,$49303043,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304345,$49304150,$4930414C,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304354,$49303233,$4930424A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930464E,$4930464C,$4930464D,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304653,$4930464E,$4930344A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304655,$4930464E,$49303630,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304732,$49304658,$4930465A,$49304659,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304735,$49304659,$49304246,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304741,$49303233,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304742,$4930334B,$49303438,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304745,$4930425A,$49304257,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304747,$49304658,$49304343,$4930325A,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304751,$49303855,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304753,$49304332,$49303345,$49304434,$49304434,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304754,$49304332,$49304333,$49304432,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930475A,$49304254,$49304338,$49304432,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304830,$49304652,$49303632,$49304434,0,0,0,3,false,1,0,8,0,0,0,0,0)
call ef(HD,$49304832,$49304149,$49304433,$4930314E,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304833,$49304149,$49303050,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304839,$49303444,$49304434,$49304144,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304842,$49304330,$49304358,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304843,$49303635,$4930384C,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304846,$49303848,$49304433,$49304254,$49304257,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304847,$49303637,$49303955,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304848,$49303947,$49303955,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304849,$4930424E,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484B,$49304430,$49304154,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484F,$49304651,$4930384C,$49303635,$49304434,$49304434,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304852,$4930414F,$49304733,$49304734,$49304434,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304442,$49303056,$49304643,0,0,0,0,2,false,1,20,0,0,0,0,0,0)
call ef(HD,$49304448,$49303057,$49304645,0,0,0,0,2,false,1,20,0,0,0,0,0,0)
call ef(HD,$49304230,$49303655,$49303758,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304231,$4930375A,$4930414A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304232,$49304156,$4930415A,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304752,$49304347,$49303243,$4930324B,$4930324B,0,0,4,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304756,$4930474C,$49303243,$4930324B,$4930324B,0,0,4,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304757,$49304750,$49303243,$4930324B,$4930324B,0,0,4,false,1,0,5,0,0,0,0,0)
call ef(HD,$49304758,$4930364A,$49304647,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304834,$49304256,$49304259,$49303054,$49303031,0,0,4,false,2,0,0,5,20,0,0,0)
call ef(HD,$49304835,$4930424B,$49304758,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304836,$49304333,$49304646,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304837,$49304337,$4930464F,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304838,$49304834,$49304836,$49303054,$49303531,0,0,4,false,1,0,0,5,0,0,0,0)
call ef(HD,$49304844,$49304751,$49303946,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304845,$4930354B,$4930464C,$49304259,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484A,$49303853,$49304742,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484C,$49304250,$49304332,$49304251,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484D,$49304255,$49303947,$4930435A,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930484E,$49304253,$49304650,$49304247,$49303441,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304850,$49304242,$49303947,$49303752,$49304255,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304851,$49304248,$49304742,$4930464C,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304938,$49304836,$4930374F,$4930464C,$49303750,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304939,$49304150,$49303955,$4930484D,$49304339,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304941,$49304353,$49303637,$4930424C,$49304849,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304942,$4930424D,$49304835,$49304158,$49304353,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304943,$49304836,$4930484C,$49304659,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304944,$49304838,$4930344A,$49304733,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304945,$49304734,$4930414C,$49304745,$49304336,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304946,$49304833,$49304845,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304947,$49304842,$49304341,$49304754,$49304433,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304948,$49304356,$49304345,$49304734,$49304655,$49304654,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304949,$4930424E,$49304830,$4930475A,$49304433,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494A,$49304346,$4930484B,$49304747,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494B,$49304939,$49304731,$49304434,$49304433,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494C,$4930434C,$49304848,$49304741,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494D,$49304345,$49304343,$49304147,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494E,$49304949,$49304334,$49304154,$49304737,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930494F,$49304844,$49304334,$49304842,$49304737,$49304337,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304950,$49304845,$49304737,$4930484C,$49303632,0,0,4,false,1,0,0,0,5,0,0,0)
call ef(HD,$49304951,$49304847,$4930474D,$49304942,$49304848,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304952,$49304832,$49304759,$49304331,$49304743,$49303632,0,5,false,1,0,0,0,0,5,0,0)
call ef(HD,$49304953,$49304348,$4930484F,$49304843,$49304850,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304954,$4930484A,$49304851,$49304943,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304955,$49304837,$49304344,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304956,$49304753,$49304846,$49304652,0,0,0,3,false,0,0,0,0,0,0,0,0)
set HD=null
endfunction
function ei takes unit HD returns nothing
call ef(HD,$49304435,$49303553,$49304433,$49304433,$49304433,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304437,$49303456,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304438,$49304249,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304444,$49303754,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304445,$49304159,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304446,$49303253,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304447,$49303457,$49304433,0,0,0,0,1,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930444A,$4930334B,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930444B,$4930334C,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930444C,$49304354,$49304433,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930444D,$49303859,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303758,$4930435A,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930414A,$49304358,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930415A,$49304359,$49304433,$49304433,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304233,$49304230,$49304855,$49304855,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304234,$49304231,$49304855,$49304855,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304235,$49304232,$49304855,$49304855,0,0,0,3,false,0,0,0,0,0,0,0,0)
set HD=null
endfunction
function ej takes unit HD returns nothing
call ef(HD,$4930434D,$49303753,$49303755,$49303756,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304436,$49303837,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304439,$4930414E,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304441,$49303447,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304443,$49303757,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304449,$4930434D,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930444E,$49304258,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304730,$49304732,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304736,$49304735,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304738,$49304737,$49304434,$49304749,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930474A,$49304342,$4930374F,$49304659,$49304434,$49304434,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304841,$49303849,$4930465A,$49304434,$49304434,$49304335,$49303039,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304856,$49303057,$49303155,$49304433,$49304433,$49304857,0,5,false,2,50,500,0,0,0,0,0)
call ef(HD,$4930485A,$49303336,$49304855,$49303632,$49304856,$49304433,$49304859,6,false,2,10,0,20,0,0,0,0)
call ef(HD,$49304930,$49304933,$49304737,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304931,$49304930,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304932,$49304931,$49304434,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303641,$49304858,$49304932,$4930485A,$49304855,$49304556,$49303555,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303642,$49304858,$49304932,$4930485A,$49304855,$49304557,$49303556,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303643,$49304858,$49304932,$4930485A,$49304855,$49304631,$49303557,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303644,$49304858,$49304932,$4930485A,$49304855,$4930455A,$49303558,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303645,$49304858,$49304932,$4930485A,$49304855,$49304558,$49303559,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303646,$49304858,$49304932,$4930485A,$49304855,$49304630,$4930355A,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303647,$49304858,$49304932,$4930485A,$49304855,$49304559,$49303638,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303648,$49304858,$49304932,$4930485A,$49304855,$49304632,$49303639,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303649,$49304449,$49304855,$49304932,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930364F,$49304733,$49304734,$49304434,$49304653,$49304855,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49303655,$4930435A,$49304434,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930375A,$49304358,$49304434,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304156,$49304359,$49304434,$49304434,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304347,$49304233,$49304737,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930474C,$49304234,$49304737,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304750,$49304235,$49304737,0,0,0,0,2,false,0,0,0,0,0,0,0,0)
set HD=null
endfunction
function ek takes unit HD returns nothing
call ef(HD,$49303054,$49303033,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303055,$49303032,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303056,$49303030,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303057,$49303031,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303632,$49303631,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303952,$49303950,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303953,$49303949,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303956,$4930394C,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303957,$49303951,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303958,$4930394B,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49303959,$4930394F,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49304131,$49304130,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49304132,$49303158,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$49304133,$49304131,$49304132,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304134,$4930395A,$49303959,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304134,$4930395A,$49303956,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304134,$4930395A,$49303952,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304134,$4930395A,$49303953,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304134,$4930395A,$49303957,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304135,$4930395A,$49304143,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304135,$4930395A,$49304131,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304136,$49303958,$4930395A,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304136,$49304132,$4930395A,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304143,$49304142,0,0,0,0,0,1,false,1,1,0,0,0,0,0,1)
call ef(HD,$4930414B,$49303158,$4930394B,0,0,0,0,2,false,2,1,1,0,0,0,0,1)
call ef(HD,$49304B56,$49304656,$4930395A,0,0,0,0,2,false,1,1,0,0,0,0,0,1)
set HD=null
endfunction
function el takes unit HD returns nothing
call ef(HD,$49303732,$49303658,$49303158,$49303531,0,0,0,3,false,2,0,5,1,0,0,0,0)
call ef(HD,$49303733,$49303658,$49303158,$4930345A,0,0,0,3,false,2,0,5,1,0,0,0,0)
call ef(HD,$49303734,$49303658,$49303158,$49303530,0,0,0,3,false,2,0,5,1,0,0,0,0)
call ef(HD,$49303735,$49303658,$49303158,$49303041,0,0,0,3,false,1,0,5,0,0,0,0,0)
call ef(HD,$49303736,$49303658,$49303158,$49303459,0,0,0,3,false,2,0,5,1,0,0,0,0)
call ef(HD,$49303737,$49303658,$49303158,$49303437,0,0,0,3,false,2,0,5,5,0,0,0,0)
call ef(HD,$49303738,$49303658,$49303158,$49303337,0,0,0,3,false,2,0,5,1,0,0,0,0)
set HD=null
endfunction
function em takes unit HD returns nothing
call ef(HD,$49304957,$49304738,$49304855,$4930485A,$49304433,$49304433,$49304835,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304958,$49304738,$49304855,$49304434,$49303344,$49304348,$49304835,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304959,$4930364F,$49304948,$49304944,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930495A,$4930485A,$4930494B,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A30,$4930494C,$4930494A,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A31,$49304848,$49304158,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A32,$49304957,$49304947,$4930324B,$49304433,$49304433,$49303732,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A33,$49304949,$4930494D,$49304838,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A34,$4930494E,$49304958,$49304950,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A35,$49304951,$4930484E,$49304932,$4930324B,$4930494F,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A36,$49304958,$49304932,$49304943,$4930324B,$49304952,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A37,$49304747,$49304953,$49304932,$4930324B,$4930494B,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A38,$4930364F,$4930324B,$49304954,$49304946,$49303735,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A39,$4930324B,$49304932,$49304947,$49304941,$49304841,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A41,$49304948,$4930364F,$4930324B,$49304955,$49304945,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A42,$49304950,$4930494D,$4930324B,$49304956,$4930494A,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A43,$4930324B,$49304944,$49304938,$4930474A,$4930494B,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A44,$49303649,$49304A32,$49303243,$4930324B,$49304855,0,5,false,1,0,0,5,0,0,0,0)
call ef(HD,$49304A45,$49303243,$49304B53,$49304B54,$49304B55,$4930324B,0,5,false,1,10,0,0,0,0,0,0)
call ef(HD,$49304A46,$49304B50,$49304B51,$49304B52,$49303243,$4930324B,0,5,false,1,0,0,0,10,0,0,0)
call ef(HD,$49304A53,$49303253,$49304446,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A54,$49304354,$4930444C,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A55,$49303859,$4930444D,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A56,$4930334C,$4930444B,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A57,$4930334B,$4930444A,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A58,$49303447,$49304441,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A59,$49303553,$49304435,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A5A,$49303456,$49304437,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B30,$49303457,$49304447,$49303246,$49303243,0,0,3,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B31,$49303837,$49304436,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B32,$49304258,$4930444E,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B33,$49303754,$49304444,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B34,$49303757,$49304443,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B35,$49304249,$49304438,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B36,$4930434D,$49304449,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B37,$4930414E,$49304439,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B38,$49304159,$49304445,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B39,$49304735,$49304736,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B41,$49304732,$49304730,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49303243,$49303458,$49303242,0,0,0,0,2,false,2,1,5,0,0,0,0,1)
call ef(HD,$49303246,$49303245,0,0,0,0,0,1,false,1,20,0,0,0,0,0,1)
call ef(HD,$49304442,$49303056,$49304643,0,0,0,0,2,false,1,20,0,0,0,0,0,0)
call ef(HD,$49304448,$49303057,$49304645,0,0,0,0,2,false,1,20,0,0,0,0,0,0)
set HD=null
endfunction
function en takes unit HD returns nothing
call ef(HD,$49304A47,$49304A44,$49304756,$49303243,$49303246,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A48,$49304A44,$4930495A,$49303246,$49304752,0,0,4,false,1,0,0,10,0,0,0,0)
call ef(HD,$49304A49,$49304A44,$49304A30,$49303243,$49303246,$4930324B,0,5,false,1,0,0,0,10,0,0,0)
call ef(HD,$49304A4A,$49304A31,$49304959,$49304757,$49304A33,$4930324B,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A4B,$49304A32,$49304A35,$49303641,$49303246,$49303243,0,5,false,2,0,0,0,12,5,0,0)
call ef(HD,$49304A4C,$49304A34,$49304A36,$49303647,$49303246,$49303243,0,5,false,2,0,0,0,12,5,0,0)
call ef(HD,$49304A4D,$49304A34,$49303642,$49304A37,$49304434,$49303246,0,5,false,1,0,0,0,0,12,0,0)
call ef(HD,$49304A4E,$49304A32,$49303648,$49304A38,$49303246,$49304433,0,5,false,1,0,0,0,12,0,0,0)
call ef(HD,$49304A4F,$49304A32,$49303644,$49304A39,$49303246,$4930324B,0,5,false,1,0,0,0,12,0,0,0)
call ef(HD,$49304A50,$49304A34,$49304A41,$49303645,$49303246,$4930324B,0,5,false,1,0,0,0,12,0,0,0)
call ef(HD,$49304A51,$49304A42,$49304A34,$49303646,$49303246,0,0,4,false,1,0,0,0,12,0,0,0)
call ef(HD,$49304A52,$49304A34,$49303643,$49304A43,$49303246,$49303243,$4930324B,6,false,2,0,0,0,12,5,0,0)
call ef(HD,$49304957,$49304738,$49304855,$4930485A,$49304433,$49304433,$49304835,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304958,$49304738,$49304855,$49304434,$49303344,$49304348,$49304835,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304959,$4930364F,$49304948,$49304944,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$4930495A,$4930485A,$4930494B,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A30,$4930494C,$4930494A,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A31,$49304848,$49304158,$4930324B,0,0,0,3,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A32,$49304957,$49304947,$4930324B,$49304433,$49304433,$49303732,6,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A33,$49304949,$4930494D,$49304838,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A34,$4930494E,$49304958,$49304950,$4930324B,0,0,4,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A35,$49304951,$4930484E,$49304932,$4930324B,$4930494F,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A36,$49304958,$49304932,$49304943,$4930324B,$49304952,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A37,$49304747,$49304953,$49304932,$4930324B,$4930494B,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A38,$4930364F,$4930324B,$49304954,$49304946,$49303735,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A39,$4930324B,$49304932,$49304947,$49304941,$49304841,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A41,$49304948,$4930364F,$4930324B,$49304955,$49304945,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A42,$49304950,$4930494D,$4930324B,$49304956,$4930494A,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A43,$4930324B,$49304944,$49304938,$4930474A,$4930494B,0,5,false,0,0,0,0,0,0,0,0)
call ef(HD,$49304A44,$49303649,$49304A32,$49303243,$4930324B,$49304855,0,5,false,1,0,0,5,0,0,0,0)
call ef(HD,$49304A45,$49303243,$49304B53,$49304B54,$49304B55,$4930324B,0,5,false,1,10,0,0,0,0,0,0)
call ef(HD,$49304A46,$49304B50,$49304B51,$49304B52,$49303243,$4930324B,0,5,false,1,0,0,0,10,0,0,0)
call ef(HD,$49304A53,$49303253,$49304446,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A54,$49304354,$4930444C,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A55,$49303859,$4930444D,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A56,$4930334C,$4930444B,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A57,$4930334B,$4930444A,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A58,$49303447,$49304441,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A59,$49303553,$49304435,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304A5A,$49303456,$49304437,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B30,$49303457,$49304447,$49303246,$49303243,0,0,3,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B31,$49303837,$49304436,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B32,$49304258,$4930444E,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B33,$49303754,$49304444,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B34,$49303757,$49304443,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B35,$49304249,$49304438,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B36,$4930434D,$49304449,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B37,$4930414E,$49304439,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B38,$49304159,$49304445,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B39,$49304735,$49304736,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49304B41,$49304732,$49304730,$49303246,$49303243,0,0,4,false,2,0,0,10,20,0,0,0)
call ef(HD,$49303243,$49303458,$49303242,0,0,0,0,2,false,2,1,5,0,0,0,0,1)
call ef(HD,$49303246,$49303245,0,0,0,0,0,1,false,1,20,0,0,0,0,0,1)
set HD=null
endfunction
function eo takes integer H9 returns boolean
local integer Q2=GetHeroLevel(Qz[H9])
local unit Q4=QG[H9]
local boolean Q3=false
local integer IR=0
if Q2>=95 then
set QG[H9]=ReplaceUnitBJ(QG[H9],$68303358,bj_UNIT_STATE_METHOD_RELATIVE)
set Q3=true
elseif Q2>=80 then
set QG[H9]=ReplaceUnitBJ(QG[H9],$68303357,bj_UNIT_STATE_METHOD_RELATIVE)
set Q3=true
elseif Q2>=65 then
set QG[H9]=ReplaceUnitBJ(QG[H9],$68303251,bj_UNIT_STATE_METHOD_RELATIVE)
set Q3=true
elseif Q2>=50 then
set QG[H9]=ReplaceUnitBJ(QG[H9],$68303250,bj_UNIT_STATE_METHOD_RELATIVE)
set Q3=true
elseif Q2>=35 then
set QG[H9]=ReplaceUnitBJ(QG[H9],$6830324F,bj_UNIT_STATE_METHOD_RELATIVE)
set Q3=true
else
set Q3=true
endif
if Q3 then
call SetUnitInvulnerable(QG[H9],true)
call SetUnitOwner(QG[H9],ConvertedPlayer(H9),true)
loop
exitwhen IR>5
call UnitAddItemSwapped(UnitItemInSlot(Q4,IR),QG[H9])
call SetItemUserData(UnitItemInSlot(QG[H9],IR),GetItemUserData(UnitItemInSlot(Q4,IR)))
set IR=IR+1
endloop
return true
endif
return false
endfunction
function ep takes unit HD returns nothing
local integer S3=GetItemUserData(GetItemOfTypeFromUnitBJ(HD,$49304755))
if GetHeroLevel(Qz[S3])>=20 and MH[S3]==0 then
call SetItemUserData(GetItemOfTypeFromUnitBJ(HD,$49303337),S3)
if ef(HD,$30303030,$49303337,$49304755,$49304831,$49304934,$49304936,$49304935,6,false,1,2,0,0,0,0,0,0)!=42 then
call SetItemUserData(GetItemOfTypeFromUnitBJ(HD,$49303337),0)
set MH[S3]=1
call QuestMessageBJ(GetForceOfPlayer(ConvertedPlayer(S3)),bj_QUESTMESSAGE_COMPLETED,PL[7])
call CreateNUnitsAtLoc(1,$6830324E,GetOwningPlayer(Qz[S3]),GetUnitLoc(Qz[S3]),bj_UNIT_FACING)
set QG[S3]=GetLastCreatedUnit()
call eo(S3)
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endif
endfunction
function eq takes string IF returns nothing
set IG=IH
endfunction
function er takes nothing returns real
return TimerGetElapsed(H4)
endfunction
function es takes nothing returns nothing
local integer H9=0
local string Hy
loop
exitwhen H9>=ID
set Hy=SubString(IE,H9,H9+1)
if Hy==StringCase(Hy,true) then
set Hy=Hy+"U"
endif
call StoreInteger(Hn,"c2i",Hy,H9)
set H9=H9+1
endloop
endfunction
function et takes string IC returns integer
local integer H9
local string Hy=IC
if Hy==StringCase(Hy,true) then
set Hy=Hy+"U"
endif
set H9=GetStoredInteger(Hn,"c2i",Hy)
if H9<0 or H9>=ID or SubString(IE,H9,H9+1)!=IC and HaveStoredInteger(Hn,"c2i",Hy) then
set H9=0
loop
exitwhen H9>=ID
if IC==SubString(IE,H9,H9+1) then
call eq("c2i poisoned")
call StoreInteger(Hn,"c2i",Hy,H9)
exitwhen true
endif
set H9=H9+1
endloop
endif
return H9
endfunction
function eu takes string H6,integer H7 returns integer
local integer H8=StringLength(H6)
local integer IB=H8+H7
local integer H9=0
loop
exitwhen H9>=H8
set IB=IB*41+et(SubString(H6,H9,H9+1))
set H9=H9+1
endloop
return IB
endfunction
function ev takes integer Hy,string Hz returns integer
local integer Hq=ea()
set H3[Hq]=er()+7.+GetRandomReal(0,2+.1*GetPlayerId(GetLocalPlayer()))
set Hr[Hq]=Hz
set H5[Hq]=eu(Hr[Hq],Hy)
set Hp[Hq]=I2S(Hy)
return Hq
endfunction
function ew takes integer Hq returns nothing
call FlushStoredInteger(Hn,Ho+Hp[Hq],Hr[Hq])
call FlushStoredInteger(Hn,Hs+Hp[Hq],Hp[Hq])
set Hr[Hq]=null
set Hp[Hq]=null
set Ht[Hq]=0
endfunction
function ex takes integer Hq returns nothing
if Hq==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Attempt to destroy a null struct of type: MMD___QueueNode")
return
elseif H1[Hq]!=-1 then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000.,"Double free of type: MMD___QueueNode")
return
endif
call ew(Hq)
set H1[Hq]=H0
set H0=Hq
endfunction
function ey takes integer Hq returns nothing
call StoreInteger(Hn,Ho+Hp[Hq],Hr[Hq],H5[Hq])
call StoreInteger(Hn,Hs+Hp[Hq],Hp[Hq],H5[Hq])
call SyncStoredInteger(Hn,Ho+Hp[Hq],Hr[Hq])
call SyncStoredInteger(Hn,Hs+Hp[Hq],Hp[Hq])
endfunction
function ez takes nothing returns boolean
local integer H9=0
local integer H8=0
local integer IN
local integer array IL
local boolean array IM
loop
exitwhen H9>=12
if GetPlayerController(Player(H9))==MAP_CONTROL_USER and GetPlayerSlotState(Player(H9))==PLAYER_SLOT_STATE_PLAYING then
if H8<IG then
set IL[H8]=H9
set IM[H9]=true
else
set IN=GetRandomInt(0,H8)
if IN<IG then
set IM[IL[IN]]=false
set IL[IN]=H9
set IM[H9]=true
endif
endif
set H8=H8+1
endif
set H9=H9+1
endloop
return IM[GetPlayerId(GetLocalPlayer())]
endfunction
function e0 takes string Hw returns nothing
local integer Hx
if not Hv then
return
endif
set Hx=ev(II,Hw)
if IJ==0 then
set IJ=Hx
else
set Ht[IK]=Hx
endif
set IK=Hx
set II=II+1
if ez() then
call ey(Hx)
endif
endfunction
function e1 takes nothing returns nothing
local integer Hx
local integer H9
set Hx=IJ
loop
exitwhen Hx==0 or H3[Hx]>=er()
if not HaveStoredInteger(Hn,Ho+Hp[Hx],Hr[Hx]) then
call eq("message skipping 1")
call ey(Hx)
elseif not HaveStoredInteger(Hn,Hs+Hp[Hx],Hp[Hx]) then
call eq("checksum skipping 2")
call ey(Hx)
elseif GetStoredInteger(Hn,Ho+Hp[Hx],Hr[Hx])!=H5[Hx] then
call eq("message tampering")
call ey(Hx)
elseif GetStoredInteger(Hn,Hs+Hp[Hx],Hp[Hx])!=H5[Hx] then
call eq("checksum tampering")
call ey(Hx)
endif
set IJ=Ht[Hx]
call ex(Hx)
set Hx=IJ
endloop
if IJ==0 then
set IK=0
endif
set H9=0
loop
exitwhen not HaveStoredInteger(Hn,Hs+I2S(II),I2S(II))
call eq("message insertion")
call e0("Blank")
set H9=H9+1
exitwhen H9>=10
endloop
endfunction
function e2 takes string IQ returns string
local integer IR
local integer H9=0
local string IT=""
local string IC
loop
exitwhen H9>=StringLength(IQ)
set IC=SubString(IQ,H9,H9+1)
set IR=0
loop
exitwhen IR>=StringLength(IS)
if IC==SubString(IS,IR,IR+1) then
set IC="\\"+IC
exitwhen true
endif
set IR=IR+1
endloop
set IT=IT+IC
set H9=H9+1
endloop
return IT
endfunction
function e3 takes nothing returns nothing
local integer H9
local trigger Hu
set Hv=true
call e0("init version "+I2S(IO)+" "+I2S(IP))
set H9=0
loop
exitwhen H9>=12
if GetPlayerController(Player(H9))==MAP_CONTROL_USER and GetPlayerSlotState(Player(H9))==PLAYER_SLOT_STATE_PLAYING then
call e0("init pid "+I2S(H9)+" "+e2(GetPlayerName(Player(H9))))
endif
set H9=H9+1
endloop
set Hu=CreateTrigger()
call TriggerAddAction(Hu,function e1)
call TriggerRegisterTimerEvent(Hu,.37,true)
endfunction
function e4 takes nothing returns nothing
local trigger Hu=CreateTrigger()
call TriggerRegisterTimerEvent(Hu,0,false)
call TriggerAddAction(Hu,function e3)
set IU[IV]="none"
set IU[IW]="high"
set IU[IX]="low"
set IY[IZ]="int"
set IY[Ia]="real"
set IY[Ib]="string"
set Ic[Id]="none"
set Ic[Ie]="track"
set Ic[If]="leaderboard"
set Ig[Ih]="+="
set Ig[Ii]="-="
set Ig[Ij]="="
set Ik[Il]="drawer"
set Ik[Im]="loser"
set Ik[In]="winner"
set Ik[Io]="leaver"
set Ik[Ip]="practicing"
call FlushGameCache(InitGameCache(Iq))
set Hn=InitGameCache(Iq)
call TimerStart(H4,$3B9AC9FF,false,null)
call es()
endfunction
function e5 takes item H9,location V7 returns nothing
local integer Tu=1
local unit HD=CreateUnitAtLoc(Player(PLAYER_NEUTRAL_PASSIVE),$68303145,V7,270.)
set Pu=H9
set Pv=HD
call UnitAddItem(HD,H9)
call SetItemDroppable(H9,false)
loop
exitwhen Tu>10
set Ja[Tu]=0
set Tu=Tu+1
endloop
call StartTimerBJ(Jd,false,60.)
call CreateTimerDialogBJ(Jd,GetItemName(H9))
set Pt=GetLastCreatedTimerDialogBJ()
call TriggerRegisterTimerExpireEventBJ(V8,Jd)
call PingMinimapLocForForce(GetPlayersAll(),V7,15)
call RemoveLocation(V7)
endfunction
function e6 takes nothing returns boolean
return GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),T3)==true
endfunction
function e7 takes unit HD,real H9,integer IN,integer RK,integer RL returns nothing
local texttag RM=CreateTextTag()
call SetTextTagColor(RM,IN,RK,RL,255)
call SetTextTagText(RM,I2S(R2I(H9)),.02)
call SetTextTagPos(RM,GetUnitX(HD),GetUnitY(HD),60)
call SetTextTagPermanent(RM,true)
call SetTextTagVelocity(RM,.05*Cos(GetRandomReal(0,360.)*bj_DEGTORAD),.05*Sin(GetRandomReal(0,360.)*bj_DEGTORAD))
call SetTextTagVisibility(RM,true)
call SetTextTagLifespan(RM,1.3)
call SetTextTagFadepoint(RM,.3)
call SetTextTagPermanent(RM,false)
set RM=null
endfunction
function e8 takes unit TV,unit Td,real H9 returns nothing
local real Te
local unit Tc
local real Tf
if IsUnitType(Td,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Te=GetUnitState(Td,UNIT_STATE_LIFE)
set Tc=QF[GetConvertedPlayerId(GetOwningPlayer(TV))]
if Te>1 and H9>1 then
if Te>H9 then
call UnitDamageTarget(Tc,Td,H9,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(Tc,Td,H9,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
set Tf=Te-GetUnitState(Td,UNIT_STATE_LIFE)
if GetUnitState(Td,UNIT_STATE_LIFE)>0 then
if Tf>1 then
call e7(Td,Tf,255,0,0)
endif
else
call e7(Td,H9,255,0,0)
endif
endif
endif
set Td=null
set TV=null
set Tc=null
endfunction
function e9 takes unit TV,location Tb,real Tg,real Th,string Ti returns nothing
local group Tj
local unit Q4
local player G4=GetOwningPlayer(TV)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,Tg,null)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call e8(TV,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget(Ti,Q4,"chest"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endfunction
function fB takes unit TV,unit Td,real H9 returns nothing
local real Tu
if IsUnitType(Td,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Tu=GetUnitState(Td,UNIT_STATE_LIFE)
if H9==0 then
set H9=(100+Iu)*O3
else
set H9=(H9+Iu)*O3
endif
call e8(TV,Td,H9)
endif
set Td=null
set TV=null
endfunction
function fC takes unit TV,unit Td,real H9 returns nothing
local real Tu
if IsUnitType(Td,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Tu=GetUnitState(Td,UNIT_STATE_LIFE)
if H9==0 then
set H9=(500+Iu)*O3
else
set H9=(H9+Iu)*O3
endif
call e8(TV,Td,H9)
endif
set Td=null
set TV=null
endfunction
function fD takes unit TV,unit Td,real H9 returns nothing
local real Tu
if IsUnitType(Td,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Tu=GetUnitState(Td,UNIT_STATE_LIFE)
if H9==0 then
set H9=(1000+Iu)*O3+R2I(GetUnitState(Td,UNIT_STATE_MAX_LIFE)*(.01*I2R(O3)))
else
set H9=R2I(GetUnitState(Td,UNIT_STATE_MAX_LIFE)*(.01*I2R(O3))+H9)
endif
call e8(TV,Td,H9)
endif
set Td=null
set TV=null
endfunction
function fE takes unit TV,location Tb,real Tg,real Th,string Ti returns nothing
local group Tj
local unit Q4
local player G4=GetOwningPlayer(TV)
set Tj=GetUnitsInRangeOfLocAll(Tg,Tb)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call fB(TV,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget(Ti,Q4,"chest"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
endfunction
function fF takes unit TV,location Tb,real Tg,real Th,string Ti returns nothing
local group Tj
local unit Q4
local player G4=GetOwningPlayer(TV)
set Tj=GetUnitsInRangeOfLocAll(Tg,Tb)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call fC(TV,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget(Ti,Q4,"chest"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
endfunction
function fG takes unit TV,location Tb,real Tg,real Th,string Ti returns nothing
local group Tj
local unit Q4
local player G4=GetOwningPlayer(TV)
set Tj=GetUnitsInRangeOfLocAll(Tg,Tb)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call fD(TV,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget(Ti,Q4,"chest"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
endfunction
function fH takes unit HD,real H9 returns nothing
if H9>0 then
call SetUnitState(HD,UNIT_STATE_LIFE,RMinBJ(GetUnitState(HD,UNIT_STATE_MAX_LIFE),GetUnitState(HD,UNIT_STATE_LIFE)+H9))
call e7(HD,H9,0,255,0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",HD,"origin"))
endif
set HD=null
endfunction
function fI takes unit HD,real H9 returns nothing
if H9>0 then
call SetUnitState(HD,UNIT_STATE_LIFE,RMinBJ(GetUnitState(HD,UNIT_STATE_MAX_LIFE),GetUnitState(HD,UNIT_STATE_LIFE)-H9))
endif
set HD=null
endfunction
function fJ takes unit HD,real Tk,real IN returns nothing
local group Tm
local location Tl
local player G4=GetOwningPlayer(HD)
local unit Tn
if IN>0 then
set Tl=GetUnitLoc(HD)
set Tm=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tm,Tl,IN,null)
call RemoveLocation(Tl)
loop
set Tn=FirstOfGroup(Tm)
exitwhen Tn==null
if IsUnitAlly(Tn,G4) and IsUnitAliveBJ(Tn) and not IsUnitType(Tn,UNIT_TYPE_MECHANICAL) and not (GetOwningPlayer(Tn)==Player(PLAYER_NEUTRAL_PASSIVE)) and not (Tn==HD) and IsUnitType(Tn,UNIT_TYPE_ANCIENT)==false then
call fH(Tn,Tk)
endif
call GroupRemoveUnit(Tm,Tn)
set Tn=null
endloop
call DestroyGroup(Tm)
call RemoveLocation(Tl)
endif
set HD=null
endfunction
function fK takes unit HD,real H9 returns nothing
call SetUnitState(HD,UNIT_STATE_MANA,RMaxBJ(0,GetUnitState(HD,UNIT_STATE_MANA)+H9))
call e7(HD,H9,30,144,255)
set HD=null
endfunction
function fL takes unit HD,real H9 returns nothing
call SetUnitState(HD,UNIT_STATE_MANA,RMaxBJ(0,GetUnitState(HD,UNIT_STATE_MANA)-H9))
set HD=null
endfunction
function fM takes unit HD,real Tk,real IN returns nothing
local group Tm
local location Tl
local player G4=GetOwningPlayer(HD)
local unit Tn
if IN>0 then
set Tl=GetUnitLoc(HD)
set Tm=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tm,Tl,IN,null)
call RemoveLocation(Tl)
loop
set Tn=FirstOfGroup(Tm)
exitwhen Tn==null
if IsUnitAlly(Tn,G4) and IsUnitAliveBJ(Tn) and not IsUnitType(Tn,UNIT_TYPE_MECHANICAL) and not (GetOwningPlayer(Tn)==Player(PLAYER_NEUTRAL_PASSIVE)) and not (Tn==HD) then
call SetUnitState(Tn,UNIT_STATE_MANA,RMinBJ(GetUnitState(Tn,UNIT_STATE_MAX_MANA),GetUnitState(Tn,UNIT_STATE_MANA)+Tk))
call e7(HD,Tk,0,0,255)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",Tn,"origin"))
endif
call GroupRemoveUnit(Tm,Tn)
set Tn=null
endloop
call DestroyGroup(Tm)
call RemoveLocation(Tl)
endif
set HD=null
endfunction
function fN takes real Hu returns integer
local integer Si=1
local integer Sj=10
local integer IN
local integer Tp
loop
exitwhen Si>Sj
if Hu==NF[Si] then
set IN=Si
endif
set Si=Si+1
endloop
if IN==0 then
set IN=1
endif
set Tp=R8[IN]
set Si=0
set Sj=0
set IN=0
return Tp
endfunction
function fO takes unit HD,unit TV,real IN returns nothing
local integer H9
local unit Tr
local real Ts
local integer To
if IsUnitType(HD,UNIT_TYPE_MAGIC_IMMUNE)==false then
set To=fN(IN)
set Tq=GetUnitLoc(HD)
set Tr=CreateUnit(GetOwningPlayer(TV),$6864756D,GetLocationX(Tq),GetLocationY(Tq),bj_UNIT_FACING)
call UnitAddAbilityBJ(To,Tr)
call UnitApplyTimedLifeBJ(.5,$42544C46,Tr)
call IssueTargetOrder(Tr,"thunderbolt",HD)
call RemoveLocation(Tq)
set HD=null
set TV=null
set IN=0
set H9=0
set Tr=null
set Ts=0
set To=0
endif
endfunction
function fP takes location Tb,unit TV,real Tg,real T5,real Th,string Ti returns nothing
local group Tj
local unit Q4
local player G4=GetOwningPlayer(TV)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,Tg,null)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call fO(Q4,TV,T5)
call e8(TV,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget(Ti,Q4,"chest"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endfunction
function fQ takes player G4,unit HD,integer TZ,string Ta returns nothing
local location Tb
local unit Tc
if IsUnitType(HD,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Tb=GetUnitLoc(HD)
set Tc=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Tc,TZ)
call IssueTargetOrder(Tc,Ta,HD)
call UnitApplyTimedLife(Tc,$42544C46,5)
call RemoveLocation(Tb)
set Tc=null
set HD=null
set Tb=null
set G4=null
endif
endfunction
function fR takes player G4,unit Td,real Tg,integer TZ,string Ta returns nothing
local group Tj
local location Tb=GetUnitLoc(Td)
local unit Q4
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,Tg,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and IsUnitAliveBJ(Q4) then
call fQ(G4,Q4,TZ,Ta)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endfunction
function fS takes unit Tk,unit HD,integer TZ,string Ta returns nothing
local location Tb
local player G4
local unit Tc
if IsUnitType(HD,UNIT_TYPE_MAGIC_IMMUNE)==false then
set Tb=GetUnitLoc(Tk)
set G4=GetOwningPlayer(Tk)
set Tc=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Tc,TZ)
call IssueTargetOrder(Tc,Ta,HD)
call UnitApplyTimedLife(Tc,$42544C46,5)
call RemoveLocation(Tb)
set Tc=null
set HD=null
set Tk=null
set Tb=null
set G4=null
endif
endfunction
function fT takes player G4,location Tb,integer TZ,string Ta returns nothing
local unit Tc=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Tc,TZ)
call IssuePointOrderLoc(Tc,Ta,Tb)
call UnitApplyTimedLife(Tc,$42544C46,5)
call RemoveLocation(Tb)
set Tc=null
set Tb=null
set G4=null
endfunction
function fU takes nothing returns nothing
local integer H9=0
loop
set H9=H9+1
exitwhen H9>10
if TimerGetRemaining(O0[H9])==0 and PN[H9]==true then
call SetPlayerAllianceStateBJ(Player(H9-1),Player(11),bj_ALLIANCE_NEUTRAL)
set PN[H9]=false
endif
endloop
endfunction
function fV takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),0.)
endfunction
function fW takes nothing returns nothing
set PF=true
set WQ=GroupPickRandomUnit(Ir)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,PE[4],bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitWithNameBJ(Os,WQ,GetPlayerName(GetOwningPlayer(WQ)),null,PE[5],bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,PE[6],bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitWithNameBJ(Os,WQ,GetPlayerName(GetOwningPlayer(WQ)),null,PE[7],bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,PE[8],bj_TIMETYPE_SET,10.,false)
call ForForce(GetPlayersAll(),function fV)
call SetPlayerName(Player(10),PE[11])
call SetPlayerAllianceStateBJ(Player(10),Player(11),bj_ALLIANCE_UNALLIED_VISION)
call SetPlayerAllianceStateBJ(Player(11),Player(10),bj_ALLIANCE_UNALLIED_VISION)
call SetPlayerAllianceStateBJ(Player(11),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED_VISION)
call SetPlayerAllianceStateBJ(Player(10),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_UNALLIED_VISION)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(11),bj_ALLIANCE_UNALLIED_VISION)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(10),bj_ALLIANCE_UNALLIED_VISION)
call EnableTrigger(Wb)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Cm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Cn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303339,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6E303341,Player(10),GetRandomLocInRect(Dd),bj_UNIT_FACING)
call PlaySoundBJ(M)
call StopMusicBJ(true)
call StopSoundBJ(GetLastPlayedSound(),true)
call SetMusicVolumeBJ(100.)
call PlayMusicBJ(i)
endfunction
function fX takes nothing returns nothing
local location G4
set G4=GetRandomLocInRect(Ci)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(Cj)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(Ck)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(Cl)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(Cm)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(Cn)
call CreateNUnitsAtLoc(1,$6E303338,Player(11),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set G4=GetRandomLocInRect(CG)
call CreateNUnitsAtLoc(5,$6E303337,Player(10),G4,bj_UNIT_FACING)
call RemoveLocation(G4)
set J0=1
endfunction
function fY takes nothing returns nothing
set NT=true
set J0=1
call StartTimerBJ(NU,false,GetRandomReal(.5,3))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QE=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303549,Player(PLAYER_NEUTRAL_PASSIVE),QE,bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),NV)
call RemoveLocation(QE)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(Wc)
call EnableTrigger(Wd)
call EnableTrigger(We)
call EnableTrigger(Wf)
endfunction
function fZ takes nothing returns nothing
local integer Wa=O3
if Ls[Wa]==11 or Ls[Wa]==112 or Ls[Wa]==113 then
set Wg=GetRandomLocInRect(WL[GetRandomInt(1,8)])
else
if Ls[Wa]==14 then
set Wg=GetUnitLoc(GroupPickRandomUnit(NV))
else
set Wg=GetRandomLocInRect(WK[GetRandomInt(1,11)])
endif
endif
endfunction
function fa takes nothing returns nothing
local integer Wa=O3
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=GetRandomInt(ML[Wa],Lt[Wa])
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call fZ()
if Ls[Wa]==12 or Ls[Wa]==112 then
call CreateNUnitsAtLoc(1,WH[Wa],Ly,Wg,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,WH[Wa+100],Ly,Wg,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,WH[Wa+200],Ly,Wg,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,WH[Wa+300],Ly,Wg,bj_UNIT_FACING)
else
if Ls[Wa]==13 or Ls[Wa]==113 then
if GetRandomInt(1,2)==1 then
call CreateNUnitsAtLoc(1,WH[Wa],Ly,Wg,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,WH[Wa+100],Ly,Wg,bj_UNIT_FACING)
endif
else
call CreateNUnitsAtLoc(1,WH[Wa],Ly,Wg,bj_UNIT_FACING)
endif
endif
call RemoveLocation(Wg)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function fb takes nothing returns nothing
local integer Wa=O3
if J0==0 then
if Wa==66 then
call fW()
else
call ConditionalTriggerExecute(WP)
endif
if Wa==67 then
call fY()
endif
set J0=1
call ConditionalTriggerExecute(WM)
else
if J0<=Lv[Wa] then
if Iv>=100 then
call StartTimerBJ(Nv,false,2.)
else
if Wa==66 then
call fX()
else
set J0=J0+1
if GetRandomInt(1,Lu[Wa])==1 or J0==Lv[Wa] then
call fZ()
call CreateNUnitsAtLoc(1,WI[Wa],Ly,Wg,bj_UNIT_FACING)
call PlaySoundBJ(WJ[Wa])
call RemoveLocation(Wg)
call fa()
else
call fa()
endif
endif
call StartTimerBJ(Nv,false,Lx[Wa])
endif
else
call ConditionalTriggerExecute(WR)
call ConditionalTriggerExecute(WS)
endif
endif
endfunction
function fc takes nothing returns nothing
local integer Wa=O3
if Wa==5 then
call ConditionalTriggerExecute(Wh)
elseif Wa==10 then
call ConditionalTriggerExecute(Wi)
elseif Wa==15 then
call ConditionalTriggerExecute(Wj)
elseif Wa==20 then
call ConditionalTriggerExecute(Wk)
elseif Wa==25 then
call ConditionalTriggerExecute(Wl)
elseif Wa==30 then
call ConditionalTriggerExecute(Wm)
elseif Wa==35 then
call ConditionalTriggerExecute(Wn)
elseif Wa==39 then
call ConditionalTriggerExecute(Wo)
elseif Wa==45 then
call ConditionalTriggerExecute(Wp)
elseif Wa==50 then
call ConditionalTriggerExecute(Wq)
elseif Wa==55 then
call ConditionalTriggerExecute(Wr)
elseif Wa==60 then
call ConditionalTriggerExecute(Ws)
elseif Wa==65 then
call ConditionalTriggerExecute(Wt)
elseif Wa==69 then
call ConditionalTriggerExecute(Wu)
elseif Wa==74 then
call ConditionalTriggerExecute(Wv)
elseif Wa==75 then
if Ne==true then
call ConditionalTriggerExecute(Ww)
else
call ConditionalTriggerExecute(Wx)
endif
endif
endfunction
function fd takes nothing returns nothing
local unit HD=RH
local location G4
if IsUnitAliveBJ(HD)==true and UnitHasBuffBJ(HD,$4253544E)==true or UnitHasBuffBJ(HD,$424E6373)==true or UnitHasBuffBJ(HD,$42505345)==true or UnitHasBuffBJ(HD,$42303437)==true then
call UnitRemoveBuffBJ($4253544E,HD)
call UnitRemoveBuffBJ($424E6373,HD)
call UnitRemoveBuffBJ($42505345,HD)
call UnitRemoveBuffBJ($42303437,HD)
set G4=GetUnitLoc(GroupPickRandomUnit(Ir))
call IssuePointOrderLoc(HD,"attack",G4)
call RemoveLocation(G4)
endif
set HD=RI
if IsUnitAliveBJ(HD)==true and UnitHasBuffBJ(HD,$4253544E)==true or UnitHasBuffBJ(HD,$424E6373)==true or UnitHasBuffBJ(HD,$42505345)==true or UnitHasBuffBJ(HD,$42303437)==true then
call UnitRemoveBuffBJ($4253544E,HD)
call UnitRemoveBuffBJ($424E6373,HD)
call UnitRemoveBuffBJ($42505345,HD)
call UnitRemoveBuffBJ($42303437,HD)
set G4=GetUnitLoc(GroupPickRandomUnit(Ir))
call IssuePointOrderLoc(HD,"attack",G4)
call RemoveLocation(G4)
endif
endfunction
function fe takes nothing returns nothing
set OU[1]=1
set OU[2]=2
set OU[3]=3
set OU[4]=4
set OU[5]=5
set OU[6]=6
set OU[7]=7
set OU[8]=8
set OU[9]=9
set OU[10]=10
set OU[11]=11
set OU[12]=12
set Oa=12
endfunction
function ff takes nothing returns nothing
local integer H9=OO
if IsUnitDeadBJ(Pd[H9])==false and ON[H9]==true and OZ[H9]>0 and OT[H9]>=OS[H9] and PV[H9]==false then
call fe()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=Oa
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if OU[GetForLoopIndexA()]==OZ[H9] then
set OW[H9]=OZ[H9]
set OT[H9]=0
set OS[H9]=0
set OZ[H9]=0
call ConditionalTriggerExecute(RW)
call StartTimerBJ(PU[H9],false,10.)
set PV[H9]=true
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if OZ[H9]==10 and OS[H9]>3 then
set OS[H9]=GetRandomInt(1,3)
endif
call QuestMessageBJ(GetForceOfPlayer(ConvertedPlayer(H9)),bj_QUESTMESSAGE_ALWAYSHINT,OP[H9]+(" "+(I2S(OT[H9])+("/"+I2S(OS[H9])))))
call StartTimerBJ(PT[H9],false,600.)
endif
endfunction
function fg takes nothing returns nothing
local integer H9=OO
if ON[OO]==true then
if OS[OO]>0 then
if OZ[H9]==10 and OS[H9]>3 then
set OS[H9]=GetRandomInt(1,3)
endif
call QuestMessageBJ(GetForceOfPlayer(ConvertedPlayer(OO)),bj_QUESTMESSAGE_ALWAYSHINT,PL[3]+(OP[OO]+(" "+(I2S(OT[OO])+("/"+I2S(OS[OO]))))))
endif
endif
endfunction
function fh takes nothing returns nothing
local integer H9=OO
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=Oa
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set OV[GetForLoopIndexA()]=0
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set OY[H9]=OX
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=OX
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetForLoopIndexA()==1 then
if OU[GetForLoopIndexA()]==OW[H9] then
set OV[GetForLoopIndexA()]=OU[OY[H9]]
set OY[H9]=OY[H9]-1
else
set OV[GetForLoopIndexA()]=OU[GetForLoopIndexA()]
endif
else
if OU[GetForLoopIndexA()]==OW[H9] then
if GetForLoopIndexA()==OX then
set OY[H9]=OY[H9]-1
else
set OV[GetForLoopIndexA()]=OU[OX]
set OY[H9]=OY[H9]-1
endif
else
set OV[GetForLoopIndexA()]=OU[GetForLoopIndexA()]
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function fi takes nothing returns nothing
local integer H9=OO
local integer Rc
local integer Rb
set PM[1]=4
set PM[2]=1
set PM[3]=GetRandomInt(4,8)*10
set PM[4]=GetRandomInt(1,4)*5
set PM[5]=1
set PM[6]=GetRandomInt(1,3)*10
set PM[7]=GetRandomInt(1,3)*10
set PM[8]=GetRandomInt(3,5)
set PM[9]=1
set PM[10]=GetRandomInt(1,3)*1
set PM[11]=GetRandomInt(1,2)*5
set PM[12]=GetRandomInt(1,2)*5
set OP[H9]="NO_QUEST"
if OS[H9]==0 then
if GetUnitTypeId(Pd[H9])==$4E303030 then
if GetHeroLevel(Pd[H9])<=5 then
if GetRandomInt(1,2)==1 then
set OY[H9]=1
set OV[1]=11
else
set OY[H9]=1
set OV[1]=1
endif
else
if GetRandomInt(1,2)==1 then
if Oc==false then
set OU[1]=1
set OU[2]=2
set OU[3]=3
set OU[4]=4
set OU[5]=5
set OU[6]=6
set OU[7]=7
set OU[8]=8
set OU[9]=9
set OU[10]=10
set OX=10
call fh()
else
set OU[1]=1
set OU[2]=3
set OU[3]=4
set OU[4]=5
set OU[5]=6
set OU[6]=7
set OU[7]=8
set OU[8]=9
set OU[9]=10
set OX=9
call fh()
endif
else
if GetPlayerTechCountSimple($52303035,ConvertedPlayer(H9))<490 then
set OU[1]=11
set OU[2]=12
set OX=2
call fh()
else
set OY[H9]=1
set OV[1]=11
endif
endif
endif
else
if GetHeroLevel(Pd[H9])<=5 then
set OY[H9]=1
set OV[1]=1
else
if GetUnitTypeId(Pd[H9])==$48303032 then
if Oc==false then
set OU[1]=1
set OU[2]=2
set OU[3]=3
set OU[4]=4
set OU[5]=5
set OU[6]=6
set OU[7]=7
set OU[8]=8
set OU[9]=9
set OX=9
else
set OU[1]=1
set OU[2]=3
set OU[3]=4
set OU[4]=5
set OU[5]=6
set OU[6]=7
set OU[7]=8
set OU[8]=9
set OX=8
endif
else
if Oc==false then
set OU[1]=1
set OU[2]=2
set OU[3]=3
set OU[4]=4
set OU[5]=5
set OU[6]=6
set OU[7]=7
set OU[8]=8
set OU[9]=9
set OU[10]=10
set OX=10
else
set OU[1]=1
set OU[2]=3
set OU[3]=4
set OU[4]=5
set OU[5]=6
set OU[6]=7
set OU[7]=8
set OU[8]=9
set OU[9]=10
set OX=9
endif
endif
call fh()
endif
endif
else
call DisplayTextToForce(GetForceOfPlayer(ConvertedPlayer(H9)),"ERROR! lqNewQuest double init!")
endif
call PauseTimer(PU[H9])
set PV[H9]=false
set Rb=GetRandomInt(1,OY[H9])
set OZ[H9]=OV[Rb]
set Rc=OU[Rb]
set OT[H9]=0
set OS[H9]=PM[Rc]
call fe()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=Oa
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if OU[GetForLoopIndexA()]==OZ[H9] then
set OP[H9]=PK[GetForLoopIndexA()]
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if ON[H9]==true then
call fg()
call StartTimerBJ(PT[H9],false,600.)
else
endif
endfunction
function fl takes unit HD returns nothing
local location Tb=GetUnitLoc(HD)
local boolean Si=UnitHasItemOfTypeBJ(HD,$49303430)
local boolean Sj=UnitHasItemOfTypeBJ(HD,$49303934)
local boolean Sk=UnitHasItemOfTypeBJ(HD,$4930455A)
local boolean Sl=UnitHasItemOfTypeBJ(HD,$49303644)
local boolean Sm=UnitHasItemOfTypeBJ(HD,$49304841)
local boolean Sn=UnitHasItemOfTypeBJ(HD,$49303849)
local boolean Ur=UnitHasItemOfTypeBJ(HD,$49303842)
local boolean Us=UnitHasItemOfTypeBJ(HD,$49304A39)
local boolean Ut=UnitHasItemOfTypeBJ(HD,$49304A4F)
local integer Tu=GetHeroInt(HD,true)
local integer Uu=GetUnitAbilityLevel(HD,$41313957)
local real Ts=600*Uu
local group RK
local unit Q4
local player G4=GetOwningPlayer(HD)
set Ts=Ts+Tu*.1*Uu
if GetRandomInt(1,100)>=2*Uu then
call UnitDamageTarget(HD,HD,25*Uu,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)
endif
if Sm then
call fH(HD,GetUnitState(HD,UNIT_STATE_MAX_LIFE)*.1)
endif
if Si then
set Ts=Ts+Tu*2+5000
endif
if Sj then
set Ts=Ts+Tu*15+10000
endif
if Sk then
set Ts=Ts+Tu*20+15000
endif
if Sl then
set Ts=Ts+Tu*30+30000
endif
if Sn then
set Ts=Ts+Tu*1+54000
endif
if Ur then
set Ts=Ts+Tu*1+36000
endif
if Us then
set Ts=Ts+Tu*10+GetUnitState(HD,UNIT_STATE_MANA)
call fH(HD,1000)
endif
if Ut then
set Ts=Ts+Tu*20+GetHeroStr(HD,true)*20+GetHeroAgi(HD,true)*20
call fH(HD,1000)
endif
if Ts!=0 then
set RK=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(RK,Tb,300,null)
loop
set Q4=FirstOfGroup(RK)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) or GetUnitTypeId(GetTriggerUnit())==$6E303244 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",Q4,"origin"))
call e8(HD,Q4,Ts)
endif
call GroupRemoveUnit(RK,Q4)
set Q4=null
endloop
endif
call RemoveLocation(Tb)
call DestroyGroup(RK)
set Tb=null
set RK=null
set HD=null
set Q4=null
set G4=null
endfunction
function fm takes unit HD,unit G4 returns nothing
local unit Ts
local real Ub=0
local real Uc=0
local real Ud=0
local texttag RM=CreateTextTag()
local real UY=TextTagSpeed2Velocity(90)
local real UZ=UY*Cos(90*bj_DEGTORAD)
local real Ua=UY*Sin(90*bj_DEGTORAD)
if GetUnitAbilityLevel(G4,$42303347)>0 then
set Ub=.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,HD,true))*GetUnitAbilityLevel(HD,$41305455)
endif
if GetUnitAbilityLevel(G4,$42303348)>0 then
set Uc=200.*GetUnitAbilityLevel(HD,$41305455)
set Ts=CreateUnit(GetOwningPlayer(HD),$68303256,GetUnitX(G4),GetUnitY(G4)-100,0.)
endif
call TriggerSleepAction(DistanceBetweenPoints(GetUnitLoc(HD),GetUnitLoc(G4))/6000.-.1)
set Ud=Ub+Uc
if Ud>0 then
call SetTextTagText(RM,"+"+I2S(S2I(R2S(Ud)))+"!",12*.023/10.)
call SetTextTagPos(RM,GetUnitX(G4),GetUnitY(G4),130)
call UnitDamageTarget(HD,G4,Ud,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
call SetTextTagColor(RM,PercentTo255(255),PercentTo255(0),PercentTo255(0),PercentTo255(100.))
call SetTextTagPermanent(RM,true)
call SetTextTagVelocity(RM,UZ,Ua)
call SetTextTagVisibility(RM,true)
call SetTextTagLifespan(RM,2.3)
call SetTextTagFadepoint(RM,1.3)
call SetTextTagPermanent(RM,false)
endif
if Ts!=null then
call IssueTargetOrderBJ(Ts,"thunderbolt",G4)
call UnitApplyTimedLife(Ts,$42544C46,.75)
endif
set HD=null
set G4=null
set Ts=null
endfunction
function fn takes nothing returns nothing
local location cW=GetRectCenter(GB)
set Ix=GetRandomInt(1,5)
set K1=true
set Wg=GetRectCenter(GB)
call CreateNUnitsAtLoc(1,bF,Ly,cW,bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
call AddSpecialEffectLocBJ(cW,"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(Wg)
set Kr=true
set NR=0
set NL=0
call EnableTrigger(ah)
call EnableTrigger(ai)
call EnableTrigger(cX)
set WW[1]=PolarProjectionBJ(GetUnitLoc(RH),300.,0)
set WW[2]=PolarProjectionBJ(GetUnitLoc(RH),300.,72.)
set WW[3]=PolarProjectionBJ(GetUnitLoc(RH),300.,144.)
set WW[4]=PolarProjectionBJ(GetUnitLoc(RH),300.,216.)
set WW[5]=PolarProjectionBJ(GetUnitLoc(RH),300.,288.)
set WT[1]=AddSpecialEffectLocBJ(WW[1],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
set WT[2]=AddSpecialEffectLocBJ(WW[2],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
set WT[3]=AddSpecialEffectLocBJ(WW[3],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
set WT[4]=AddSpecialEffectLocBJ(WW[4],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
set WT[5]=AddSpecialEffectLocBJ(WW[5],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
call PolledWait(.1)
call AddLightningLoc("AFOD",WW[3],WW[1])
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1,.5,0.,.5)
set WU[1]=GetLastCreatedLightningBJ()
call PolledWait(.1)
call AddLightningLoc("AFOD",WW[3],WW[5])
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1,.5,0.,.5)
set WU[2]=GetLastCreatedLightningBJ()
call PolledWait(.1)
call AddLightningLoc("AFOD",WW[5],WW[2])
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1,.5,0.,.5)
set WU[3]=GetLastCreatedLightningBJ()
call PolledWait(.1)
call AddLightningLoc("AFOD",WW[2],WW[4])
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1,.5,0.,.5)
set WU[4]=GetLastCreatedLightningBJ()
call PolledWait(.1)
call AddLightningLoc("AFOD",WW[4],WW[1])
call SetLightningColorBJ(GetLastCreatedLightningBJ(),1,.5,0.,.5)
set WU[5]=GetLastCreatedLightningBJ()
call PolledWait(2)
call CreateNUnitsAtLoc(1,$6E303646,Player(PLAYER_NEUTRAL_AGGRESSIVE),WW[1],AngleBetweenPoints(WW[1],cW))
call SetUnitFacingToFaceUnitTimed(GetLastCreatedUnit(),RH,0)
set WV[1]=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,0.,0.,50.)
call CreateNUnitsAtLoc(1,$6E303647,Player(PLAYER_NEUTRAL_AGGRESSIVE),WW[2],AngleBetweenPoints(WW[2],cW))
call SetUnitFacingToFaceUnitTimed(GetLastCreatedUnit(),RH,0)
set WV[2]=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,0.,0.,50.)
call CreateNUnitsAtLoc(1,$6E303645,Player(PLAYER_NEUTRAL_AGGRESSIVE),WW[3],AngleBetweenPoints(WW[2],cW))
call SetUnitFacingToFaceUnitTimed(GetLastCreatedUnit(),RH,0)
set WV[3]=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,0.,0.,50.)
call CreateNUnitsAtLoc(1,$6E303637,Player(PLAYER_NEUTRAL_AGGRESSIVE),WW[4],AngleBetweenPoints(WW[2],cW))
set WV[4]=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,0.,0.,50.)
call CreateNUnitsAtLoc(1,$6E303644,Player(PLAYER_NEUTRAL_AGGRESSIVE),WW[5],AngleBetweenPoints(WW[2],cW))
call SetUnitFacingToFaceUnitTimed(GetLastCreatedUnit(),RH,0)
set WV[5]=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,0.,0.,50.)
call StartTimerBJ(NH,false,25.)
call RemoveLocation(cW)
endfunction
function fo takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DestroyEffect(WT[GetForLoopIndexA()])
call DestroyLightning(WU[GetForLoopIndexA()])
call RemoveUnit(WV[GetForLoopIndexA()])
call AddSpecialEffectLocBJ(WW[GetForLoopIndexA()],"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(WW[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set NL=0
call DisableTrigger(WX)
call PauseTimerBJ(true,NH)
endfunction
function fp takes nothing returns nothing
local unit HD=GroupPickRandomUnit(Ir)
call fQ(GetOwningPlayer(RH),HD,$41314B4D,"entanglingroots")
call AddSpecialEffectLoc("Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl",WW[1])
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(5,$6E303648,Player(11),WW[1],GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$6E303649,Player(11),WW[1],GetRandomDirectionDeg())
endfunction
function fq takes nothing returns nothing
call AddSpecialEffectLocBJ(WW[2],"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(3,$6E30364A,Player(11),WW[2],GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$6E30364B,Player(11),WW[2],GetRandomDirectionDeg())
endfunction
function fr takes nothing returns nothing
call AddSpecialEffectLocBJ(WW[3],"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(5,$6E30364C,Player(11),WW[3],GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$6E30364D,Player(11),WW[3],GetRandomDirectionDeg())
endfunction
function fs takes nothing returns nothing
call AddSpecialEffectLocBJ(WW[4],"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(5,$6E30364E,Player(11),WW[4],GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$6E30364F,Player(11),WW[4],GetRandomDirectionDeg())
endfunction
function ft takes nothing returns nothing
call AddSpecialEffectLocBJ(WW[5],"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(5,$6E303650,Player(11),WW[5],GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$6E303651,Player(11),WW[5],GetRandomDirectionDeg())
endfunction
function fu takes nothing returns nothing
local integer H9=0
set Ir=CreateGroup()
set Is=0
set It=0
set Iu=0
set Iv=0
set Iw=false
set Ix=0
set Iy=DialogCreate()
set Iz=DialogCreate()
set I0=DialogCreate()
set I1=DialogCreate()
set I2=DialogCreate()
set I3=DialogCreate()
set I4=false
set I5=""
set I6=false
set I7=CreateGroup()
set I8=0
set H9=0
loop
exitwhen H9>1
set I9[H9]=0
set H9=H9+1
endloop
set JB=1
set JC=1
set H9=0
loop
exitwhen H9>1
set JD[H9]=""
set H9=H9+1
endloop
set JE=0
set JF=0
set JG=false
set JH=0
set JI=""
set JJ=false
set JK=CreateForce()
set JL=""
set H9=0
loop
exitwhen H9>1
set JM[H9]=false
set H9=H9+1
endloop
set JN=0
set JO=0
set JP=CreateTimer()
set H9=0
loop
exitwhen H9>10
set JQ[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set JR[H9]=0
set H9=H9+1
endloop
set JS=false
set H9=0
loop
exitwhen H9>1
set JT[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set JU[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set JV[H9]=0
set H9=H9+1
endloop
set JW=0
set JX=0
set JY=false
set JZ=0
set H9=0
loop
exitwhen H9>10
set Ja[H9]=1
set H9=H9+1
endloop
set Jb=0
set Jc=0
set Jd=CreateTimer()
set H9=0
loop
exitwhen H9>1
set Je[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set Jf[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set Jg[H9]=0
set H9=H9+1
endloop
set Jh=0
set Ji=0
set Jj=false
set Jk=0
set Jl=0
set Jm=CreateForce()
set Jn=0
set Jo=0
set Jp=false
set Jq=false
set Jr=false
set Js=false
set Jt=CreateForce()
set Ju=CreateForce()
set Jv=false
set Jw=0
set Jx=0
set Jy=0
set Jz=""
set J0=0
set H9=0
loop
exitwhen H9>10
set J1[H9]=0
set H9=H9+1
endloop
set J2=CreateTrigger()
set J3=0
set J4=0
set J5=true
set J6=CreateForce()
set J7=false
set J8=0
set J9=0
set KB=CreateForce()
set KC=CreateForce()
set KD=CreateTimer()
set H9=0
loop
exitwhen H9>1
set KE[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KF[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KG[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KH[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KI[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KJ[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KK[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KL[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KM[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KN[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set KO[H9]=0
set H9=H9+1
endloop
set KP=0
set KQ=CreateGroup()
set KR=CreateTimer()
set KS=CreateTimer()
set KT=false
set KU=0
set KV=CreateForce()
set KW=CreateGroup()
set KX=false
set KY=0.
set H9=0
loop
exitwhen H9>1
set KZ[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set Ka[H9]=0
set H9=H9+1
endloop
set Kb=CreateTimer()
set H9=0
loop
exitwhen H9>10
set Kc[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Kd[H9]=false
set H9=H9+1
endloop
set Ke=0
set Kf=Player(0)
set H9=0
loop
exitwhen H9>10
set Kg[H9]=CreateGroup()
set H9=H9+1
endloop
set Kh=CreateGroup()
set Ki=0
set H9=0
loop
exitwhen H9>1
set Kj[H9]=0
set H9=H9+1
endloop
set Kk=""
set Kl=""
set H9=0
loop
exitwhen H9>1
set Km[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Kn[H9]=0
set H9=H9+1
endloop
set Ko=false
set Kp=false
set Kq=0
set Kr=false
set H9=0
loop
exitwhen H9>1
set Ks[H9]=""
set H9=H9+1
endloop
set Kt=0
set H9=0
loop
exitwhen H9>10
set Ku[H9]=0
set H9=H9+1
endloop
set Kv=0
set H9=0
loop
exitwhen H9>1
set Kw[H9]=false
set H9=H9+1
endloop
set Kx=CreateGroup()
set Ky=0
set Kz=CreateGroup()
set H9=0
loop
exitwhen H9>10
set K0[H9]=CreateGroup()
set H9=H9+1
endloop
set K1=false
set K2=0
set K3=0
set H9=0
loop
exitwhen H9>10
set K4[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set K5[H9]=false
set H9=H9+1
endloop
set K6=0
set H9=0
loop
exitwhen H9>10
set K7[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set K8[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set K9[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LB[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LC[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LD[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LE[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LF[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LG[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LH[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LI[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LJ[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LK[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set LL[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set LM[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set LN[H9]=false
set H9=H9+1
endloop
set LO=true
set LP=0
set LQ=CreateGroup()
set H9=0
loop
exitwhen H9>10
set LR[H9]=0
set H9=H9+1
endloop
set LS=0
set H9=0
loop
exitwhen H9>10
set LT[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set LU[H9]=false
set H9=H9+1
endloop
set LV=0
set H9=0
loop
exitwhen H9>1
set LW[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LX[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LY[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set LZ[H9]=0
set H9=H9+1
endloop
set La=0
set H9=0
loop
exitwhen H9>12
set Lb[H9]=true
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>20
set Lc[H9]=0
set H9=H9+1
endloop
set Ld=CreateGroup()
set Le=false
set Lf=0.
set Lg=""
set Lh=null
set H9=0
loop
exitwhen H9>10
set Li[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set Lj[H9]=DialogCreate()
set H9=H9+1
endloop
set Lk=0
set Ll=0
set Lm=CreateForce()
set Ln=0
set Lo=0
set Lp=0
set Lq=0
set H9=0
loop
exitwhen H9>1
set Lr[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>90
set Ls[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>90
set Lt[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>90
set Lu[H9]=400
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>90
set Lv[H9]=0
set H9=H9+1
endloop
set Lw=CreateTrigger()
set H9=0
loop
exitwhen H9>90
set Lx[H9]=0
set H9=H9+1
endloop
set Ly=Player(11)
set Lz=false
set L0=1
set L1=0
set L2=false
set L3=CreateTimer()
set L4=false
set L5=CreateTimer()
set H9=0
loop
exitwhen H9>10
set L6[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set L7[H9]=0
set H9=H9+1
endloop
set L8=0
set L9=40
set MB=0
set MC=0
set H9=0
loop
exitwhen H9>10
set MD[H9]=0
set H9=H9+1
endloop
set ME=0
set MF=0
set MG=0
set H9=0
loop
exitwhen H9>10
set MH[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set MI[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set MJ[H9]=0
set H9=H9+1
endloop
set MK=CreateForce()
set H9=0
loop
exitwhen H9>90
set ML[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set MM[H9]=""
set H9=H9+1
endloop
set MN=0
set H9=0
loop
exitwhen H9>10
set MO[H9]=0
set H9=H9+1
endloop
set MP=0
set MQ=0
set MR=0
set MS=CreateTimer()
set MT=0
set MU=CreateTimer()
set H9=0
loop
exitwhen H9>1
set MV[H9]=0
set H9=H9+1
endloop
set MW=0
set H9=0
loop
exitwhen H9>1
set MX[H9]=CreateTrigger()
set H9=H9+1
endloop
set MY=CreateMultiboard()
set H9=0
loop
exitwhen H9>1
set MZ[H9]=0
set H9=H9+1
endloop
set Ma=CreateMultiboard()
set Mb=0
set H9=0
loop
exitwhen H9>10
set Mc[H9]=false
set H9=H9+1
endloop
set Md=CreateGroup()
set Me=0
set H9=0
loop
exitwhen H9>10
set Mf[H9]=0
set H9=H9+1
endloop
set Mg=0
set Mh=CreateGroup()
set H9=0
loop
exitwhen H9>10
set Mi[H9]=true
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Mj[H9]=CreateTimer()
set H9=H9+1
endloop
set Mk=0
set Ml=0
set H9=0
loop
exitwhen H9>10
set Mm[H9]=CreateGroup()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Mn[H9]=CreateGroup()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Mo[H9]=CreateTimer()
set H9=H9+1
endloop
set Mp=0
set Mq=.05
set Mr=0
set H9=0
loop
exitwhen H9>10
set Ms[H9]=CreateTimer()
set H9=H9+1
endloop
set Mt=0
set H9=0
loop
exitwhen H9>10
set Mu[H9]=CreateGroup()
set H9=H9+1
endloop
set Mv=0
set Mw=0
set Mx=0
set My=0
set Mz=0
set M0=0
set M1=0
set H9=0
loop
exitwhen H9>10
set M2[H9]=CreateGroup()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set M3[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set M4[H9]=CreateTimer()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set M5[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set M6[H9]=CreateForce()
set H9=H9+1
endloop
set M7=CreateGroup()
set M8=CreateTimer()
set M9=0
set NB=0
set NC=CreateForce()
set ND=CreateGroup()
set NE=CreateGroup()
set H9=0
loop
exitwhen H9>10
set NF[H9]=0
set H9=H9+1
endloop
set NG=0
set NH=CreateTimer()
set NI=CreateGroup()
set H9=0
loop
exitwhen H9>10
set NJ[H9]=CreateTimer()
set H9=H9+1
endloop
set NK=false
set NL=0
set NM=CreateGroup()
set NN=CreateTimer()
set NO=CreateGroup()
set NP=CreateTimer()
set NQ=0
set NR=0
set NS=CreateTimer()
set NT=false
set NU=CreateTimer()
set NV=CreateGroup()
set NW=false
set NX=0
set H9=0
loop
exitwhen H9>100
set NY[H9]=0
set H9=H9+1
endloop
set NZ=0
set Na=false
set Nb=false
set Nc=0
set Nd=0
set Ne=false
set Nf=0
set Ng=0
set Nh=false
set Ni=CreateGroup()
set Nj=CreateGroup()
set Nk=false
set Nl=CreateGroup()
set Nm=0
set Nn=0
set No=0
set Np=CreateTimer()
set Nq=0
set Nr=0
set Ns=CreateTimer()
set Nt=""
set Nu=CreateTimer()
set Nv=CreateTimer()
set H9=0
loop
exitwhen H9>110
set Nw[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set Nx[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set Ny[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set Nz[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N0[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N1[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N2[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N3[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N4[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N5[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N6[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>100
set N7[H9]=""
set H9=H9+1
endloop
set N8=false
set H9=0
loop
exitwhen H9>10
set N9[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OB[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OC[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OD[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OE[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OF[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OG[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OH[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OI[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>19
set OJ[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>19
set OK[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>19
set OL[H9]=5
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>5
set OM[H9]=CreateForce()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set ON[H9]=true
set H9=H9+1
endloop
set OO=0
set H9=0
loop
exitwhen H9>10
set OP[H9]=""
set H9=H9+1
endloop
set OQ=600.
set H9=0
loop
exitwhen H9>10
set OS[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OT[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>4
set OU[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OV[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OW[H9]=0
set H9=H9+1
endloop
set OX=0
set H9=0
loop
exitwhen H9>10
set OY[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set OZ[H9]=0
set H9=H9+1
endloop
set Oa=0
set H9=0
loop
exitwhen H9>1
set Ob[H9]=0
set H9=H9+1
endloop
set Oc=false
set Od=0
set H9=0
loop
exitwhen H9>10
set Oe[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Of[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>1
set Og[H9]=CreateGroup()
set H9=H9+1
endloop
set Oh=0
set H9=0
loop
exitwhen H9>10
set Oi[H9]=CreateTimer()
set H9=H9+1
endloop
set Oj=false
set Ok=CreateTimer()
set Ol=CreateGroup()
set Om=CreateGroup()
set On=false
set Oo=250
set H9=0
loop
exitwhen H9>75
set Op[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>75
set Oq[H9]=""
set H9=H9+1
endloop
set Os=CreateForce()
set H9=0
loop
exitwhen H9>8
set Ot[H9]=CreateForce()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set Ou[H9]=""
set H9=H9+1
endloop
set Ov=CreateGroup()
set H9=0
loop
exitwhen H9>2
set Ow[H9]=CreateTimer()
set H9=H9+1
endloop
set Ox=CreateTimer()
set Oy=CreateTimer()
set Oz=CreateTimer()
set H9=0
loop
exitwhen H9>10
set O0[H9]=CreateTimer()
set H9=H9+1
endloop
set O1=CreateTimer()
set O2=CreateTimer()
set O3=0
set O4=CreateTimer()
set H9=0
loop
exitwhen H9>1
set O5[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>30
set O6[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>30
set O7[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>30
set O8[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>30
set O9[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>30
set PB[H9]=""
set H9=H9+1
endloop
set PC=false
set PD=0
set H9=0
loop
exitwhen H9>10
set PE[H9]=""
set H9=H9+1
endloop
set PF=false
set PG=0
set PH=CreateTimer()
set PI=0
set PJ=CreateTimer()
set H9=0
loop
exitwhen H9>20
set PK[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>20
set PL[H9]=""
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>12
set PM[H9]=0
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PN[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PO[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PP[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PQ[H9]=false
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PR[H9]=false
set H9=H9+1
endloop
set PS=false
set H9=0
loop
exitwhen H9>10
set PT[H9]=CreateTimer()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PU[H9]=CreateTimer()
set H9=H9+1
endloop
set H9=0
loop
exitwhen H9>10
set PV[H9]=false
set H9=H9+1
endloop
set PW=""
set PX=0
set H9=0
loop
exitwhen H9>1
set PY[H9]=""
set H9=H9+1
endloop
set PZ=0
endfunction
function fv takes nothing returns nothing
set B=CreateSound("Units\\Undead\\Banshee\\BansheeYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B,"BansheeYesAttack")
call SetSoundDuration(B,4401)
call SetSoundChannel(B,0)
set C=CreateSound("Units\\Demon\\felhound\\FelHoundWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(C,"FelhoundWhat")
call SetSoundDuration(C,1991)
call SetSoundChannel(C,0)
set D=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest1.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(D,"FreakyForest1")
call SetSoundDuration(D,3135)
call SetSoundChannel(D,0)
set E=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest2.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(E,"FreakyForest2")
call SetSoundDuration(E,3901)
call SetSoundChannel(E,0)
set F=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest3.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(F,"FreakyForest3")
call SetSoundDuration(F,4830)
call SetSoundChannel(F,0)
set G=CreateSound("Sound\\Ambient\\Ashenvale\\FreakyForest4.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(G,"FreakyForest4")
call SetSoundDuration(G,5248)
call SetSoundChannel(G,0)
set H=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(H,"GoblinSapperPissed")
call SetSoundDuration(H,3319)
call SetSoundChannel(H,0)
set I=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(I,"GoblinSapperPissed")
call SetSoundDuration(I,1699)
call SetSoundChannel(I,0)
set J=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYes3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(J,"GoblinSapperYes")
call SetSoundDuration(J,1178)
call SetSoundChannel(J,0)
set K=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(K,"GoblinSapperYesAttack")
call SetSoundDuration(K,2587)
call SetSoundChannel(K,0)
set L=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(L,"GoblinSapperYesAttack")
call SetSoundDuration(L,2601)
call SetSoundChannel(L,0)
set M=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack5.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(M,"GoblinSapperYesAttack")
call SetSoundDuration(M,888)
call SetSoundChannel(M,0)
set N=CreateSound("Units\\Creeps\\Kobold\\KoboldPissed2.wav",false,false,true,50,50,"DefaultEAXON")
call SetSoundParamsFromLabel(N,"KoboldPissed")
call SetSoundDuration(N,1367)
call SetSoundChannel(N,0)
call SetSoundPitch(N,1.4)
set O=CreateSound("Units\\Human\\MortarTeam\\MortarTeamPissed3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(O,"MortarTeamPissed")
call SetSoundDuration(O,5039)
call SetSoundChannel(O,0)
set P=CreateSound("Units\\Human\\MortarTeam\\MortarTeamPissed5.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(P,"MortarTeamPissed")
call SetSoundDuration(P,4789)
set Q=CreateSound("Units\\Human\\MortarTeam\\MortarTeamPissed6.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Q,"MortarTeamPissed")
call SetSoundDuration(Q,3299)
call SetSoundChannel(Q,0)
set R=CreateSound("Units\\Human\\MortarTeam\\MortarTeamWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(R,"MortarTeamWarcry")
call SetSoundDuration(R,1389)
call SetSoundChannel(R,0)
set S=CreateSound("Units\\Human\\MortarTeam\\MortarTeamYes3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(S,"MortarTeamYes")
call SetSoundDuration(S,2221)
call SetSoundChannel(S,0)
set T=CreateSound("Units\\Human\\MortarTeam\\MortarTeamYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(T,"MortarTeamYesAttack")
call SetSoundDuration(T,3109)
call SetSoundChannel(T,0)
set U=CreateSound("Units\\Human\\MortarTeam\\MortarTeamYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(U,"MortarTeamYesAttack")
call SetSoundDuration(U,1568)
call SetSoundChannel(U,0)
set V=CreateSound("Units\\Human\\MortarTeam\\MortarTeamYesAttack5.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(V,"MortarTeamYesAttack")
call SetSoundDuration(V,1422)
call SetSoundChannel(V,0)
set W=CreateSound("Sound\\Dialogue\\OrcCampaign\\Orc04\\O04FemaleNEA04.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(W,"O04FemaleNEA04")
call SetSoundDuration(W,3657)
call SetSoundVolume(W,127)
set X=CreateSound("Sound\\Dialogue\\OrcCampaign\\Orc04\\O04FemaleNEB05.mp3",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(X,"O04FemaleNEB05")
call SetSoundDuration(X,2691)
call SetSoundVolume(X,127)
set Y=CreateSound("Units\\Creeps\\GoblinSapper\\SapperBlowsUp.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Y,"GoblinSapperExplode")
call SetSoundDuration(Y,3010)
call SetSoundChannel(Y,0)
set Z=CreateSound("Sound\\Ambient\\DoodadEffects\\SargerasLaugh.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Z,"SargerasLaugh")
call SetSoundDuration(Z,3326)
set a=CreateSound("Sound\\Ambient\\DoodadEffects\\SargerasRoar.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(a,"SargerasRoar")
call SetSoundDuration(a,4481)
set b=CreateSound("Units\\Undead\\Shade\\ShadeYesAttack4.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(b,"ShadeYesAttack")
call SetSoundDuration(b,3245)
call SetSoundChannel(b,0)
set c=CreateSound("Units\\Human\\SteamTank\\SteamTankPissed1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(c,"SteamTankPissed")
call SetSoundDuration(c,4226)
call SetSoundChannel(c,0)
set d=CreateSound("Units\\Demon\\Demoness\\SuccubusPissed1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(d,"DemonessPissed")
call SetSoundDuration(d,3372)
call SetSoundChannel(d,0)
set e=CreateSound("Units\\Demon\\Demoness\\SuccubusPissed6.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(e,"DemonessPissed")
call SetSoundDuration(e,2143)
call SetSoundChannel(e,0)
set f=CreateSound("Units\\Demon\\Demoness\\SuccubusWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(f,"DemonessWarcry")
call SetSoundDuration(f,1996)
call SetSoundChannel(f,0)
set g=CreateSound("Units\\Creeps\\HeroTinker\\TinkerMorph1.wav",false,false,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(g,"HeroTinkerMorph")
call SetSoundDuration(g,1866)
call SetSoundChannel(g,0)
set h=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",true,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(h,"VolcanoLoop")
call SetSoundDuration(h,7616)
call SetSoundChannel(h,0)
set i="Sound\\Music\\mp3Music\\PH1.mp3"
set j="Sound\\Music\\mp3Music\\HeroicVictory.mp3"
set k=CreateSound("Units\\NightElf\\MountainGiant\\MountainGiantDeath1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(k,"MountainGiantDeath")
call SetSoundDuration(k,3804)
set l=CreateSound("Sound\\Interface\\GameFound.wav",false,false,false,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(l,"GameFound")
call SetSoundDuration(l,7488)
set m=CreateSound("Units\\Creeps\\Spider\\SpiderWhat2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(m,"SpiderWhat")
call SetSoundDuration(m,1718)
call SetSoundChannel(m,5)
set n=CreateSound("Units\\Creeps\\Archnathid\\ArachnathidWhat1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(n,"ArachnathidWhat")
call SetSoundDuration(n,1173)
call SetSoundChannel(n,5)
call SetSoundVolume(n,100)
set o=CreateSound("Units\\Creeps\\HeroTinkerRobot\\ClockwerkGoblinYesAttack1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(o,"ClockwerkGoblinYesAttack")
call SetSoundDuration(o,1416)
call SetSoundChannel(o,5)
call SetSoundVolume(o,100)
set p=CreateSound("Units\\Creeps\\Kobold\\KoboldReady1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(p,"KoboldReady")
call SetSoundDuration(p,981)
call SetSoundChannel(p,5)
set q=CreateSound("Units\\Creeps\\Kobold\\KoboldPissed4.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(q,"KoboldPissed")
call SetSoundDuration(q,964)
call SetSoundChannel(q,5)
set r=CreateSound("Units\\Creeps\\Kobold\\KoboldPissed3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(r,"KoboldPissed")
call SetSoundDuration(r,1008)
call SetSoundChannel(r,5)
set s=CreateSound("Units\\Undead\\KelThuzadLich\\KelThuzadYesAttack1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(s,"KelThuzadLichYesAttack")
call SetSoundDuration(s,1545)
call SetSoundChannel(s,5)
call SetSoundVolume(s,100)
set t=CreateSound("Units\\NightElf\\Wisp\\WispPissed2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(t,"WispPissed")
call SetSoundDuration(t,2786)
call SetSoundChannel(t,5)
call SetSoundVolume(t,100)
set u=CreateSound("Units\\NightElf\\SpiritOfVengeance\\SpiritOfVengeanceYes1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(u,"SpiritOfVengeanceYesAttack")
call SetSoundDuration(u,2526)
call SetSoundChannel(u,5)
call SetSoundVolume(u,100)
set v=CreateSound("Units\\Creeps\\RockGolem\\RockGolemPissed2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(v,"RockGolemPissed")
call SetSoundDuration(v,2438)
call SetSoundChannel(v,5)
call SetSoundVolume(v,100)
set w=CreateSound("Units\\Creeps\\GoblinZeppelin\\GoblinZeppelinReady1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(w,"GoblinZeppelinReady")
call SetSoundDuration(w,4267)
call SetSoundChannel(w,5)
call SetSoundVolume(w,100)
set x=CreateSound("Units\\Creeps\\IronGolem\\IronGolemPissed3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(x,"IronGolemPissed")
call SetSoundDuration(x,2759)
call SetSoundChannel(x,5)
call SetSoundVolume(x,100)
set y=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(y,"GoblinSapperPissed")
call SetSoundDuration(y,4690)
call SetSoundChannel(y,5)
call SetSoundVolume(y,100)
set z=CreateSound("Units\\NightElf\\Maiev\\MaievWarcry1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(z,"MaievWarcry")
call SetSoundDuration(z,2799)
call SetSoundChannel(z,5)
call SetSoundVolume(z,100)
set BB=CreateSound("Units\\Demon\\Demoness\\SuccubusWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BB,"DemonessWarcry")
call SetSoundDuration(BB,1996)
call SetSoundChannel(BB,5)
call SetSoundVolume(BB,100)
set BC=CreateSound("Units\\Demon\\Demoness\\SuccubusYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BC,"DemonessYesAttack")
call SetSoundDuration(BC,1513)
call SetSoundChannel(BC,5)
call SetSoundVolume(BC,100)
set BD=CreateSound("Units\\Demon\\HeroPitLord\\HPitLordYesAttack1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(BD,"HeroPitLordYesAttack")
call SetSoundDuration(BD,1658)
call SetSoundChannel(BD,5)
call SetSoundVolume(BD,100)
set BE=CreateSound("Units\\Demon\\Pitlord\\PitLordYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BE,"PitLordYesAttack")
call SetSoundDuration(BE,3537)
call SetSoundChannel(BE,5)
call SetSoundVolume(BE,100)
set BF=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BF,"GoblinSapperYesAttack")
call SetSoundDuration(BF,1297)
call SetSoundChannel(BF,5)
set BG=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYes2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BG,"GoblinSapperYes")
call SetSoundDuration(BG,1120)
call SetSoundChannel(BG,5)
set BH=CreateSound("Units\\Human\\Sorceress\\SorceressWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BH,"SorceressWarcry")
call SetSoundDuration(BH,1120)
call SetSoundChannel(BH,5)
set BI=CreateSound("Units\\Human\\HeroBloodElf\\BloodElfMageYesAttack3.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(BI,"BloodElfSorcerorYesAttack")
call SetSoundDuration(BI,2015)
call SetSoundChannel(BI,5)
set BJ=CreateSound("Units\\Creeps\\Bandit\\BanditYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BJ,"BanditYesAttack")
call SetSoundDuration(BJ,2192)
call SetSoundChannel(BJ,5)
set BK=CreateSound("Units\\Creeps\\Bandit\\BanditYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BK,"BanditYesAttack")
call SetSoundDuration(BK,1194)
call SetSoundChannel(BK,5)
set BL=CreateSound("Units\\Demon\\Pitlord\\PitLordWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BL,"PitLordWhat")
call SetSoundDuration(BL,3430)
call SetSoundChannel(BL,5)
set BM=CreateSound("Units\\Creeps\\Wendigo\\WendigoYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BM,"WendigoYesAttack")
call SetSoundDuration(BM,1335)
call SetSoundChannel(BM,5)
set BN=CreateSound("Units\\Creeps\\LavaSpawn\\LavaSpawnBirth1.wav",false,false,true,10,10,"CombatSoundsEAX")
call SetSoundParamsFromLabel(BN,"LavaSpawnBirth")
call SetSoundDuration(BN,2856)
call SetSoundChannel(BN,5)
set BO=CreateSound("Units\\Demon\\Infernal\\InfernalYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BO,"InfernalYesAttack")
call SetSoundDuration(BO,2270)
call SetSoundChannel(BO,5)
call SetSoundVolume(BO,100)
set BP=CreateSound("Units\\Demon\\Pitlord\\PitLordYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BP,"PitLordYesAttack")
call SetSoundDuration(BP,3537)
call SetSoundChannel(BP,5)
call SetSoundVolume(BP,100)
set BQ=CreateSound("Units\\Creeps\\FacelessOne\\FacelessOneWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BQ,"FacelessOneWhat")
call SetSoundDuration(BQ,1499)
call SetSoundChannel(BQ,5)
set BR=CreateSound("Units\\Creeps\\Furbolg\\FurbolgYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BR,"FurbolgYesAttack")
call SetSoundDuration(BR,845)
call SetSoundChannel(BR,5)
set BS=CreateSound("Units\\Orc\\BatTroll\\TrollbatriderYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BS,"TrollBatriderYesAttack")
call SetSoundDuration(BS,4222)
call SetSoundChannel(BS,5)
set BT=CreateSound("Units\\Demon\\Pitlord\\PitLordYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BT,"PitLordYesAttack")
call SetSoundDuration(BT,1834)
call SetSoundChannel(BT,5)
call SetSoundVolume(BT,100)
set BU=CreateSound("Units\\Demon\\Infernal\\InfernalYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BU,"InfernalYesAttack")
call SetSoundDuration(BU,2258)
call SetSoundChannel(BU,5)
call SetSoundVolume(BU,100)
set BV=CreateSound("Units\\Demon\\Pitlord\\PitLordYes2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BV,"PitLordYes")
call SetSoundDuration(BV,2491)
call SetSoundChannel(BV,5)
call SetSoundVolume(BV,100)
set BW=CreateSound("Units\\Creeps\\Ogre\\OgreWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BW,"OgreWarcry")
call SetSoundDuration(BW,1744)
call SetSoundChannel(BW,5)
set BX=CreateSound("Units\\Creeps\\Ogre\\OgreYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BX,"OgreYesAttack")
call SetSoundDuration(BX,1840)
call SetSoundChannel(BX,5)
set BY=CreateSound("Units\\Creeps\\Ogre\\OgreYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BY,"OgreYesAttack")
call SetSoundDuration(BY,1786)
call SetSoundChannel(BY,5)
set BZ=CreateSound("Units\\Undead\\Skeleton\\SkeletonYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(BZ,"SkeletonYesAttack")
call SetSoundDuration(BZ,1701)
call SetSoundChannel(BZ,5)
set Ba=CreateSound("Units\\Undead\\Skeleton\\SkeletonYesAttack2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Ba,"SkeletonYesAttack")
call SetSoundDuration(Ba,1115)
call SetSoundChannel(Ba,5)
set Bb=CreateSound("Units\\Undead\\Abomination\\AbominationWarcry1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bb,"AbominationWarcry")
call SetSoundDuration(Bb,3043)
set Bc="Sound\\Music\\mp3Music\\ArthasTheme.mp3"
set Bd=CreateSound("Units\\Creeps\\Ogre\\OgrePissed5.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bd,"OgrePissed")
call SetSoundDuration(Bd,4175)
set Be=CreateSound("Units\\Creeps\\Ogre\\OgreYes1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Be,"OgreYes")
call SetSoundDuration(Be,2691)
set Bf=CreateSound("Units\\Creeps\\Ogre\\OgreYesAttack1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bf,"OgreYesAttack")
call SetSoundDuration(Bf,1904)
set Bg=CreateSound("Units\\Undead\\ObsidianStatue\\ObsidianAvengerYesAttack1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bg,"ObsidianDestroyerYesAttack")
call SetSoundDuration(Bg,3428)
set Bh=CreateSound("Units\\Undead\\ObsidianStatue\\ObsidianAvengerDeath1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bh,"ObsidianAvengerDeath")
call SetSoundDuration(Bh,2203)
set Bi=CreateSound("Units\\Undead\\ObsidianStatue\\ObsidianStatueReady1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bi,"ObsidianStatuePissed")
call SetSoundDuration(Bi,2856)
set Bj=CreateSound("Units\\Creeps\\HeroTinker\\HeroTinkerPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bj,"HeroTinkerPissed")
call SetSoundDuration(Bj,8942)
set Bk=CreateSound("Units\\Creeps\\HeroTinker\\HeroTinkerPissed5.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bk,"HeroTinkerPissed")
call SetSoundDuration(Bk,4004)
set Bl=CreateSound("Units\\Creeps\\HeroTinker\\HeroTinkerPissed2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bl,"HeroTinkerPissed")
call SetSoundDuration(Bl,4404)
set Bm=CreateSound("Units\\Human\\MortarTeam\\MortarTeamYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bm,"MortarTeamYesAttack")
call SetSoundDuration(Bm,1150)
set Bn=CreateSound("Abilities\\Spells\\Items\\ResourceItems\\ReceiveGold.wav",false,true,true,10,10,"SpellsEAX")
call SetSoundParamsFromLabel(Bn,"ReceiveGold")
call SetSoundDuration(Bn,589)
set Bo=CreateSound("Units\\Creeps\\HeroTinker\\HeroTinkerYesAttack2.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bo,"HeroTinkerYesAttack")
call SetSoundDuration(Bo,2236)
set Bp=CreateSound("Units\\Naga\\LadyVashj\\LadyVashjWarcry1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bp,"SeaWitchWarcry")
call SetSoundDuration(Bp,1185)
set Bq=CreateSound("Units\\Naga\\LadyVashj\\LadyVashjYesAttack1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bq,"SeaWitchYesAttack")
call SetSoundDuration(Bq,1246)
set Br=CreateSound("Sound\\Units\\Undead\\Dissipate\\UndeadDissipate2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Br,"UndeadDissipate")
call SetSoundDuration(Br,3613)
call SetSoundChannel(Br,5)
set Bs=CreateSound("Units\\Creeps\\NetherDragon\\NetherDragonYes1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bs,"NetherDragonYes")
call SetSoundDuration(Bs,2110)
call SetSoundChannel(Bs,5)
set Bt=CreateSound("Sound\\Buildings\\Undead\\UndeadBuildingBirthWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bt,"ConstructingBuildingUndead")
call SetSoundDuration(Bt,3500)
call SetSoundChannel(Bt,6)
call SetSoundPitch(Bt,.8)
set Bu=CreateSound("Units\\Human\\HeroMountainKing\\HeroMountainKingYesAttack1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bu,"HeroMountainKingYesAttack")
call SetSoundDuration(Bu,1020)
call SetSoundChannel(Bu,5)
set Bv=CreateSound("Units\\Human\\HeroMountainKing\\HeroMountainKingReady1.wav",false,false,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(Bv,"HeroMountainKingReady")
call SetSoundDuration(Bv,1449)
call SetSoundChannel(Bv,5)
set Bw=CreateSound("Units\\Creeps\\NetherDragon\\NetherDragonYes2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bw,"NetherDragonYes")
call SetSoundDuration(Bw,1756)
call SetSoundChannel(Bw,5)
set Bx=CreateSound("Units\\Human\\GryphonRider\\GryphonRiderYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bx,"GryphonRiderYesAttack")
call SetSoundDuration(Bx,3103)
call SetSoundChannel(Bx,5)
set By=CreateSound("Units\\Human\\SteamTank\\SteamTankWhat2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(By,"SteamTankWhat")
call SetSoundDuration(By,2589)
call SetSoundChannel(By,5)
set Bz=CreateSound("Units\\Human\\Rifleman\\RiflemanYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(Bz,"RiflemanYesAttack")
call SetSoundDuration(Bz,879)
call SetSoundChannel(Bz,5)
set B0=CreateSound("Units\\Human\\Rifleman\\RiflemanYesAttack4.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B0,"RiflemanYesAttack")
call SetSoundDuration(B0,1113)
call SetSoundChannel(B0,5)
set B1=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordYesAttack1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(B1,"HeroDreadLordYesAttack")
call SetSoundDuration(B1,1726)
set B2=CreateSound("Units\\Undead\\Abomination\\AbominationYesAttack3.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B2,"AbominationYesAttack")
call SetSoundDuration(B2,2979)
call SetSoundChannel(B2,5)
set B3=CreateSound("Units\\Undead\\Abomination\\AbominationWarcry1.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B3,"AbominationWarcry")
call SetSoundDuration(B3,3043)
set B4=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistYesAttack1.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(B4,"HEROGoblinALCHEMISTYesAttack")
call SetSoundDuration(B4,2370)
set B5=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,10,10,"HeroAcksEAX")
call SetSoundParamsFromLabel(B5,"HEROGoblinALCHEMISTPissed")
call SetSoundDuration(B5,7394)
set B6=CreateSound("Units\\Creeps\\QuillBeast\\QuillBoarWhat2.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B6,"QuillBeastWhat")
call SetSoundDuration(B6,785)
call SetSoundVolume(B6,50)
call SetSoundPitch(B6,1.5)
set B7=CreateSound("Units\\Creeps\\QuillBeast\\QuillBoarWhat1.wav",false,false,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B7,"QuillBeastWhat")
call SetSoundDuration(B7,2379)
call SetSoundVolume(B7,50)
call SetSoundPitch(B7,2.)
set B8=CreateSound("Sound\\Interface\\BattleNetTick.wav",false,false,false,10,10,"")
call SetSoundParamsFromLabel(B8,"ChatroomTimerTick")
call SetSoundDuration(B8,476)
set B9=CreateSound("Units\\Creeps\\GoblinZeppelin\\GoblinZeppelinWhat3.wav",false,true,true,10,10,"DefaultEAXON")
call SetSoundParamsFromLabel(B9,"GoblinZeppelinWhat")
call SetSoundDuration(B9,2444)
endfunction
function fw takes nothing returns nothing
set Gm=CreateDestructable($42303033,-4352.,5184.,94.,1.866,0)
set Gn=CreateDestructableZ($42303034,-5056.,6016.,-3.2,90.,.9,0)
set Go=CreateDestructable($44546573,-4448.,5216.,50.,1.141,1)
set Gp=CreateDestructable($44546573,-4256.,5408.,27.,1.171,1)
set Gq=CreateDestructableZ($44546731,-5056.,4480.,-9.6,270.,.9,0)
set Gr=CreateDestructable($44546733,-6400.,5248.,0.,.9,0)
set Gs=CreateDestructableZ($44547362,2432.,-5600.,-192.8,270.,1.,0)
set Gt=CreateDestructableZ($44547362,640.,-5600.,-180.,270.,1.,0)
set Gu=CreateDeadDestructable($446F6677,-4608.,3968.,90.,1.,0)
set Gv=CreateDeadDestructable($446F6677,-2880.,5248.,0.,1.,0)
set Gw=CreateDeadDestructable($446F6677,-3840.,3968.,90.,1.,0)
set Gx=CreateDestructable($47547368,-6656.,-2688.,270.,1.19,3)
set Gy=CreateDestructableZ($59543036,-5824.,5280.,-96.,90.,1.,0)
set Gz=CreateDestructable($59547062,-5280.,5344.,270.,1.,0)
set G0=CreateDestructable($59547062,-5280.,5280.,270.,1.,0)
set G1=CreateDestructable($59547062,-5280.,5216.,270.,1.,0)
set G2=CreateDestructable($59547062,-5280.,5152.,270.,1.,0)
set G3=CreateDestructable($59547062,-5280.,5408.,270.,1.,0)
endfunction
function fx takes nothing returns nothing
local player G4=Player(0)
local unit HD
set HD=CreateUnit(G4,$68303838,-6529.1,6851.9,119.661)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303737,-195.7,2698.6,333.88)
set HD=CreateUnit(G4,$68303846,-6629.3,6885.,92.87)
set He=CreateUnit(G4,$68303843,-6889.3,4479.2,98.957)
set Hf=CreateUnit(G4,$68303843,-6892.8,5274.1,25.511)
set Hg=CreateUnit(G4,$68303843,-6891.8,5958.,270.272)
set Hh=CreateUnit(G4,$68303843,-6937.6,6887.9,295.816)
set Hi=CreateUnit(G4,$68303843,-6329.2,6492.6,295.816)
endfunction
function fy takes nothing returns nothing
local player G4=Player(1)
local unit HD
set HD=CreateUnit(G4,$68303838,-6505.9,6824.7,123.129)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6595.7,6935.1,358.04)
endfunction
function fz takes nothing returns nothing
local player G4=Player(2)
local unit HD
set HD=CreateUnit(G4,$68303838,-6558.2,6865.8,327.025)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6543.,6961.7,4.78)
endfunction
function f0 takes nothing returns nothing
local player G4=Player(3)
local unit HD
set HD=CreateUnit(G4,$68303838,-6535.9,6862.8,318.274)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6483.2,6951.,286.28)
endfunction
function f1 takes nothing returns nothing
local player G4=Player(4)
local unit HD
set HD=CreateUnit(G4,$68303838,-6544.3,6862.9,43.832)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6437.5,6907.1,145.84)
endfunction
function f2 takes nothing returns nothing
local player G4=Player(5)
local unit HD
set HD=CreateUnit(G4,$68303838,-6499.7,6851.1,180.701)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6425.7,6840.7,190.11)
endfunction
function f3 takes nothing returns nothing
local player G4=Player(6)
local unit HD
set HD=CreateUnit(G4,$68303838,-6537.8,6856.2,66.734)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6448.5,6789.1,146.11)
endfunction
function f4 takes nothing returns nothing
local player G4=Player(7)
local unit HD
set HD=CreateUnit(G4,$68303838,-6519.2,6854.1,293.624)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6508.4,6758.9,301.55)
endfunction
function f5 takes nothing returns nothing
local player G4=Player(8)
local unit HD
set HD=CreateUnit(G4,$68303838,-6531.7,6842.1,330.79)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6577.7,6766.5,301.73)
endfunction
function f6 takes nothing returns nothing
local player G4=Player(9)
local unit HD
set HD=CreateUnit(G4,$68303838,-6522.,6857.,217.781)
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$68303846,-6628.4,6815.7,50.34)
endfunction
function f7 takes nothing returns nothing
local player G4=Player(10)
local unit HD
set HD=CreateUnit(G4,$48303030,-3220.9,5379.,183.203)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call SelectHeroSkill(HD,$4130544B)
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call SelectHeroSkill(HD,$4130544D)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call SelectHeroSkill(HD,$4130544F)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call SelectHeroSkill(HD,$4130544A)
call IssueImmediateOrder(HD,"")
set HD=CreateUnit(G4,$48303033,-3288.6,5284.6,173.96)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call SelectHeroSkill(HD,$41305336)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call SelectHeroSkill(HD,$41303054)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call SelectHeroSkill(HD,$41303137)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call SelectHeroSkill(HD,$41305339)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call SelectHeroSkill(HD,$41304359)
call IssueImmediateOrder(HD,"")
set HD=CreateUnit(G4,$48303031,-3188.7,5244.7,171.454)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call SelectHeroSkill(HD,$41303058)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call SelectHeroSkill(HD,$41303057)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call SelectHeroSkill(HD,$41303056)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call SelectHeroSkill(HD,$41303055)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call SelectHeroSkill(HD,$41303037)
call IssueImmediateOrder(HD,"")
set HD=CreateUnit(G4,$48303032,-3149.4,5330.,178.863)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
set HD=CreateUnit(G4,$48303035,-3088.9,5177.8,167.67)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
set HD=CreateUnit(G4,$48303036,-3202.4,5125.3,195.9)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
set HD=CreateUnit(G4,$48303034,-3295.1,5179.8,163.489)
call SetHeroLevel(HD,200,false)
call SetUnitState(HD,UNIT_STATE_MANA,0)
call IssueImmediateOrder(HD,"")
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call SelectHeroSkill(HD,$41305455)
call IssueImmediateOrder(HD,"")
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call SelectHeroSkill(HD,$41305456)
call IssueImmediateOrder(HD,"faeriefireoff")
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call SelectHeroSkill(HD,$41305457)
call IssueImmediateOrder(HD,"")
set Hj=CreateUnit(G4,$4E303030,-3058.5,5258.5,125.36)
call SetHeroLevel(Hj,200,false)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call SelectHeroSkill(Hj,$41303141)
call IssueImmediateOrder(Hj,"")
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call SelectHeroSkill(Hj,$41304B51)
call IssueImmediateOrder(Hj,"")
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call SelectHeroSkill(Hj,$41305342)
call IssueImmediateOrder(Hj,"")
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call SelectHeroSkill(Hj,$4130354E)
call IssueImmediateOrder(Hj,"healoff")
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call SelectHeroSkill(Hj,$41303146)
call IssueImmediateOrder(Hj,"")
call IssueImmediateOrder(Hj,"")
call IssueImmediateOrder(Hj,"")
set HD=CreateUnit(G4,$68303737,-333.3,1485.,179.3)
endfunction
function f8 takes nothing returns nothing
local player G4=Player(11)
local unit HD
set Hk=CreateUnit(G4,$68303241,-7167.9,5051.3,131.46)
call SetUnitAcquireRange(Hk,200.)
set HD=CreateUnit(G4,$68303737,-237.8,1595.3,179.3)
endfunction
function f9 takes nothing returns nothing
local player G4=Player(PLAYER_NEUTRAL_PASSIVE)
local unit HD
set G5=CreateUnit(G4,$6E303042,-6528.,6592.,270.)
set G6=CreateUnit(G4,$6830314F,-5024.,6752.,270.)
set G7=CreateUnit(G4,$6830314F,3872.,2016.,270.)
set G8=CreateUnit(G4,$6830314F,-4064.,-2592.,270.)
set G9=CreateUnit(G4,$6830314F,-864.,2080.,270.)
set HB=CreateUnit(G4,$6830314F,6560.,-5344.,270.)
set HC=CreateUnit(G4,$6830314F,1568.,-6048.,270.)
set HD=CreateUnit(G4,$6E303345,-3136.,2880.,270.)
set HD=CreateUnit(G4,$6E303345,-3136.,2944.,270.)
set HD=CreateUnit(G4,$68303144,-7232.,1472.,270.)
set HD=CreateUnit(G4,$68303144,-7360.,-1984.,270.)
set HD=CreateUnit(G4,$68303144,-7360.,-4544.,270.)
set HD=CreateUnit(G4,$68303144,-7360.,-7232.,270.)
set HD=CreateUnit(G4,$68303144,-4416.,-7360.,270.)
set HD=CreateUnit(G4,$68303144,960.,-7360.,270.)
set HD=CreateUnit(G4,$68303144,7744.,-3648.,270.)
set HD=CreateUnit(G4,$68303144,1984.,192.,270.)
set HD=CreateUnit(G4,$68303144,7104.,192.,270.)
set HD=CreateUnit(G4,$68303144,2240.,-3392.,270.)
set HD=CreateUnit(G4,$68303835,-7232.,5312.,270.)
set HD=CreateUnit(G4,$68303842,-7168.,4864.,270.)
set HD=CreateUnit(G4,$68303841,-7168.,5056.,270.)
endfunction
function gB takes nothing returns nothing
local player G4=Player(PLAYER_NEUTRAL_PASSIVE)
local unit HD
set HE=CreateUnit(G4,$68303058,-358.5,223.2,222.38)
call SetUnitColor(HE,ConvertPlayerColor(6))
set HF=CreateUnit(G4,$6E303535,-6579.,7079.1,277.764)
call SetUnitColor(HF,ConvertPlayerColor(6))
call SetUnitAcquireRange(HF,200.)
set HG=CreateUnit(G4,$68303046,-6584.4,5198.1,336.963)
set HH=CreateUnit(G4,$68303046,-6512.6,5159.5,35.774)
set HI=CreateUnit(G4,$6E303537,-6412.5,7080.5,245.241)
call SetUnitColor(HI,ConvertPlayerColor(6))
call SetUnitAcquireRange(HI,200.)
set HD=CreateUnit(G4,$6E303636,1353.6,6380.7,110.533)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HJ=CreateUnit(G4,$6E303539,-6708.7,7054.1,316.652)
call SetUnitColor(HJ,ConvertPlayerColor(6))
call SetUnitAcquireRange(HJ,200.)
set HK=CreateUnit(G4,$6E303541,-6801.2,6924.3,346.601)
call SetUnitColor(HK,ConvertPlayerColor(6))
call SetUnitAcquireRange(HK,200.)
set HL=CreateUnit(G4,$49494949,-1482.3,1472.1,159.1)
set HM=CreateUnit(G4,$49496C6C,-1483.9,2252.,272.821)
set HN=CreateUnit(G4,$68303336,-1457.,2669.3,136.092)
set HO=CreateUnit(G4,$68303335,-1436.3,1746.6,300.43)
set HD=CreateUnit(G4,$6E303636,2795.2,6152.2,136.648)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HP=CreateUnit(G4,$68303343,-1288.,1453.9,78.104)
set HQ=CreateUnit(G4,$6E303543,-6802.5,6776.8,8.927)
call SetUnitColor(HQ,ConvertPlayerColor(6))
call SetUnitAcquireRange(HQ,200.)
set HR=CreateUnit(G4,$6E303538,-6243.2,6888.6,185.822)
call SetUnitColor(HR,ConvertPlayerColor(6))
call SetUnitAcquireRange(HR,200.)
set HD=CreateUnit(G4,$6E303636,3041.1,-4493.9,291.898)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HS=CreateUnit(G4,$6E303542,-6247.3,6755.2,182.334)
call SetUnitColor(HS,ConvertPlayerColor(6))
call SetUnitAcquireRange(HS,200.)
set HT=CreateUnit(G4,$6E303536,-6285.,7048.3,219.424)
call SetUnitColor(HT,ConvertPlayerColor(6))
call SetUnitAcquireRange(HT,200.)
set HD=CreateUnit(G4,$6E303636,-6385.5,1826.6,204.201)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-5970.1,1554.5,46.362)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-5668.1,2097.1,61.102)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4523.1,756.4,237.588)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4579.1,664.5,78.666)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3609.1,1251.8,78.666)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4601.,2719.1,81.01)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1601.1,5506.4,276.311)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1580.1,5391.1,96.949)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2627.6,6435.7,86.016)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1603.6,6705.4,48.168)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1727.9,6587.1,167.061)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,581.3,6164.9,3.347)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,575.1,5990.5,162.367)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-543.5,6816.,199.499)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-58.3,6805.1,49.359)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,368.2,6419.5,90.933)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1751.5,5051.8,341.298)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3654.2,4984.7,141.567)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3747.4,3899.9,137.718)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3500.7,3794.2,70.496)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5124.8,5289.2,285.515)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4870.5,6147.6,140.42)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4756.6,6046.7,100.816)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6016.3,6612.9,49.13)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6964.7,5589.7,99.291)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6862.6,5839.9,327.695)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6986.7,2307.6,359.584)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5706.,2326.4,10.278)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5084.3,2374.4,123.075)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5118.2,2507.,194.699)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4428.4,1955.6,341.369)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-7069.2,-2690.,180.)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6283.4,-3890.2,39.796)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6423.5,-4041.7,251.518)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6768.3,-4018.8,341.298)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-733.4,-6199.9,143.573)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-881.,-5491.,12.822)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,376.5,-3950.7,271.885)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,358.,-4074.2,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1541.8,-5920.4,93.832)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5025.7,-5256.2,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7241.,-5400.9,59.991)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7113.6,-5210.3,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7491.3,-4980.7,242.688)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7236.7,-6427.,286.97)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4960.8,-6149.1,351.275)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5060.6,-3811.,298.22)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4905.5,-2652.,164.939)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,4067.,-2362.3,25.438)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3763.8,-2426.,113.357)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2339.1,-1326.7,129.72)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2366.8,-1492.4,307.676)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3629.1,-431.9,52.564)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3915.9,-631.8,84.84)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3748.,-605.2,51.357)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2719.5,-471.7,222.597)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-158.8,69.9,66.112)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2040.,329.1,34.839)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2042.6,569.4,301.874)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HU=CreateUnit(G4,$6E303733,-7124.1,5420.6,215.174)
call SetUnitColor(HU,ConvertPlayerColor(11))
set HD=CreateUnit(G4,$6E303636,-1491.8,2489.2,216.169)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1246.1,2729.8,112.915)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-451.9,2695.1,61.438)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-603.6,3779.2,242.959)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-431.7,4330.5,338.836)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1573.4,4428.5,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1456.5,4316.7,116.642)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2632.6,4731.6,278.656)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3891.9,6870.1,271.479)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3010.7,6268.2,190.153)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4899.3,6825.5,86.939)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2202.2,5668.1,237.783)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-120.5,5086.9,304.76)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3718.9,99.9,97.217)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3993.6,-33.,192.473)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3529.4,-1308.1,241.8)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3442.2,-1566.2,268.535)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5387.1,-2150.7,112.246)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5202.7,-2191.5,76.77)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6405.2,-1351.2,340.197)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6684.5,-1699.6,280.046)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6277.5,-2.6,86.413)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6104.2,-116.,333.32)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5426.1,1359.3,192.573)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5392.5,1890.6,97.289)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6349.9,1977.6,292.3)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6918.8,1786.7,32.854)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7056.5,2064.2,272.248)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6832.,2549.8,131.294)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6992.5,1074.2,73.733)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,7002.3,911.7,322.588)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6289.6,1207.6,268.987)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3229.4,1491.2,126.022)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2901.6,2007.1,242.305)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1925.9,2066.1,349.552)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1945.6,1939.4,353.824)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1189.2,508.7,200.646)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1492.1,609.3,300.723)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-5171.4,-6822.2,106.325)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-5872.6,-6300.6,46.749)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6661.6,-6062.5,143.788)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6687.9,-5886.4,213.58)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6108.,-4449.6,183.851)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4411.7,-4712.7,71.197)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3798.1,-4067.6,87.468)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3565.9,-3318.7,55.814)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3786.6,-1830.5,62.436)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3563.4,-2042.,70.288)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3206.3,-1712.1,195.968)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3137.7,-2368.8,112.975)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2121.8,-2464.9,81.724)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2411.,-2652.1,146.453)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2373.2,-2868.3,241.935)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1385.3,-2630.8,308.88)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,320.4,-1540.,270.147)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,909.1,-1494.8,51.76)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,322.7,-1990.8,249.022)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,598.8,-1898.6,237.627)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1136.9,-3056.9,163.223)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2158.2,-2000.4,141.902)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2464.8,854.3,62.982)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,209.6,3170.2,141.538)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,300.6,3242.9,149.523)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,724.8,2645.3,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,374.9,2418.8,199.171)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,843.7,3297.7,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,766.9,3392.4,41.955)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1740.3,4450.6,6.804)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1566.7,3927.5,10.375)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2626.1,2906.,113.203)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-4101.3,3811.2,259.633)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3654.4,5536.1,334.699)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3618.1,5427.7,166.098)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3749.9,4524.5,323.526)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-930.9,-99.4,276.022)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1232.9,32.6,174.978)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2063.6,28.7,162.195)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1102.8,-1510.8,162.94)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-990.5,-1191.5,237.101)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1566.6,-1696.,104.842)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1742.,-1708.7,118.761)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6724.6,-2505.4,44.55)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,6759.9,-3891.7,74.913)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,5469.5,-3938.8,112.828)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3888.6,-3684.4,87.645)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3539.9,-6467.9,75.697)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,3027.7,-6183.4,291.898)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,2909.8,-6324.6,209.475)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,1442.1,-4885.3,131.206)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1105.7,-5021.3,294.674)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1636.3,-4899.6,5.517)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1368.2,-4830.1,99.023)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3147.5,-5921.1,55.508)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-2855.7,-6557.1,291.745)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3450.7,-6946.3,331.521)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3060.8,-6876.6,174.12)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-3982.7,-6866.8,273.885)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-1123.5,-7021.9,323.905)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-112.3,-6727.2,102.603)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-6036.3,692.3,337.227)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-5884.2,407.6,84.318)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-7007.5,3102.9,108.381)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-209.4,2235.3,348.567)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-185.6,1785.9,320.346)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HD=CreateUnit(G4,$6E303636,-475.5,1520.1,209.385)
call SetUnitColor(HD,ConvertPlayerColor(10))
call SetUnitAcquireRange(HD,200.)
set HV=CreateUnit(G4,$6E303734,-7127.2,6052.3,229.412)
call SetUnitColor(HV,ConvertPlayerColor(11))
set HW=CreateUnit(G4,$68303836,-6647.,4329.5,185.31)
call SetUnitColor(HW,ConvertPlayerColor(10))
set HX=CreateUnit(G4,$68303837,-6646.5,4518.9,155.63)
call SetUnitColor(HX,ConvertPlayerColor(6))
set HY=CreateUnit(G4,$68303058,-6680.2,5637.3,241.766)
call SetUnitColor(HY,ConvertPlayerColor(6))
set HZ=CreateUnit(G4,$6E303735,-7025.,6261.8,270.)
set Ha=CreateUnit(G4,$6E303737,-7070.2,5336.1,270.)
set Hb=CreateUnit(G4,$6E303736,-7077.3,5803.3,270.)
set Hc=CreateUnit(G4,$6E303738,-6483.3,5246.,216.463)
set Hd=CreateUnit(G4,$6E303739,-7035.6,4930.1,270.)
endfunction
function gC takes nothing returns nothing
endfunction
function gD takes nothing returns nothing
call fx()
call fy()
call fz()
call f0()
call f1()
call f2()
call f3()
call f4()
call f5()
call f6()
call f7()
call f8()
endfunction
function gE takes nothing returns nothing
call f9()
call gC()
call gB()
call gD()
endfunction
function gF takes nothing returns nothing
set CB=Rect(7680.,-6752.,7840.,-6624.)
set CC=Rect(7008.,-3904.,7168.,-3776.)
set CD=Rect(-2848.,-1440.,-2688.,-1312.)
set CE=Rect(7200.,-1632.,7328.,-1504.)
set CF=Rect(7104.,-512.,7328.,-352.)
set CG=Rect(2304.,7008.,2560.,7264.)
set CH=Rect(-416.,-7008.,-256.,-6880.)
set CI=Rect(-6976.,-6368.,-6816.,-6240.)
set CJ=Rect(2400.,7072.,2496.,7168.)
set CK=Rect(-4640.,-5408.,-4544.,-5312.)
set CL=Rect(-800.,-6784.,-704.,-6688.)
set CM=Rect(3456.,-4864.,3552.,-4768.)
set CN=Rect(-4704.,1248.,-4608.,1344.)
set CO=Rect(3264.,-3328.,3360.,-3232.)
set CP=Rect(1440.,-5504.,1664.,-5312.)
set CQ=Rect(6432.,-5216.,6656.,-5024.)
set CR=Rect(288.,3328.,448.,3488.)
set CS=Rect(-4608.,704.,-4448.,864.)
set CT=Rect(-5824.,1824.,-5664.,1984.)
set CU=Rect(-1088.,5472.,-928.,5632.)
set CV=Rect(-2752.,3712.,-2592.,3872.)
set CW=Rect(1472.,6336.,1632.,6496.)
set CX=Rect(-6176.,-4768.,-6016.,-4608.)
set CY=Rect(-1696.,-4800.,-1536.,-4640.)
set CZ=Rect(7008.,-4960.,7168.,-4800.)
set Ca=Rect(6816.,-7200.,7968.,-6176.)
set Cb=Rect(-640.,-7296.,288.,-5920.)
set Cc=Rect(-7072.,-6720.,-6304.,-5952.)
set Cd=Rect(-320.,6400.,-128.,6560.)
set Ce=Rect(-6336.,3040.,-5664.,3872.)
set Cf=Rect(5632.,-2176.,6336.,-1664.)
set Cg=Rect(7520.,-5632.,7872.,-5024.)
set Ch=Rect(-7296.,5152.,-7264.,5184.)
set Ci=Rect(-5408.,3264.,-5216.,3456.)
set Cj=Rect(-1952.,5376.,-1760.,5568.)
set Ck=Rect(-896.,320.,-704.,512.)
set Cl=Rect(2976.,2208.,3168.,2400.)
set Cm=Rect(2144.,-2272.,2336.,-2080.)
set Cn=Rect(-2144.,-1696.,-1952.,-1504.)
set Co=Rect(-3648.,-6880.,-3456.,-6688.)
set Cp=Rect(-4256.,6240.,-4192.,6304.)
set Cq=Rect(-4768.,5216.,-4704.,5280.)
set Cr=Rect(-3744.,5216.,-3680.,5280.)
set Cs=Rect(-3232.,5216.,-3168.,5280.)
set Ct=Rect(-3744.,6240.,-3680.,6304.)
set Cu=Rect(-4768.,6240.,-4704.,6304.)
set Cv=Rect(-3232.,6240.,-3168.,6304.)
set Cw=Rect(-4256.,5728.,-4192.,5792.)
set Cx=Rect(-3744.,5728.,-3680.,5792.)
set Cy=Rect(-3232.,5728.,-3168.,5792.)
set Cz=Rect(-3744.,6752.,-3680.,6816.)
set C0=Rect(-4256.,5216.,-4192.,5280.)
set C1=Rect(1280.,5856.,1632.,6208.)
set C2=Rect(6240.,5888.,6560.,6144.)
set C3=Rect(3808.,-1696.,4064.,-1472.)
set C4=Rect(-6560.,864.,-6272.,1088.)
set C5=Rect(512.,224.,896.,800.)
set C6=Rect(5952.,-4096.,6208.,-3872.)
set C7=Rect(1856.,1728.,2368.,2240.)
set C8=Rect(1344.,-1824.,1856.,-1312.)
set C9=Rect(2176.,4480.,2688.,4992.)
set DB=Rect(6656.,-5632.,7168.,-5120.)
set DC=Rect(1856.,4160.,3008.,5312.)
set DD=Rect(6080.,-2016.,7360.,-864.)
set DE=Rect(2144.,6176.,2688.,7200.)
set DF=Rect(6528.,6592.,7136.,7264.)
set DG=Rect(-3168.,-1920.,-2592.,-1216.)
set DH=Rect(6016.,-864.,7616.,-224.)
set DI=Rect(-7168.,-2784.,-7104.,-2720.)
set DJ=Rect(2336.,5952.,2560.,6176.)
set DK=Rect(2272.,4320.,2592.,4576.)
set DL=Rect(-4608.,6688.,-4448.,6848.)
set DM=Rect(3584.,6016.,3744.,6176.)
set DN=Rect(4000.,1888.,4192.,2080.)
set DO=Rect(-4128.,-1856.,-3904.,-1664.)
set DP=Rect(-4000.,32.,-3840.,192.)
set DQ=Rect(3136.,6112.,3264.,6240.)
set DR=Rect(-3744.,-192.,-3584.,-64.)
set DS=Rect(4608.,2048.,4768.,2208.)
set DT=Rect(4768.,2080.,4864.,2176.)
set DU=Rect(-5632.,3872.,-2528.,7424.)
set DV=Rect(6880.,-1568.,7008.,-1440.)
set DW=Rect(-6144.,3424.,-6016.,3552.)
set DX=Rect(5728.,-1792.,5856.,-1664.)
set DY=Rect(416.,2720.,544.,2848.)
set DZ=Rect(6976.,1536.,7104.,1664.)
set Da=Rect(7680.,-5344.,7808.,-5216.)
set Db=Rect(-5184.,-1792.,-5056.,-1664.)
set Dc=Rect(2080.,4896.,2208.,5024.)
set Dd=Rect(1472.,6336.,1600.,6464.)
set De=Rect(160.,3136.,288.,3264.)
set Df=Rect(-1056.,5184.,-928.,5312.)
set Dg=Rect(-2432.,6016.,-2304.,6144.)
set Dh=Rect(-3264.,6720.,-3136.,6848.)
set Di=Rect(-5184.,6144.,-5056.,6272.)
set Dj=Rect(-4896.,2624.,-4768.,2752.)
set Dk=Rect(-5792.,1952.,-5664.,2080.)
set Dl=Rect(-4576.,672.,-4448.,800.)
set Dm=Rect(-128.,-1664.,0.,-1536.)
set Dn=Rect(-1312.,2624.,-1184.,2752.)
set Do=Rect(-6560.,-4800.,-6432.,-4672.)
set Dp=Rect(-6400.,-6912.,-6272.,-6784.)
set Dq=Rect(-3840.,-6016.,-3712.,-5888.)
set Dr=Rect(-3712.,-6688.,-3584.,-6560.)
set Ds=Rect(-1632.,-6528.,-1504.,-6400.)
set Dt=Rect(-2176.,-6144.,-2048.,-6016.)
set Du=Rect(-3680.,-4192.,-3552.,-4064.)
set Dv=Rect(-3104.,-4992.,-2976.,-4864.)
set Dw=Rect(-1632.,-4672.,-1504.,-4544.)
set Dx=Rect(1536.,-1792.,1664.,-1664.)
set Dy=Rect(-1376.,-7104.,-1248.,-6976.)
set Dz=Rect(-192.,-7072.,-64.,-6944.)
set D0=Rect(0.,-4320.,128.,-4192.)
set D1=Rect(992.,-3456.,1120.,-3328.)
set D2=Rect(1600.,-5952.,1728.,-5824.)
set D3=Rect(2880.,-6464.,3008.,-6336.)
set D4=Rect(4512.,-6176.,4640.,-6048.)
set D5=Rect(5536.,-6784.,5664.,-6656.)
set D6=Rect(5280.,-5280.,5408.,-5152.)
set D7=Rect(3200.,-3744.,3328.,-3616.)
set D8=Rect(2240.,-1472.,2368.,-1344.)
set D9=Rect(7040.,-4640.,7168.,-4512.)
set EB=Rect(6656.,-3968.,6784.,-3840.)
set EC=Rect(7680.,-5728.,7808.,-5600.)
set ED=Rect(6656.,-5920.,6784.,-5792.)
set EE=Rect(7040.,-6976.,7168.,-6848.)
set EF=Rect(4640.,5856.,4768.,5984.)
set EG=Rect(5760.,704.,5888.,832.)
set EH=Rect(6880.,4320.,7008.,4448.)
set EI=Rect(6432.,2144.,6560.,2272.)
set EJ=Rect(5376.,4640.,5504.,4768.)
set EK=Rect(4832.,4224.,4960.,4352.)
set EL=Rect(1280.,288.,1408.,416.)
set EM=Rect(1504.,3808.,3360.,5664.)
set EN=Rect(-6464.,5216.,-6336.,5280.)
set EO=Rect(-6848.,5120.,-6560.,5408.)
set EP=Rect(-7040.,4896.,-6752.,5632.)
set EQ=Rect(-5056.,5184.,-4928.,5504.)
set ER=Rect(-5888.,4960.,-5632.,5536.)
set ES=Rect(-6912.,4928.,-5152.,5568.)
set ET=Rect(4128.,-3648.,4256.,-3552.)
set EU=Rect(3616.,-4384.,4832.,-3456.)
set EV=Rect(6432.,-4480.,7488.,-3584.)
set EW=Rect(352.,-7040.,2720.,-4320.)
set EX=Rect(160.,-5888.,1120.,-5312.)
set EY=Rect(1952.,-5856.,2912.,-5280.)
set EZ=Rect(-224.,-5920.,32.,-5312.)
set Ea=Rect(3008.,-5920.,3264.,-5312.)
set Eb=Rect(-6752.,-5184.,-6656.,-5088.)
set Ec=Rect(-3808.,896.,-3712.,992.)
set Ed=Rect(-3744.,0.,-3648.,96.)
set Ee=Rect(6848.,2560.,6944.,2656.)
set Ef=Rect(4896.,2720.,4992.,2816.)
set Eg=Rect(4224.,3232.,4320.,3328.)
set Eh=Rect(4160.,4896.,4256.,4992.)
set Ei=Rect(1792.,6368.,1888.,6464.)
set Ej=Rect(64.,6624.,160.,6720.)
set Ek=Rect(-1760.,6592.,-1664.,6688.)
set El=Rect(-2624.,6336.,-2528.,6432.)
set Em=Rect(-3808.,6912.,-3712.,7008.)
set En=Rect(-5248.,6784.,-5152.,6880.)
set Eo=Rect(-5216.,4128.,-5120.,4224.)
set Ep=Rect(-4160.,2112.,-4064.,2208.)
set Eq=Rect(-4224.,-1632.,-4128.,-1536.)
set Er=Rect(-4032.,-4128.,-3936.,-4032.)
set Es=Rect(-4192.,-5664.,-4096.,-5568.)
set Et=Rect(-6400.,-7040.,-6304.,-6944.)
set Eu=Rect(-2752.,-7168.,-2656.,-7072.)
set Ev=Rect(-3200.,-5984.,-3104.,-5888.)
set Ew=Rect(-1216.,-7104.,-1120.,-7008.)
set Ex=Rect(-1568.,-6272.,-1472.,-6176.)
set Ey=Rect(-1280.,-3392.,-1184.,-3296.)
set Ez=Rect(-2432.,-2848.,-2336.,-2752.)
set E0=Rect(-608.,-1024.,-512.,-928.)
set E1=Rect(-1280.,-32.,-1184.,64.)
set E2=Rect(-1536.,2688.,-1440.,2784.)
set E3=Rect(-224.,1472.,-128.,1568.)
set E4=Rect(704.,3328.,800.,3424.)
set E5=Rect(768.,4384.,864.,4480.)
set E6=Rect(1536.,5504.,1632.,5600.)
set E7=Rect(1216.,800.,1312.,896.)
set E8=Rect(2176.,416.,2272.,512.)
set E9=Rect(3584.,320.,3680.,416.)
set FB=Rect(2816.,2272.,2912.,2368.)
set FC=Rect(5024.,1472.,5120.,1568.)
set FD=Rect(6016.,2144.,6112.,2240.)
set FE=Rect(5728.,-1504.,5824.,-1408.)
set FF=Rect(7072.,-1888.,7168.,-1792.)
set FG=Rect(4928.,-2432.,5024.,-2336.)
set FH=Rect(3392.,-2048.,3488.,-1952.)
set FI=Rect(3520.,-1216.,3616.,-1120.)
set FJ=Rect(1696.,-1888.,1792.,-1792.)
set FK=Rect(480.,-1472.,576.,-1376.)
set FL=Rect(-32.,-2560.,64.,-2464.)
set FM=Rect(-352.,-3936.,-256.,-3840.)
set FN=Rect(2272.,-4096.,2368.,-4000.)
set FO=Rect(2848.,-6144.,2944.,-6048.)
set FP=Rect(4992.,-6848.,5088.,-6752.)
set FQ=Rect(6048.,-5440.,6144.,-5344.)
set FR=Rect(7584.,-4416.,7680.,-4320.)
set FS=Rect(7744.,-6144.,7840.,-6048.)
set FT=Rect(7360.,-6976.,7456.,-6880.)
set FU=Rect(4768.,-4544.,4864.,-4448.)
set FV=Rect(-1696.,-5088.,-1600.,-4992.)
set FW=Rect(-2560.,-4864.,-2464.,-4768.)
set FX=Rect(-6976.,-2144.,-6880.,-2048.)
set FY=Rect(-5376.,288.,-5280.,384.)
set FZ=Rect(5760.,6240.,5856.,6336.)
set Fa=Rect(5472.,5600.,5568.,5696.)
set Fb=Rect(5696.,4224.,5792.,4320.)
set Fc=Rect(-7040.,-3936.,-6944.,-3840.)
set Fd=Rect(-5120.,-5824.,-4736.,-5408.)
set Fe=Rect(-2272.,-2528.,-1920.,-2272.)
set Ff=Rect(-4768.,2240.,-4352.,2688.)
set Fg=Rect(-7104.,-3008.,-7040.,-2944.)
set Fh=Rect(6912.,640.,7008.,736.)
set Fi=Rect(4896.,-5568.,5088.,-5376.)
set Fj=Rect(3520.,-6144.,3648.,-6016.)
set Fk=Rect(-6016.,-5792.,-5952.,-5728.)
set Fl=Rect(-6240.,-5216.,-6176.,-5152.)
set Fm=Rect(-5984.,-5984.,-5920.,-5920.)
set Fn=Rect(2080.,2432.,2176.,2528.)
set Fo=Rect(1472.,-6144.,1664.,-5952.)
set Fp=Rect(-6304.,1664.,-6112.,1856.)
set Fq=Rect(-2528.,2752.,-2336.,2944.)
set Fr=Rect(-192.,6176.,0.,6368.)
set Fs=Rect(4928.,5984.,5120.,6176.)
set Ft=Rect(5920.,672.,6112.,864.)
set Fu=Rect(1216.,512.,1408.,704.)
set Fv=Rect(480.,3136.,672.,3328.)
set Fw=Rect(-4864.,736.,-4672.,928.)
set Fx=Rect(-3328.,640.,-3136.,832.)
set Fy=Rect(-1024.,-1920.,-832.,-1728.)
set Fz=Rect(-2240.,-2784.,-2048.,-2592.)
set F0=Rect(-4416.,-2592.,-4224.,-2400.)
set F1=Rect(-6848.,-3776.,-6656.,-3584.)
set F2=Rect(-3552.,-6176.,-3360.,-5984.)
set F3=Rect(-4000.,-4384.,-3808.,-4192.)
set F4=Rect(-1888.,-6304.,-1696.,-6112.)
set F5=Rect(576.,-1760.,768.,-1568.)
set F6=Rect(6432.,-2784.,6624.,-2592.)
set F7=Rect(5248.,-6976.,5440.,-6784.)
set F8=Rect(5824.,4448.,6016.,4640.)
set F9=Rect(-928.,2272.,-768.,2400.)
set GB=Rect(-864.,2176.,-800.,2240.)
set GC=Rect(-7328.,4064.,-7200.,4256.)
set GD=Rect(-5344.,4000.,-4064.,4832.)
set GE=Rect(-5312.,5856.,-4064.,6496.)
set GF=Rect(-6976.,6208.,-6496.,6624.)
set GG=Rect(-7104.,3136.,-6240.,3680.)
set GH=Rect(-6624.,3392.,-6496.,3520.)
set GI=Rect(6848.,7040.,6976.,7168.)
set GJ=Rect(-7552.,3776.,-5632.,7328.)
set GK=Rect(-7168.,5696.,-7072.,5792.)
set GL=Rect(-7200.,5888.,-7136.,5952.)
set GM=Rect(-7264.,6144.,-7072.,6464.)
set GN=Rect(-7520.,-3168.,-6432.,-2368.)
set GO=Rect(-6912.,-3360.,-6240.,-2176.)
set GP=Rect(-6528.,-3168.,-6464.,-3104.)
set GQ=Rect(-4800.,4736.,-4064.,5984.)
set GR=Rect(928.,-6240.,2144.,-5024.)
set GS=Rect(1472.,-4928.,1600.,-4800.)
set GT=Rect(1472.,-4640.,1600.,-4512.)
set GU=Rect(-6656.,-5600.,-6592.,-5536.)
set GV=Rect(256.,2464.,736.,3104.)
set GW=Rect(6816.,1344.,7040.,1856.)
set GX=Rect(-7456.,-704.,-7168.,-288.)
set GY=Rect(-7456.,-704.,-5952.,-256.)
set GZ=Rect(-288.,6752.,-128.,6848.)
set Ga=Rect(6560.,6336.,6624.,6400.)
set Gb=Rect(-7456.,3968.,-5632.,7328.)
set Gc=Rect(-6752.,6592.,-6304.,7072.)
set Gd=Rect(-7456.,3904.,-5696.,7264.)
endfunction
function gG takes nothing returns nothing
set Ge=CreateCameraSetup()
call CameraSetupSetField(Ge,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_ROTATION,136.6,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_ANGLE_OF_ATTACK,335.7,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_TARGET_DISTANCE,2415.8,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Ge,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Ge,-5016.,5349.6,0.)
set Gf=CreateCameraSetup()
call CameraSetupSetField(Gf,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_ROTATION,92.2,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_ANGLE_OF_ATTACK,318.8,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_TARGET_DISTANCE,1363.6,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gf,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gf,-5863.3,5423.5,0.)
set Gg=CreateCameraSetup()
call CameraSetupSetField(Gg,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_ROTATION,90.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_TARGET_DISTANCE,1650.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gg,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gg,-5091.5,5258.6,0.)
set Gh=CreateCameraSetup()
call CameraSetupSetField(Gh,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_ROTATION,90.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_TARGET_DISTANCE,1650.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gh,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gh,-6494.2,6470.8,0.)
set Gi=CreateCameraSetup()
call CameraSetupSetField(Gi,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_ROTATION,147.8,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_ANGLE_OF_ATTACK,329.8,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_TARGET_DISTANCE,1127.,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gi,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gi,-4372.7,2459.2,0.)
set Gj=CreateCameraSetup()
call CameraSetupSetField(Gj,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_ROTATION,90.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_TARGET_DISTANCE,1650.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gj,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gj,-4372.7,2459.2,0.)
set Gk=CreateCameraSetup()
call CameraSetupSetField(Gk,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_ROTATION,104.5,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_ANGLE_OF_ATTACK,315.9,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_TARGET_DISTANCE,1996.5,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gk,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gk,-5417.1,5341.3,0.)
set Gl=CreateCameraSetup()
call CameraSetupSetField(Gl,CAMERA_FIELD_ZOFFSET,0.,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_ROTATION,90.,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_TARGET_DISTANCE,1996.5,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_ROLL,0.,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_FIELD_OF_VIEW,70.,0.)
call CameraSetupSetField(Gl,CAMERA_FIELD_FARZ,5000.,0.)
call CameraSetupSetDestPosition(Gl,-6522.7,6850.1,0.)
endfunction
function gH takes nothing returns nothing
local timer Hu=GetExpiredTimer()
local integer Hy=GetHandleId(Hu)
local unit HD=LoadUnitHandle(Rg,Hy,30)
local integer VD=LoadInteger(Rg,Hy,31)+1
local string VE=LoadStr(Rg,Hy,VD+101)
local texttag RM=LoadTextTagHandle(Rg,Hy,32)
call SaveInteger(Rg,Hy,31,VD)
call DestroyTextTag(RM)
set RM=CreateTextTagLocBJ(VE,Location(GetUnitX(HD)-50,GetUnitY(HD)),80,7,100,100,100,90)
call SaveTextTagHandle(Rg,Hy,32,RM)
if VD==21 or GetUnitState(HD,UNIT_STATE_LIFE)<=0 then
call FlushChildHashtable(Rg,Hy)
call PauseTimer(Hu)
call DestroyTimer(Hu)
call DestroyTextTag(RM)
endif
set HD=null
set Hu=null
set RM=null
endfunction
function gI takes unit Uz,unit U0,real U1,real U2,integer U3 returns nothing
local timer Hu=CreateTimer()
local integer Hy=GetHandleId(Hu)
local integer VB=100
local texttag RM
local string array U9
local unit HD=Uz
local unit U6=U0
local real U4=U1
local real U5=U2
local real U8=U4-U5
local integer Pi=U3
local real U7=U5*GetUnitAbilityLevel(U6,Pi)
local real VC=(U8+U7)/20
set U9[1]="|cFF33CC41IIIIIIIIIIIIIIIIIIII|r"
set U9[2]="|cFF33CC41IIIIIIIIIIIIIIIIIII|•r"
set U9[3]="|cFF33CC41IIIIIIIIIIIIIIIIII|r• •"
set U9[4]="|cFF33CC41IIIIIIIIIIIIIIIII|r• • •"
set U9[5]="|cFF33CC41IIIIIIIIIIIIIIII|r• • • •"
set U9[6]="|cFF33CC41IIIIIIIIIIIIIII|r• • • • •"
set U9[7]="|cFF33CC41IIIIIIIIIIIIII|r• • • • • •"
set U9[8]="|cFF33CC41IIIIIIIIIIIII|r• • • • • • •"
set U9[9]="|cFF33CC41IIIIIIIIIIII|r• • • • • • • •"
set U9[10]="|cFF33CC41IIIIIIIIIII|r• • • • • • • • •"
set U9[11]="|cFF33CC41IIIIIIIIII|r• • • • • • • • • •"
set U9[12]="|cFF33CC41IIIIIIIII|r• • • • • • • • • • •"
set U9[13]="|cFF33CC41IIIIIIII|r• • • • • • • • • • • •"
set U9[14]="|cFF33CC41IIIIIII|r• • • • • • • • • • • • •"
set U9[15]="|cFF33CC41IIIIII|r• • • • • • • • • • • • • •"
set U9[16]="|cFF33CC41IIIII|r• • • • • • • • • • • • • • •"
set U9[17]="|cFF33CC41IIII|r• • • • • • • • • • • • • • • •"
set U9[18]="|cFF33CC41III|r• • • • • • • • • • • • • • • • •"
set U9[19]="|cFF33CC41II|r• • • • • • • • • • • • • • • • • •"
set U9[20]="|cFF33CC41I|r• • • • • • • • • • • • • • • • • • •"
set U9[21]="• • • • • • • • • • • • • • • • • • • •"
call SaveAgentHandle(Rg,Hy,30,HD)
call SaveInteger(Rg,Hy,31,1)
set RM=CreateTextTagLocBJ("|cFF33CC41IIIIIIIIIIIIIIIIIII|r•",Location(GetUnitX(HD)-50,GetUnitY(HD)),80,7,100,100,100,90)
call SaveTextTagHandle(Rg,Hy,32,RM)
loop
exitwhen VB==121
set VB=VB+1
call SaveStr(Rg,Hy,VB,U9[VB-100])
endloop
call TimerStart(Hu,VC,true,function gH)
set HD=null
set Hu=null
endfunction
function gJ takes player G4,string Qq,string Qr,integer Qs,string Qh returns nothing
local integer Qu=0
local string Qt=""
local string Qv=""
local string Qw=""
if Qr=="1" then
set Qt="Stalker"
elseif Qr=="2" then
set Qt="Rocketeer"
elseif Qr=="3" then
set Qt="Piro"
elseif Qr=="4" then
set Qt="Medic"
elseif Qr=="5" then
set Qt="Gunner"
elseif Qr=="6" then
set Qt="Exploder"
elseif Qr=="7" then
set Qt="Sniper"
elseif Qr=="8" then
set Qt="Ingeneer"
else
set Qt=""
endif
set Qu=(Qs-1)*100
set Qv="item 1: "+MM[S2I(MI[7+Qu])]+"      \nitem 2: "+MM[S2I(MI[8+Qu])]+"      \nitem 3: "+MM[S2I(MI[9+Qu])]+"       \n"
set Qv=Qv+"item 4: "+MM[S2I(MI[10+Qu])]+"     \nitem 5: "+MM[S2I(MI[11+Qu])]+"     \nitem 6: "+MM[S2I(MI[12+Qu])]+"      \n"
set Qw="nos 1: "+MM[S2I(MI[13+Qu])]+"     \nnos 2: "+MM[S2I(MI[14+Qu])]+"     \nnos 3: "+MM[S2I(MI[15+Qu])]+"      \n"
set Qw=Qw+"nos 4: "+MM[S2I(MI[16+Qu])]+"    \nnos 5: "+MM[S2I(MI[17+Qu])]+"    \nnos 6: "+MM[S2I(MI[18+Qu])]+"     \n"
if GetLocalPlayer()==G4 then
call PreloadGenClear()
if StringLength(Qh)>0 then
call Preload("\")\n\r"+Qh+" \n\r ")
endif
call Preload("\")\n\r   -load "+Qq+"\n\r   lvl "+MI[4+Qu]+"\n   gold "+MI[1+Qu]+"      \n\r//")
call Preload("\")\n\r"+Qv+"  ")
if S2I(MI[4+Qu])>=40 and MI[6+Qu]=="1" then
call Preload("\")\n\r"+Qw+"  ")
endif
if StringLength(Qh)>0 then
call PreloadGenEnd("SAVE-GAME\\Goblin_Survival\\v1.4\\"+Qt+"\\( "+Qh+" ).txt")
else
call PreloadGenEnd("SAVE-GAME\\Goblin_Survival\\v1.4\\"+Qt+"\\-load "+Qq+".txt")
endif
endif
endfunction
function gK takes integer Pz returns string
local string array H6
set H6[1]="|c00FF0000"
set H6[2]="|c000000FF"
set H6[3]="|c001CE6B9"
set H6[4]="|c00540081"
set H6[5]="|c00FFFC01"
set H6[6]="|c00FEBA0E"
set H6[7]="|c0020C000"
set H6[8]="|c00E55BB0"
set H6[9]="|c00959697"
set H6[10]="|c007EBFF1"
set H6[11]="|c00106246"
set H6[12]="|c004E2A04"
return H6[Pz]
endfunction
function gM takes player G4 returns nothing
call SetPlayerAbilityAvailableBJ(false,$41304351,G4)
call SetPlayerAbilityAvailableBJ(false,$41304352,G4)
call SetPlayerAbilityAvailableBJ(false,$41304356,G4)
call SetPlayerAbilityAvailableBJ(false,$41305557,G4)
call SetPlayerAbilityAvailableBJ(false,$41313958,G4)
call SetPlayerAbilityAvailableBJ(false,$41313949,G4)
call SetPlayerAbilityAvailableBJ(false,$4130574D,G4)
call SetPlayerAbilityAvailableBJ(false,$41304433,G4)
endfunction
function gN takes nothing returns nothing
call AddHeroXPSwapped(5,GetEnumUnit(),true)
endfunction
function gO takes nothing returns nothing
if GetDestructableTypeId(GetEnumDestructable())==$42303033 or GetDestructableTypeId(GetEnumDestructable())==$44546573 then
call RemoveDestructable(GetEnumDestructable())
endif
endfunction
function gP takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6864756D,Player(0),GetRectCenter(F9),bj_UNIT_FACING)
call UnitAddAbilityBJ($41314447,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303430,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131445A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A57,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305335,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304341,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130384C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A5A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B35,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130564F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303557,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304932,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130574B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305953,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305A4C,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131355A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314347,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131325A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314333,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305949,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A39,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305337,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305458,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130454C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313939,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A4D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131385A,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131394A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A45,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304D55,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130464F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304D4C,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130464E,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130584C,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130384A,GetLastCreatedUnit())
call UnitAddAbilityBJ($4132394F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313959,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313949,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313958,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305341,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303053,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313658,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303052,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305539,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313659,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313953,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313954,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131365A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A37,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313937,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C4C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314445,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305A44,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313936,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B4D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B4E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A4B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304855,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A4B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313259,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B41,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131464D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131394B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A4D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305A4B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A4E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305936,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313545,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314245,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304A51,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305536,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305453,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304930,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303838,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305448,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313853,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305449,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303030,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B43,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314843,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305258,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305A4E,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130574A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304555,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131394D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304F50,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305855,GetLastCreatedUnit())
call RemoveUnit(GetLastCreatedUnit())
endfunction
function gQ takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6864756D,Player(0),GetRectCenter(F9),bj_UNIT_FACING)
call UnitAddAbilityBJ($4130514F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305645,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304C5A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305958,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304456,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313630,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313354,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313642,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304C44,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303655,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304344,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130525A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314131,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303836,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303447,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304357,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130354C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303738,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303942,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313850,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313732,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131344C,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131354D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304C55,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314358,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314359,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131435A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304B59,GetLastCreatedUnit())
call RemoveUnit(GetLastCreatedUnit())
endfunction
function gR takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6864756D,Player(0),GetRectCenter(F9),bj_UNIT_FACING)
call UnitAddAbilityBJ($41314430,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314433,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314438,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314434,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314439,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444A,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444B,GetLastCreatedUnit())
call UnitAddAbilityBJ($41363934,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C54,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314450,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B4F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B54,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C36,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314457,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314456,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314530,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314532,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314533,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314534,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314459,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C39,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C59,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314354,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C48,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C49,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C4A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314535,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B49,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304C48,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305755,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304749,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304451,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305643,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303846,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130474C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304859,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304745,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304454,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303734,GetLastCreatedUnit())
call RemoveUnit(GetLastCreatedUnit())
endfunction
function gS takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6864756D,Player(0),GetRectCenter(F9),bj_UNIT_FACING)
call UnitAddAbilityBJ($41305851,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314130,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304546,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304F4A,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130354A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313856,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130544E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314649,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314934,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131345A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305853,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304542,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313951,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130574E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B59,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C33,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305338,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131394F,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131394E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C44,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C45,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314437,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304C4D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314442,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314448,GetLastCreatedUnit())
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C35,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C37,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314455,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314454,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314531,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130384D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303947,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314239,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A33,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A38,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314655,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314356,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444C,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314446,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C38,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303946,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314A36,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C4F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314B55,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C34,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C31,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C30,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314355,GetLastCreatedUnit())
call UnitAddAbilityBJ($4131444E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C47,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314435,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C55,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C56,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C42,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304453,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C43,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C4E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C4D,GetLastCreatedUnit())
call UnitAddAbilityBJ($53303030,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C50,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314431,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305042,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305041,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305039,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305043,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305044,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305045,GetLastCreatedUnit())
call RemoveUnit(GetLastCreatedUnit())
endfunction
function gT takes nothing returns nothing
call EnumDestructablesInRectAll(GQ,function gO)
call EnumDestructablesInRectAll(GD,function gO)
call EnumDestructablesInRectAll(GE,function gO)
call SetDestructableLifePercentBJ(Gn,0.)
call SetDestructableLifePercentBJ(Gq,0.)
call RemoveUnit(Hc)
call RemoveUnit(HY)
endfunction
function gU takes nothing returns nothing
local integer H9=1
call CreateMultiboardBJ(7,Is+5,"GS")
set MY=GetLastCreatedMultiboard()
call MultiboardMinimizeBJ(true,MY)
call MultiboardSetItemStyleBJ(MY,1,0,false,true)
call MultiboardSetItemStyleBJ(MY,2,0,true,false)
call MultiboardSetItemStyleBJ(MY,3,0,true,false)
call MultiboardSetItemStyleBJ(MY,4,0,true,false)
call MultiboardSetItemStyleBJ(MY,5,0,true,false)
call MultiboardSetItemStyleBJ(MY,6,0,true,false)
call MultiboardSetItemStyleBJ(MY,7,0,true,false)
call MultiboardSetItemStyleBJ(MY,7,1,false,true)
call MultiboardSetItemWidthBJ(MY,1,0,1.1)
call MultiboardSetItemWidthBJ(MY,2,0,10.)
call MultiboardSetItemWidthBJ(MY,3,0,2.)
call MultiboardSetItemWidthBJ(MY,4,0,3.5)
call MultiboardSetItemWidthBJ(MY,5,0,3.5)
call MultiboardSetItemWidthBJ(MY,6,0,2.)
call MultiboardSetItemWidthBJ(MY,7,0,1.1)
call MultiboardSetItemStyleBJ(MY,1,Is+3,true,false)
call MultiboardSetItemStyleBJ(MY,1,Is+4,true,false)
call MultiboardSetItemStyleBJ(MY,1,Is+5,true,false)
call MultiboardSetItemWidthBJ(MY,1,Is+3,10.)
call MultiboardSetItemWidthBJ(MY,2,Is+3,10.)
call MultiboardSetItemWidthBJ(MY,1,Is+4,10.)
call MultiboardSetItemWidthBJ(MY,2,Is+4,10.)
call MultiboardSetItemWidthBJ(MY,1,Is+5,10.)
call MultiboardSetItemWidthBJ(MY,2,Is+5,10.)
call MultiboardSetItemIconBJ(MY,1,1,"ReplaceableTextures\\WorldEditUI\\Editor-MultipleUnits.blp")
call MultiboardSetItemIconBJ(MY,7,1,"BTNClover.blp")
call MultiboardSetItemValueBJ(MY,2,1,"|c0000FFFFИгрок|r")
call MultiboardSetItemValueBJ(MY,3,1,"|c0000FFFFlvl|r")
call MultiboardSetItemValueBJ(MY,4,1,"|c0000FFFFHP|r")
call MultiboardSetItemValueBJ(MY,5,1,"|c0000FFFFMP|r")
call MultiboardSetItemValueBJ(MY,6,1,"|c0000FFFFЕда|r")
set bj_forLoopAIndex=1
loop
exitwhen bj_forLoopAIndex>10
if O5[bj_forLoopAIndex] then
set H9=H9+1
if GetUnitTypeId(Pd[bj_forLoopAIndex])==$4E303030 then
call MultiboardSetItemIconBJ(MY,1,H9,"ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303030 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblinIn.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303033 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblinZeppelin.BLP")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303031 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblinPyrotechnician.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303032 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblinFireworker.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303035 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblinMiner.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303036 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNBombardier.blp")
elseif GetUnitTypeId(Pd[bj_forLoopAIndex])==$48303034 then
call MultiboardSetItemIconBJ(MY,1,H9,"BTNGoblintinkeralt.blp")
endif
call MultiboardSetItemValueBJ(MY,2,H9,GetPlayerName(ConvertedPlayer(GetForLoopIndexA())))
call MultiboardSetItemValueBJ(MY,3,H9,I2S(GetHeroLevel(Pd[bj_forLoopAIndex])))
call MultiboardSetItemValueBJ(MY,4,H9,"|c0000FF00"+(I2S(R2I(GetUnitLifePercent(Pd[bj_forLoopAIndex])))+"|r"))
call MultiboardSetItemValueBJ(MY,5,H9,"|c000080FF"+(I2S(R2I(GetUnitManaPercent(Pd[bj_forLoopAIndex])))+"|r"))
call MultiboardSetItemValueBJ(MY,6,H9,"|c00FF8080"+(I2S(GetPlayerState(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER))+"|r"))
if MD[bj_forLoopAIndex]>25 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c0020FF20"+(I2S(MD[bj_forLoopAIndex])+"|r"))
elseif MD[bj_forLoopAIndex]>0 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c00FFFF00"+(I2S(MD[bj_forLoopAIndex])+"|r"))
elseif MD[bj_forLoopAIndex]==0 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c00BBBBBB"+(I2S(MD[bj_forLoopAIndex])+"|r"))
else
call MultiboardSetItemValueBJ(MY,7,H9,"|c00FF2000"+(I2S(MD[bj_forLoopAIndex])+"|r"))
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call MultiboardSetItemValueBJ(MY,1,Is+3,"|c00FF0000Врагов: |r|c0080FF80"+I2S(Iv))
call MultiboardSetItemValueBJ(MY,2,Is+3,"|c00FF0000Волна: |r|c0080FF80"+(I2S(O3)+(" ("+(I2S(J0/Lv[O3]*100)+")"))))
call MultiboardSetItemValueBJ(MY,1,Is+4,"|c00FF0000Сложность: |r"+I2S(Iu))
call MultiboardSetItemValueBJ(MY,2,Is+4,"|c00FF8000Удача команды: |r"+I2S(MP))
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8080Квест: |r-")
call MultiboardSetItemStyleBJ(MY,0,Is+2,true,false)
call MultiboardSetItemValueBJ(MY,0,Is+2,"-----------------")
call MultiboardSetTitleText(MY,"Экспедиция гоблинов (00:00:00)")
call EnableTrigger(Sd)
endfunction
function gV takes nothing returns nothing
set JT[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetHeroLevel(GetEnumUnit())
endfunction
function gW takes nothing returns nothing
call TriggerSleepAction(.3)
call ForGroupBJ(Ir,function gV)
call ConditionalTriggerExecute(Pb)
endfunction
function gX takes nothing returns nothing
set Pa=CreateTrigger()
call TriggerAddAction(Pa,function gW)
endfunction
function gY takes nothing returns nothing
set Je[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetHeroXP(GetEnumUnit())
endfunction
function gZ takes nothing returns nothing
call TriggerSleepAction(.3)
call ForGroupBJ(Ir,function gY)
call ConditionalTriggerExecute(Pb)
endfunction
function ga takes nothing returns nothing
set Pc=CreateTrigger()
call TriggerAddAction(Pc,function gZ)
endfunction
function gb takes nothing returns boolean
if not (JV[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>5) then
return false
endif
if not (IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),MK)==false) then
return false
endif
return true
endfunction
function gc takes nothing returns nothing
set JU[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetHeroLevel(GetEnumUnit())
set JV[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=JU[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]-JT[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]
if gb() then
call DisplayTimedTextToForce(MK,5.,"Дебаг: AnChDeb")
call RemoveUnit(Pd[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])
else
endif
endfunction
function gd takes nothing returns boolean
if not (KX==true) then
return false
endif
return true
endfunction
function ge takes nothing returns nothing
call TriggerSleepAction(.3)
if gd() then
else
call ForGroupBJ(Ir,function gc)
endif
call ConditionalTriggerExecute(Pa)
endfunction
function gf takes nothing returns nothing
set Pb=CreateTrigger()
call TriggerAddAction(Pb,function ge)
endfunction
function gg takes nothing returns boolean
if not (Jg[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>=10000) then
return false
endif
if not (IsPlayerInForce(GetOwningPlayer(GetEnumUnit()),MK)==false) then
return false
endif
return true
endfunction
function gh takes nothing returns nothing
set Jf[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetHeroXP(GetTriggerUnit())
set Jg[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=Jf[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]-Je[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]
if gg() then
call RemoveUnit(Pd[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])
call DisplayTimedTextToForce(MK,5.,"Дебаг: AnChExp")
else
endif
endfunction
function gi takes nothing returns boolean
if not (KX==true) then
return false
endif
return true
endfunction
function gj takes nothing returns nothing
call TriggerSleepAction(.3)
if gi() then
else
call ForGroupBJ(Ir,function gh)
endif
call ConditionalTriggerExecute(Pa)
endfunction
function gk takes nothing returns nothing
set Pe=CreateTrigger()
call TriggerAddAction(Pe,function gj)
endfunction
function gl takes nothing returns nothing
call RemoveUnit(HO)
endfunction
function gm takes nothing returns nothing
local integer H9=0
set Pf=CreateTrigger()
loop
exitwhen H9>12
call TriggerRegisterPlayerChatEvent(Pf,Player(H9),"!actioninterval",false)
set H9=H9+1
endloop
call TriggerAddAction(Pf,function gl)
endfunction
function gn takes nothing returns nothing
set Lb[GetConvertedPlayerId(GetTriggerPlayer())]=false
set Km[GetConvertedPlayerId(GetTriggerPlayer())]=true
endfunction
function go takes nothing returns boolean
local integer H9=1
local string H6=SS(GetEventPlayerChatString(),1,StringLength(GetEventPlayerChatString()))
local string IB=""
loop
exitwhen H9>SL(H6)
if SS(H6,H9-1,H9)==" " then
set H9=SL(H6)+1
else
set IB=IB+SS(H6,H9-1,H9)
set H9=H9+1
endif
endloop
if IB=="save" or IB=="load" or IB=="help" or IB=="mobs" or IB=="clear" or IB=="easy" or IB=="normal" or IB=="hard" or IB=="zoom" or IB=="kill" or IB=="kin" or IB=="dmg" or IB=="hc" or IB=="suic" or IB=="cl" or IB=="difficulty" or IB=="roll" then
return false
elseif IB=="noroll" or IB=="tt" or IB=="nott" or IB=="time" or IB=="notime" or IB=="blood" or IB=="noblood" or IB=="fog" or IB=="nofog" or IB=="ff" or IB=="noff" or IB=="admin" or IB=="sound" or IB=="sw" or IB=="nosw" or IB=="lowlvl" or IB=="paint" then
return false
elseif IB=="lumber" or IB=="gold" or IB=="money" or IB=="additem" or IB=="itemid" or IB=="item" or IB=="lvl" or IB=="exp" or IB=="clone" then
return true
else
return false
endif
endfunction
function gp takes nothing returns nothing
local integer H9=0
set Pg=CreateTrigger()
loop
exitwhen H9>12
call TriggerRegisterPlayerChatEvent(Pg,Player(H9),"-",false)
set H9=H9+1
endloop
call TriggerAddCondition(Pg,Condition(function go))
call TriggerAddAction(Pg,function gn)
endfunction
function gq takes nothing returns nothing
local integer Pi=0
endfunction
function gr takes nothing returns nothing
set Ph=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Ph,GetRandomReal(120.,900.))
call TriggerAddAction(Ph,function gq)
endfunction
function gs takes nothing returns nothing
local boolean Pk=false
local integer Pi=0
set Ko=false
loop
exitwhen Pi>9
if GetPlayerController(ConvertedPlayer(GetForLoopIndexA()))==MAP_CONTROL_USER then
if Pk then
set Ko=true
endif
set Pk=true
else
endif
set Pi=Pi+1
endloop
endfunction
function gt takes nothing returns nothing
set Pj=CreateTrigger()
call TriggerRegisterTimerEventSingle(Pj,1.)
call TriggerAddAction(Pj,function gs)
endfunction
function gu takes nothing returns boolean
if not ("с"=="c") then
return false
endif
return true
endfunction
function gv takes nothing returns boolean
if not (GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))!=0) then
return false
endif
return true
endfunction
function gw takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303034) then
return false
endif
return true
endfunction
function gx takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303036) then
return false
endif
return true
endfunction
function gy takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303035) then
return false
endif
return true
endfunction
function gz takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303032) then
return false
endif
return true
endfunction
function g0 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303031) then
return false
endif
return true
endfunction
function g1 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303033) then
return false
endif
return true
endfunction
function g2 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303030) then
return false
endif
return true
endfunction
function g3 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$4E303030) then
return false
endif
return true
endfunction
function g4 takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true
endfunction
function g5 takes nothing returns boolean
if not (IsItemOwned(UnitItemInSlotBJ(GetEnumUnit(),GetForLoopIndexA()))==true) then
return false
endif
return true
endfunction
function g6 takes nothing returns nothing
set Pm=GetEnumUnit()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if g5() then
set Pn=UnitItemInSlotBJ(GetEnumUnit(),GetForLoopIndexA())
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function g7 takes nothing returns boolean
return true
endfunction
function g8 takes nothing returns boolean
if not (R2I(GetUnitLifePercent(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))>0) then
return false
endif
if not (Kd[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function g9 takes nothing returns nothing
if false then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"|c00FF0000Ваш герой ещё жив, его нельзя сохранить!|r")
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if gv() then
call UnitRemoveItemFromSlotSwapped(GetForLoopIndexA(),GetTriggerUnit())
call SetItemPositionLoc(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()),GetUnitLoc(GetTriggerUnit()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ModifyHeroStat(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_SUB,KJ[GetConvertedPlayerId(GetTriggerPlayer())]*30)
set KJ[GetConvertedPlayerId(GetTriggerPlayer())]=0
call ModifyHeroStat(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_SUB,KL[GetConvertedPlayerId(GetTriggerPlayer())]*30)
set KL[GetConvertedPlayerId(GetTriggerPlayer())]=0
call ModifyHeroStat(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(GetTriggerPlayer())],bj_MODIFYMETHOD_SUB,KM[GetConvertedPlayerId(GetTriggerPlayer())]*30)
set KM[GetConvertedPlayerId(GetTriggerPlayer())]=0
set Kl=I2S(GetHeroLevel(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))
if g3() then
set Kk="Ingeneer"
else
if g2() then
set Kk="Stalker"
else
if g1() then
set Kk="Rocketeer"
else
if g0() then
set Kk="Piromaniac"
else
if gz() then
set Kk="Medic"
else
if gy() then
set Kk="Gunner"
else
if gx() then
set Kk="Blower"
else
if gw() then
set Kk="Sniper"
else
endif
endif
endif
endif
endif
endif
endif
endif
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,JR[GetConvertedPlayerId(GetTriggerPlayer())])
if g7() then
set I7=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function g4))
call ForGroupBJ(I7,function g6)
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"Ваш код:")
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),120.,I5)
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),120.,"Сохранено золота: "+I2S(JR[GetConvertedPlayerId(GetTriggerPlayer())]))
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),120.,"   ")
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),40.,"Вы можете найти ваш код в папке GOBLIN в корневой папке WarCraft III.")
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),40.,"   ")
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,0)
else
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"|c00FF0000У вас нет героя!|r")
endif
endif
endfunction
function hB takes nothing returns nothing
set Pl=CreateTrigger()
call DisableTrigger(Pl)
call TriggerRegisterPlayerChatEvent(Pl,Player(0),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(1),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(2),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(3),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(4),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(5),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(6),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(7),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(8),"-save",false)
call TriggerRegisterPlayerChatEvent(Pl,Player(9),"-save",false)
call TriggerAddCondition(Pl,Condition(function gu))
call TriggerAddAction(Pl,function g9)
endfunction
function hC takes nothing returns boolean
if not ("с"=="c") then
return false
endif
if not (SubStringBJ(GetEventPlayerChatString(),1,6)==GetEventPlayerChatStringMatched()) then
return false
endif
if not (StringLength(GetEventPlayerChatString())>6) then
return false
endif
return true
endfunction
function hD takes nothing returns boolean
if not hC() then
return false
endif
return true
endfunction
function hE takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function hF takes nothing returns nothing
if hE() then
else
endif
endfunction
function hG takes nothing returns boolean
return true
endfunction
function hH takes nothing returns boolean
return true
endfunction
function hI takes nothing returns boolean
if not (I6==false) then
return false
endif
return true
endfunction
function hJ takes nothing returns boolean
if not (GetHeroLevel(GetLastCreatedUnit())>=25) then
return false
endif
return true
endfunction
function hK takes nothing returns boolean
if not (GetHeroLevel(GetLastCreatedUnit())>=50) then
return false
endif
return true
endfunction
function hL takes nothing returns boolean
if not (GetHeroLevel(GetLastCreatedUnit())>=75) then
return false
endif
return true
endfunction
function hM takes nothing returns boolean
if not (GetHeroLevel(GetLastCreatedUnit())>=100) then
return false
endif
return true
endfunction
function hN takes nothing returns boolean
if not (GetHeroLevel(GetLastCreatedUnit())>=125) then
return false
endif
return true
endfunction
function hO takes nothing returns boolean
if Pp==$4E303030 then
return true
endif
if Pp==$48303030 then
return true
endif
if Pp==$48303033 then
return true
endif
if Pp==$48303031 then
return true
endif
if Pp==$48303032 then
return true
endif
if Pp==$48303035 then
return true
endif
if Pp==$48303036 then
return true
endif
if Pp==$48303034 then
return true
endif
return false
endfunction
function hP takes nothing returns boolean
if not hO() then
return false
endif
return true
endfunction
function hQ takes nothing returns boolean
return true
endfunction
function hR takes nothing returns nothing
set Jj=true
call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()),function hF)
if hQ() then
set I5=SubStringBJ(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))
if hG() then
set I5=SubStringBJ(I5,6,StringLength(I5))
else
endif
if hH() then
set I5=SubStringBJ(I5,1,5)+SubStringBJ(I5,11,StringLength(I5))
set K5[GetConvertedPlayerId(GetTriggerPlayer())]=true
else
endif
if hI() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Неверный код!")
call EnableTrigger(GetTriggeringTrigger())
return
else
endif
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=I9[0]
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if hP() then
call CreateNUnitsAtLoc(1,Pp,GetTriggerPlayer(),GetPlayerStartLocationLoc(GetTriggerPlayer()),bj_UNIT_FACING)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=KL[0]
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call UnitAddItemByIdSwapped(Pq,GetLastCreatedUnit())
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
if hN() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=25
else
if hM() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=20
else
if hL() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=15
else
if hK() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=10
else
if hJ() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=6
else
set KE[GetConvertedPlayerId(GetOwningPlayer(GetLastCreatedUnit()))]=3
endif
endif
endif
endif
endif
else
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
else
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"|c00FF0000У вас уже есть герой!|r")
endif
endfunction
function hS takes nothing returns nothing
set Po=CreateTrigger()
call DisableTrigger(Po)
call TriggerRegisterPlayerChatEvent(Po,Player(0),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(1),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(2),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(3),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(4),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(5),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(6),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(7),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(8),"-load ",false)
call TriggerRegisterPlayerChatEvent(Po,Player(9),"-load ",false)
call TriggerAddCondition(Po,Condition(function hD))
call TriggerAddAction(Po,function hR)
endfunction
function hT takes nothing returns boolean
if not (Ja[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0) then
return false
endif
return true
endfunction
function hU takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303434) then
return false
endif
return true
endfunction
function hV takes nothing returns boolean
if not (Ja[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=1) then
return false
endif
return true
endfunction
function hW takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303433) then
return false
endif
return true
endfunction
function hX takes nothing returns nothing
if hW() then
if hV() then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"|c00FF0000Вы уже ответили, что вам нужен этот предмет!|r")
else
set Ja[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetRandomInt(1,10000)
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|c0000FF40: Мне это нужно!|r")
endif
else
if hU() then
if hT() then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_SECRET,"|c00FF0000Вы уже ответили, что вам не нужен этот предмет!|r")
else
set Ja[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"|c0000FF40: Мне это не нужно!|r")
endif
else
endif
endif
endfunction
function hY takes nothing returns nothing
set Pr=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Pr,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(Pr,function hX)
endfunction
function hZ takes nothing returns boolean
if not (Ja[GetForLoopIndexA()]>Jb) then
return false
endif
return true
endfunction
function ha takes nothing returns boolean
if not (GetPlayerController(ConvertedPlayer(GetForLoopIndexA()))==MAP_CONTROL_USER) then
return false
endif
if not (GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (Ja[GetForLoopIndexA()]>0) then
return false
endif
return true
endfunction
function hb takes nothing returns boolean
if not (Jb==1) then
return false
endif
return true
endfunction
function hc takes nothing returns nothing
call DestroyTimerDialog(Pt)
call SetItemDroppable(Pu,true)
set Jb=1
set Jc=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if hZ() then
set Jb=Ja[GetForLoopIndexA()]
set Jc=GetForLoopIndexA()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if hb() then
call DisplayTextToForce(GetPlayersAll(),"|c0000FF40Предмет никому не нужен|r")
call RemoveItem(Pu)
call RemoveUnit(Pv)
else
call SetItemUserData(Pu,Jc)
call UnitRemoveItemFromSlotSwapped(1,Pv)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if ha() then
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(ConvertedPlayer(GetForLoopIndexA()))+("|c00C0C0C0 выбрасывает жребием число |r"+I2S(Ja[GetForLoopIndexA()])))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(ConvertedPlayer(Jc))+("|c0000FF40 выигрывает предмет |r"+(GetItemName(Pu)+("|c0000FF40, выкинув жребием число |r"+I2S(Jb)))))
call RemoveUnit(Pv)
endif
endfunction
function hd takes nothing returns nothing
set Ps=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Ps,Jd)
call TriggerAddAction(Ps,function hc)
endfunction
function he takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),Jm)==true) then
return false
endif
if not (S2I(SubStringBJ(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString())))>0) then
return false
endif
if not (S2I(SubStringBJ(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString())))<11) then
return false
endif
return true
endfunction
function hf takes nothing returns nothing
call CustomDefeatBJ(ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString())))),"Сожжён огнём инквизитора!")
call ConditionalTriggerExecute(Px)
endfunction
function hg takes nothing returns nothing
set Pw=CreateTrigger()
call TriggerRegisterPlayerChatEvent(Pw,Player(0),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(1),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(2),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(3),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(4),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(5),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(6),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(7),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(8),"-kin",false)
call TriggerRegisterPlayerChatEvent(Pw,Player(9),"-kin",false)
call TriggerAddCondition(Pw,Condition(function he))
call TriggerAddAction(Pw,function hf)
endfunction
function hh takes nothing returns boolean
if not (JG==true) then
return false
endif
return true
endfunction
function hi takes nothing returns boolean
if JH<=0 then
return true
endif
if JH==GetConvertedPlayerId(GetTriggerPlayer()) then
return true
endif
if JH>10 then
return true
endif
if GetPlayerSlotState(ConvertedPlayer(JH))==PLAYER_SLOT_STATE_EMPTY then
return true
endif
if IsPlayerInForce(ConvertedPlayer(JH),JK)==true then
return true
endif
if GetPlayerSlotState(ConvertedPlayer(JH))==PLAYER_SLOT_STATE_LEFT then
return true
endif
return false
endfunction
function hj takes nothing returns boolean
if not hi() then
return false
endif
return true
endfunction
function hk takes nothing returns boolean
if IsPlayerInForce(GetTriggerPlayer(),J6)==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Jm)==true then
return true
endif
return false
endfunction
function hl takes nothing returns boolean
if not hk() then
return false
endif
return true
endfunction
function hm takes nothing returns nothing
if hh() then
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Вы должны дождаться окончания этого голосвания.|r")
return
else
endif
set JH=S2I(SubStringBJ(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))
if hj() then
set JH=0
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Вы должны указать верный номер игрока, чтобы выгнать его.|r")
return
else
endif
set JI=gK(GetPlayerId(GetTriggerPlayer())+1)
set JL=gK(JH)
call DisplayTextToForce(GetPlayersAll(),JI+(GetPlayerName(GetTriggerPlayer())+"|r")+(" |cfffed312хочет выгнать игрока |r"+(JL+(GetPlayerName(ConvertedPlayer(JH))+"|r"))))
call DisplayTextToForce(GetPlayersAll(),"|cfffed312У вас есть 20 секунд что написать |r-да|cfffed312 или |r-нет")
set JG=true
call EnableTrigger(P0)
call EnableTrigger(P1)
set P2=1
loop
exitwhen P2>10
set JM[P2]=false
set P2=P2+1
endloop
set JM[JH]=true
set JM[GetConvertedPlayerId(GetTriggerPlayer())]=true
set JO=1
if hl() then
set JN=4
else
set JN=1
endif
call CreateLeaderboardBJ(GetPlayersAll(),"Голосование - За: "+(I2S(JN)+(" Против: "+I2S(JO))))
set P3=GetLastCreatedLeaderboard()
call LeaderboardAddItem(P3,"|cfffed312Кик: |r"+JL+GetPlayerName(ConvertedPlayer(JH))+"|r",0,ConvertedPlayer(JH))
call LeaderboardSetStyle(P3,true,true,false,false)
call LeaderboardSetSizeByItemCount(P3,1)
call StartTimerBJ(JP,false,20.)
call EnableTrigger(P4)
endfunction
function hn takes nothing returns nothing
set Py=CreateTrigger()
call DisableTrigger(Py)
call TriggerRegisterPlayerChatEvent(Py,Player(0),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(1),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(2),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(3),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(4),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(5),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(6),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(7),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(8),"-kick",false)
call TriggerRegisterPlayerChatEvent(Py,Player(9),"-kick",false)
call TriggerAddAction(Py,function hm)
endfunction
function ho takes nothing returns boolean
if not (JG==true) then
return false
endif
return true
endfunction
function hp takes nothing returns nothing
call TriggerExecute(P4)
endfunction
function hq takes nothing returns nothing
set P5=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(P5,JP)
call TriggerAddCondition(P5,Condition(function ho))
call TriggerAddAction(P5,function hp)
endfunction
function hr takes nothing returns boolean
if not (JN+JO>=JF) then
return false
endif
return true
endfunction
function hs takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$68303141) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$68303238) then
return false
endif
return true
endfunction
function ht takes nothing returns nothing
if hs() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function hu takes nothing returns boolean
if not (JN>JO) then
return false
endif
return true
endfunction
function hv takes nothing returns boolean
if not (IsPlayerInForce(ConvertedPlayer(P2),GetPlayersAll())==true) then
return false
endif
if not (IsPlayerInForce(ConvertedPlayer(P2),JK)==false) then
return false
endif
return true
endfunction
function hw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set JG=false
call PauseTimerBJ(true,JP)
call DestroyLeaderboard(P3)
call DisableTrigger(P0)
call DisableTrigger(P1)
if hu() then
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerAll(ConvertedPlayer(JH)),function ht)
call ForceAddPlayerSimple(ConvertedPlayer(JH),JK)
call DisplayTextToForce(GetPlayersAll()," |cfffed312Голосование удалось!|r")
call DisplayTextToForce(GetPlayersAll(),JL+(GetPlayerName(ConvertedPlayer(JH))+"|r")+" |cfffed312был кикнут!|r")
call CustomDefeatBJ(ConvertedPlayer(JH),"Вас выгнали игроки!")
call ConditionalTriggerExecute(Px)
else
call DisplayTextToForce(GetPlayersAll()," |cfffed312Голосование не прошло|r")
call DisplayTextToForce(GetPlayersAll(),JL+(GetPlayerName(ConvertedPlayer(JH))+"|r")+" |cfffed312не был кикнут.|r")
endif
call DisplayTextToForce(GetPlayersAll(),"|cfffed312Голоса - "+("За: "+("|r"+(I2S(JN)+"|cfffed312"))+(" Против: "+("|r"+I2S(JO)))+"|r"))
set JN=0
set JO=0
set JH=0
set JF=0
set P2=1
loop
exitwhen P2>10
set JM[P2]=false
if hv() then
set JF=JF+1
else
endif
set P2=P2+1
endloop
endfunction
function hx takes nothing returns nothing
set P4=CreateTrigger()
call DisableTrigger(P4)
call TriggerRegisterTimerEventPeriodic(P4,1.)
call TriggerAddCondition(P4,Condition(function hr))
call TriggerAddAction(P4,function hw)
endfunction
function hy takes nothing returns boolean
if IsPlayerInForce(GetTriggerPlayer(),J6)==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Jm)==true then
return true
endif
return false
endfunction
function hz takes nothing returns boolean
if not hy() then
return false
endif
return true
endfunction
function h0 takes nothing returns boolean
if not (JM[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function h1 takes nothing returns nothing
if h0() then
if hz() then
set JN=JN+4
else
set JN=JN+1
endif
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Голос засчитан|r")
set JM[GetConvertedPlayerId(GetTriggerPlayer())]=true
call LeaderboardSetLabelBJ(P3,"Голос"+("ование"+(" - За: "+I2S(JN)+(" Против: "+I2S(JO)))))
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Вы уже голосовали!|r")
endif
endfunction
function h2 takes nothing returns nothing
set P0=CreateTrigger()
call DisableTrigger(P0)
call TriggerRegisterPlayerChatEvent(P0,Player(0),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(1),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(2),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(3),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(4),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(5),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(6),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(7),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(8),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(9),"-да",true)
call TriggerRegisterPlayerChatEvent(P0,Player(0),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(1),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(2),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(3),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(4),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(5),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(6),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(7),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(8),"-yes",true)
call TriggerRegisterPlayerChatEvent(P0,Player(9),"-yes",true)
call TriggerAddAction(P0,function h1)
endfunction
function h3 takes nothing returns boolean
if IsPlayerInForce(GetTriggerPlayer(),J6)==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Jm)==true then
return true
endif
return false
endfunction
function h4 takes nothing returns boolean
if not h3() then
return false
endif
return true
endfunction
function h5 takes nothing returns boolean
if not (JM[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function h6 takes nothing returns nothing
if h5() then
if h4() then
set JO=JO+999
else
set JO=JO+1
endif
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Голос засчитан|r")
set JM[GetConvertedPlayerId(GetTriggerPlayer())]=true
call LeaderboardSetLabelBJ(P3,"Голос"+("ование"+(" - За: "+I2S(JN)+(" Против: "+I2S(JO)))))
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cfffed312Вы уже голосовали!|r")
endif
endfunction
function h7 takes nothing returns nothing
set P1=CreateTrigger()
call DisableTrigger(P1)
call TriggerRegisterPlayerChatEvent(P1,Player(0),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(1),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(2),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(3),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(4),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(5),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(6),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(7),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(8),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(9),"-нет",true)
call TriggerRegisterPlayerChatEvent(P1,Player(0),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(1),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(2),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(3),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(4),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(5),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(6),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(7),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(8),"-no",true)
call TriggerRegisterPlayerChatEvent(P1,Player(9),"-no",true)
call TriggerAddAction(P1,function h6)
endfunction
function h8 takes nothing returns boolean
if not (GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
return true
endfunction
function h9 takes nothing returns nothing
call DialogDisplayBJ(false,Lj[0],GetEnumPlayer())
call DialogDisplayBJ(false,Lj[1],GetEnumPlayer())
endfunction
function iB takes nothing returns nothing
call DialogSetMessageBJ(Lj[0],"выберите игрока")
call DoNothing()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if h8() then
call DialogAddButtonBJ(Lj[0],GetPlayerName(ConvertedPlayer(GetForLoopIndexA())))
set P7[GetForLoopIndexA()]=GetLastCreatedButtonBJ()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DialogAddButtonBJ(Lj[0],"закрыть")
call DialogSetMessageBJ(Lj[1],"действия")
call DialogAddButtonBJ(Lj[1],"кик")
set P7[11]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"наказать!")
set P7[12]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"простить")
set P7[13]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"контроль OFF")
set P7[14]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"контроль ON")
set P7[99]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"тест режим")
set P7[15]=GetLastCreatedButtonBJ()
call DialogAddButtonBJ(Lj[1],"выход")
call DoNothing()
call ForForce(GetPlayersAll(),function h9)
endfunction
function iC takes nothing returns nothing
set P6=CreateTrigger()
call TriggerRegisterTimerEventSingle(P6,1.)
call TriggerAddAction(P6,function iB)
endfunction
function iD takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),Lm)==true) then
return false
endif
return true
endfunction
function iE takes nothing returns nothing
call DialogDisplayBJ(true,Lj[0],GetTriggerPlayer())
endfunction
function iF takes nothing returns nothing
local integer H9=0
set P8=CreateTrigger()
loop
exitwhen H9>10
call TriggerRegisterPlayerChatEvent(P8,Player(H9),"-adm",true)
set H9=H9+1
endloop
call TriggerAddCondition(P8,Condition(function iD))
call TriggerAddAction(P8,function iE)
endfunction
function iG takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function iH takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[11]) then
return false
endif
return true
endfunction
function iI takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[12]) then
return false
endif
return true
endfunction
function iJ takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[13]) then
return false
endif
return true
endfunction
function iK takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[14]) then
return false
endif
return true
endfunction
function iL takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[15]) then
return false
endif
return true
endfunction
function iM takes nothing returns boolean
if not (GetClickedButtonBJ()==P7[99]) then
return false
endif
return true
endfunction
function iN takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if iG() then
call DialogDisplayBJ(false,Lj[0],GetTriggerPlayer())
call DialogDisplayBJ(true,Lj[1],GetTriggerPlayer())
set Lk=GetForLoopIndexA()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if iH() then
call CustomDefeatBJ(ConvertedPlayer(Lk),"Вы кикнуты Администратором")
else
endif
if iI() then
if GetLocalPlayer()==ConvertedPlayer(Lk) then
call Cheat(GetUnitName(HN)+" 1")
endif
else
endif
if iJ() then
if GetLocalPlayer()==ConvertedPlayer(Lk) then
call Cheat(GetUnitName(HN)+" 0")
endif
else
endif
if iK() then
call SetUserControlForceOff(GetForceOfPlayer(ConvertedPlayer(Lk)))
else
endif
if iL() then
call SetUserControlForceOn(GetForceOfPlayer(ConvertedPlayer(Lk)))
else
endif
if iM() then
else
endif
endfunction
function iO takes nothing returns nothing
set P9=CreateTrigger()
call TriggerRegisterDialogEventBJ(P9,Lj[0])
call TriggerRegisterDialogEventBJ(P9,Lj[1])
call TriggerAddAction(P9,function iN)
endfunction
function iP takes nothing returns boolean
if GetPlayerName(GetOwningPlayer(GetTriggerUnit()))=="ELITE83" then
return true
endif
if GetPlayerName(GetOwningPlayer(GetTriggerUnit()))=="diazz0229" then
return true
endif
if GetPlayerName(GetOwningPlayer(GetTriggerUnit()))=="Diazz0229" then
return true
endif
return false
endfunction
function iQ takes nothing returns boolean
if not iP() then
return false
endif
return true
endfunction
function iR takes nothing returns nothing
call ForceAddPlayerSimple(GetEnumPlayer(),Lm)
endfunction
function iS takes nothing returns nothing
set QB=CreateTrigger()
call TriggerRegisterEnterRectSimple(QB,GM)
call TriggerAddCondition(QB,Condition(function iQ))
call TriggerAddAction(QB,function iR)
endfunction
function iT takes nothing returns boolean
if not (IsPlayerAlly(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetAttackedUnitBJ()))==MAP_CONTROL_USER) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function iU takes nothing returns nothing
call IssueImmediateOrder(GetAttacker(),"stop")
endfunction
function iV takes nothing returns nothing
set QC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QC,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(QC,Condition(function iT))
call TriggerAddAction(QC,function iU)
endfunction
function iW takes nothing returns boolean
if not (GetPlayerSlotState(ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (GetPlayerSlotState(ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))))!=PLAYER_SLOT_STATE_LEFT) then
return false
endif
if not (GetPlayerController(ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function iX takes nothing returns boolean
if not (SubStringBJ(GetEventPlayerChatString(),1,6)=="-admin") then
return false
endif
if not (S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))>0) then
return false
endif
if not (S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))<11) then
return false
endif
return true
endfunction
function iY takes nothing returns boolean
if not (Ln>10) then
return false
endif
return true
endfunction
function iZ takes nothing returns boolean
if not (O3==0) then
return false
endif
return true
endfunction
function ia takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="св" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="ыц" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="sw" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),22,StringLength(GetEventPlayerChatString()))=="save" then
return true
endif
return false
endfunction
function ib takes nothing returns boolean
if not ia() then
return false
endif
if not (JY==false) then
return false
endif
return true
endfunction
function ic takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="носв" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="тщыц" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="nosw" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),22,StringLength(GetEventPlayerChatString()))=="load" then
return true
endif
return false
endfunction
function id takes nothing returns boolean
if not ic() then
return false
endif
if not (JY==true) then
return false
endif
return true
endfunction
function ie takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),20.+I2R(Iu))
endfunction
function ig takes nothing returns boolean
if not (S2I(SubStringBJ(GetEventPlayerChatString(),13,15))>200) then
return false
endif
return true
endfunction
function ih takes nothing returns boolean
if not (S2I(SubStringBJ(GetEventPlayerChatString(),13,15))<Iu) then
return false
endif
return true
endfunction
function ii takes nothing returns boolean
if not (SubStringBJ(GetEventPlayerChatString(),2,11)=="difficulty") then
return false
endif
return true
endfunction
function ij takes nothing returns boolean
if not (GetEventPlayerChatString()=="-sound") then
return false
endif
return true
endfunction
function ik takes nothing returns boolean
if not (GetEventPlayerChatString()=="-nott") then
return false
endif
if not (J5==true) then
return false
endif
return true
endfunction
function il takes nothing returns boolean
if not (GetEventPlayerChatString()=="-tt") then
return false
endif
if not (J5==false) then
return false
endif
return true
endfunction
function im takes nothing returns boolean
return GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING
endfunction
function in takes nothing returns boolean
return GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER
endfunction
function io takes nothing returns boolean
return GetBooleanAnd(im(),in())
endfunction
function ip takes nothing returns boolean
if not (It==CountPlayersInForceBJ(GetPlayersMatching(Condition(function io)))) then
return false
endif
return true
endfunction
function iq takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),22,StringLength(GetEventPlayerChatString()))=="save" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="skip" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="ылшз" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="скип" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="crbg" then
return true
endif
return false
endfunction
function ir takes nothing returns boolean
if not (PS==false) then
return false
endif
if not iq() then
return false
endif
return true
endfunction
function is takes nothing returns boolean
if not (PS==false) then
return false
endif
if not (GetEventPlayerChatString()=="-time") then
return false
endif
return true
endfunction
function it takes nothing returns boolean
if not (PS==false) then
return false
endif
if not (GetEventPlayerChatString()=="-notime") then
return false
endif
return true
endfunction
function iu takes nothing returns boolean
if IsPlayerInForce(GetTriggerPlayer(),Lm)==true then
return true
endif
if Kf==GetTriggerPlayer() then
return true
endif
return false
endfunction
function iv takes nothing returns boolean
if not iu() then
return false
endif
return true
endfunction
function iw takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="clear" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="cl" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="очт" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="кл" then
return true
endif
return false
endfunction
function ix takes nothing returns boolean
if not iw() then
return false
endif
return true
endfunction
function iy takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="kill" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="suic" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="килл" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="суиц" then
return true
endif
return false
endfunction
function iz takes nothing returns boolean
if not (PS==true) then
return false
endif
if not iy() then
return false
endif
return true
endfunction
function i0 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])!=0) then
return false
endif
if not (J1[GetConvertedPlayerId(GetTriggerPlayer())]==1) then
return false
endif
return true
endfunction
function i1 takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="repick" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="кузшсл" then
return true
endif
return false
endfunction
function i2 takes nothing returns boolean
if not i1() then
return false
endif
if not (PS==false) then
return false
endif
return true
endfunction
function i3 takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,5)=="zoom" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,9)=="ящщь" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,4)=="cam" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,4)=="rfv" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,4)=="pev" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,7)=="кам" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,7)=="сфь" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,7)=="зум" then
return true
endif
return false
endfunction
function i4 takes nothing returns boolean
if not (Lf>=1000.) then
return false
endif
if not (Lf<=4000.) then
return false
endif
return true
endfunction
function i5 takes nothing returns boolean
if not i3() then
return false
endif
return true
endfunction
function i6 takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="dialog" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="вшфдщп" then
return true
endif
return false
endfunction
function i7 takes nothing returns boolean
if not i6() then
return false
endif
return true
endfunction
function i8 takes nothing returns boolean
if not (SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="roll") then
return false
endif
return true
endfunction
function i9 takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="nodialog" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="тщвшфдщп" then
return true
endif
return false
endfunction
function jB takes nothing returns boolean
if not i9() then
return false
endif
return true
endfunction
function jC takes nothing returns boolean
if not (K4[GetForLoopIndexA()]>0) then
return false
endif
return true
endfunction
function jD takes nothing returns boolean
if GetEventPlayerChatString()=="-урон" then
return true
endif
if GetEventPlayerChatString()=="-dmg" then
return true
endif
return false
endfunction
function jE takes nothing returns boolean
if not jD() then
return false
endif
return true
endfunction
function jF takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function jG takes nothing returns boolean
if not (RectContainsLoc(GetPlayableMapRect(),QI)==true) then
return false
endif
return true
endfunction
function jH takes nothing returns boolean
if not (S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))>=100) then
return false
endif
if not (S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))<=1500) then
return false
endif
return true
endfunction
function jI takes nothing returns boolean
if not (SubStringBJ(GetEventPlayerChatString(),1,6)=="-range") then
return false
endif
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==true) then
return false
endif
return true
endfunction
function jJ takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет0" then
return true
endif
if GetEventPlayerChatString()=="-color0" then
return true
endif
return false
endfunction
function jK takes nothing returns boolean
if not jJ() then
return false
endif
return true
endfunction
function jL takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет8" then
return true
endif
if GetEventPlayerChatString()=="-color8" then
return true
endif
return false
endfunction
function jM takes nothing returns boolean
if not jL() then
return false
endif
return true
endfunction
function jN takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет7" then
return true
endif
if GetEventPlayerChatString()=="-color7" then
return true
endif
return false
endfunction
function jO takes nothing returns boolean
if not jN() then
return false
endif
return true
endfunction
function jP takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет6" then
return true
endif
if GetEventPlayerChatString()=="-color6" then
return true
endif
return false
endfunction
function jQ takes nothing returns boolean
if not jP() then
return false
endif
return true
endfunction
function jR takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет5" then
return true
endif
if GetEventPlayerChatString()=="-color5" then
return true
endif
return false
endfunction
function jS takes nothing returns boolean
if not jR() then
return false
endif
return true
endfunction
function jT takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет4" then
return true
endif
if GetEventPlayerChatString()=="-color4" then
return true
endif
return false
endfunction
function jU takes nothing returns boolean
if not jT() then
return false
endif
return true
endfunction
function jV takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет3" then
return true
endif
if GetEventPlayerChatString()=="-color3" then
return true
endif
return false
endfunction
function jW takes nothing returns boolean
if not jV() then
return false
endif
return true
endfunction
function jX takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет2" then
return true
endif
if GetEventPlayerChatString()=="-color2" then
return true
endif
return false
endfunction
function jY takes nothing returns boolean
if not jX() then
return false
endif
return true
endfunction
function jZ takes nothing returns boolean
if GetEventPlayerChatString()=="-цвет1" then
return true
endif
if GetEventPlayerChatString()=="-color1" then
return true
endif
return false
endfunction
function ja takes nothing returns boolean
if not jZ() then
return false
endif
return true
endfunction
function jb takes nothing returns boolean
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="цвет" then
return true
endif
if SubStringBJ(GetEventPlayerChatString(),2,StringLength(GetEventPlayerChatString()))=="color" then
return true
endif
return false
endfunction
function jc takes nothing returns boolean
if IsPlayerInForce(GetTriggerPlayer(),Ot[2])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[3])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[4])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[5])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[6])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[7])==true then
return true
endif
if IsPlayerInForce(GetTriggerPlayer(),Ot[8])==true then
return true
endif
return false
endfunction
function jd takes nothing returns boolean
if not jb() then
return false
endif
if not jc() then
return false
endif
return true
endfunction
function je takes nothing returns nothing
if iv() then
if iX() then
if iW() then
set Kf=ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString()))))
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Теперь главой экспедиции является: |r"+GetPlayerName(ConvertedPlayer(S2I(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString()))))))
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c000080FFДля передачи статуса лидера экспедиции необходимо указать верный номер игрока!|r")
endif
return
else
endif
if ib() then
if iZ() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFКоманда включится после начала первой волны.|r")
else
call DisplayTextToForce(GetPlayersAll(),"|c000080FFПредводитель экспедиции включил пропуск ожидания. Теперь перерыв между волнами сокращен до минимума (10 секунд).|r")
set JY=true
if iY() then
set Ln=10
else
endif
endif
return
else
endif
if id() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFПредводитель экспедиции отключил пропуск ожидания. Теперь перерыв между волнами установлен на стандарт (5 минут).|r")
set JY=false
return
else
endif
if ii() then
if ih() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c00FF0000Невозможно установить сложность меньше |r"+I2S(Iu))
else
if ig() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c00FF0000Невозможно установить сложность больше |r200")
else
set Iu=S2I(SubStringBJ(GetEventPlayerChatString(),13,15))
call ForForce(GetPlayersAll(),function ie)
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Уровень сложности установлен вручную на |r"+I2S(Iu))
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(10))
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(10))
call SetPlayerTechResearchedSwap($52686D65,Iu/10,Player(10))
call SetPlayerTechResearchedSwap($52686D65,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303031,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303031,Iu/10,Player(10))
endif
endif
return
else
endif
if ij() then
call PlaySoundBJ(l)
return
else
endif
if ik() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFПредводитель экспедиции отключил  временные путешествия. Теперь вы не сможете совершить временное путешествие с помощью Сета Хазула.|r")
set J5=false
return
else
endif
if il() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFПредводитель экспедиции включил временные путешествия. Теперь вы можете перенести всю экспедицию на несколкьо волн вперёд.|r")
set J5=true
return
else
endif
if ir() then
if ip() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFВсе игроки готовы к старту, игра начнется через 10 секунд.|r")
call PauseTimerBJ(true,Ox)
call StartTimerBJ(Ox,false,10.)
else
call DisplayTextToForce(GetPlayersAll(),"|c000080FFИспользуйте эту команду когда все игроки выберут себе персонажа, чтобы запустить таймер старта. В Goblin Survival 1.4 заставка отключается сама, если в экспедиции нет гоблинов ниже 5го уровня.")
endif
return
else
endif
if is() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFЛидер экспедиции отключил автоматический старт! Команда -notime включит таймер старта. Чтобы начать игру, когда все игроки выберут персонажа - используйте команду -skip.")
set Jv=true
call PauseTimerBJ(true,Ox)
return
else
endif
if it() then
call DisplayTextToForce(GetPlayersAll(),"|c000080FFЛидер экспедиции включил авто-старт.|r")
set Jv=false
call PauseTimerBJ(false,Ox)
return
else
endif
else
endif
if ix() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
return
else
endif
if iz() then
call KillUnit(Pd[GetConvertedPlayerId(GetTriggerPlayer())])
call SetUnitLifeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],0.)
set Kd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
return
else
endif
if i2() then
if i0() then
set QE=GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())])
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QE,"Abilities\\Weapons\\CannonTowerMissile\\CannonTowerMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set J1[GetConvertedPlayerId(GetTriggerPlayer())]=0
call ForceRemovePlayerSimple(GetTriggerPlayer(),NC)
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetTriggerPlayer())+"|c00FF8000 решил выбрать другого гоблина. Для остановки таймера до старта используйте команду -time.|r ")
set L6[GetConvertedPlayerId(GetTriggerPlayer())]=0
set L7[GetConvertedPlayerId(GetTriggerPlayer())]=0
set MH[GetConvertedPlayerId(GetTriggerPlayer())]=0
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,0)
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
set LN[GetConvertedPlayerId(GetTriggerPlayer())]=false
set JQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2S(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))+(":  "+"-  -  "+"-")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveItem(UnitItemInSlotBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],GetForLoopIndexA()))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CameraSetupApplyForPlayer(true,Gl,GetTriggerPlayer(),1.)
set It=It-1
call GroupRemoveUnitSimple(Pd[GetConvertedPlayerId(GetTriggerPlayer())],Ir)
call RemoveUnit(QF[GetConvertedPlayerId(GetTriggerPlayer())])
call RemoveUnit(Pd[GetConvertedPlayerId(GetTriggerPlayer())])
call RemoveUnit(QG[GetConvertedPlayerId(GetTriggerPlayer())])
set QE=GetRectCenter(Gc)
call CreateNUnitsAtLoc(1,$68303838,GetTriggerPlayer(),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
call CreateNUnitsAtLoc(1,$68303846,GetTriggerPlayer(),QH[GetConvertedPlayerId(GetTriggerPlayer())],bj_UNIT_FACING)
return
else
endif
else
endif
if i5() then
set Lf=S2R(SubStringBJ(GetEventPlayerChatString(),StringLength(GetEventPlayerChatString())-3,StringLength(GetEventPlayerChatString())))
if i4() then
set Li[GetConvertedPlayerId(GetTriggerPlayer())]=Lf
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c00FF0000Дистанция камеры изменена: "+R2S(Li[GetConvertedPlayerId(GetTriggerPlayer())]))
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,Lf,0.)
else
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_WARNING,"|c00FF0000Укажите дистанцию от 1000 до 4000|r")
endif
return
else
endif
if i7() then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_HINT,"|c00FF0000Диалоги гоблинов включены. Для отключения диалогов напишите -nodialog|r")
call ForceAddPlayerSimple(GetTriggerPlayer(),Os)
return
else
endif
if i8() then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_HINT,GetPlayerName(GetTriggerPlayer())+("|c00FF0000 роляет число |r"+I2S(GetRandomInt(1,1000))))
return
else
endif
if jB() then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_HINT,"|c00FF0000Диалоги гоблинов отключены. Чтобы включить их - пропишите -dialog|r")
call ForceRemovePlayerSimple(GetTriggerPlayer(),Os)
return
else
endif
if jE() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if jC() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),GetPlayerName(ConvertedPlayer(GetForLoopIndexA()))+("|c00FF0000 нанёс урона на этой волне: |r"+(" "+I2S(K4[GetForLoopIndexA()]))))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
return
else
endif
if jI() then
if jH() then
call ForGroupBJ(Og[GetConvertedPlayerId(GetTriggerPlayer())],function jF)
set QE=GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())])
set NB=S2R(SubStringBJ(GetEventPlayerChatString(),8,StringLength(GetEventPlayerChatString())))
set My=0.
set Mz=360./(8.+NB/100.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8+R2I(NB)/100
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=PolarProjectionBJ(QE,NB,My)
if jG() then
call CreateNUnitsAtLoc(1,$68303346,Player(PLAYER_NEUTRAL_PASSIVE),QI,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),GetPlayerColor(GetTriggerPlayer()))
call GroupAddUnitSimple(GetLastCreatedUnit(),Og[GetConvertedPlayerId(GetTriggerPlayer())])
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
else
endif
call RemoveLocation(QI)
set My=My+Mz
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
else
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_WARNING,"|c00FF0000Укажите корректное расстояние от 100 до 1500!|r")
endif
return
else
endif
if jd() then
if ja() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],100,20.,20.,0)
else
if jY() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],20.,100.,20.,0)
else
if jW() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],20.,20.,100.,0)
else
if jU() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],100.,20.,100.,0)
else
if jS() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],100.,100.,20.,0)
else
if jQ() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],20.,100.,100.,0)
else
if jO() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],20.,20.,20.,0)
else
if jM() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],GetRandomReal(20.,100.),GetRandomReal(20.,100.),GetRandomReal(20.,100.),0)
else
if jK() then
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],100.,100.,100.,0)
else
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_WARNING,"|c00FF0000Укажите номер 1-8, или 0 для сброса цвета.|r")
endif
endif
endif
endif
endif
endif
endif
endif
endif
return
else
endif
endfunction
function jf takes nothing returns nothing
set QD=CreateTrigger()
call TriggerRegisterPlayerChatEvent(QD,Player(0),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(1),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(2),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(3),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(4),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(5),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(6),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(7),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(8),"-",false)
call TriggerRegisterPlayerChatEvent(QD,Player(9),"-",false)
call TriggerAddAction(QD,function je)
endfunction
function jg takes nothing returns nothing
if bj_isSinglePlayer then
call CustomDefeatBJ(Player(0),"Нет одиночной игры!")
call CustomDefeatBJ(Player(1),"Нет одиночной игры!")
call CustomDefeatBJ(Player(2),"Нет одиночной игры!")
call CustomDefeatBJ(Player(3),"Нет одиночной игры!")
call CustomDefeatBJ(Player(4),"Нет одиночной игры!")
call CustomDefeatBJ(Player(5),"Нет одиночной игры!")
call CustomDefeatBJ(Player(6),"Нет одиночной игры!")
call CustomDefeatBJ(Player(7),"Нет одиночной игры!")
call CustomDefeatBJ(Player(8),"Нет одиночной игры!")
call CustomDefeatBJ(Player(9),"Нет одиночной игры!")
endif
endfunction
function jh takes nothing returns nothing
set QJ=CreateTrigger()
call TriggerAddAction(QJ,function jg)
endfunction
function ji takes nothing returns boolean
if not (GetSpellAbilityId()==$4130444B) then
return false
endif
return true
endfunction
function jj takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303830 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303947 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303946 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930464D then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930464C then
return true
endif
return false
endfunction
function jk takes nothing returns boolean
if not jj() then
return false
endif
return true
endfunction
function jl takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303851 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303852 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303850 then
return true
endif
return false
endfunction
function jm takes nothing returns boolean
if not jl() then
return false
endif
return true
endfunction
function jn takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303832 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303833 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303834 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303836 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303835 then
return true
endif
return false
endfunction
function jo takes nothing returns boolean
if not jn() then
return false
endif
return true
endfunction
function jp takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$4930344D then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930344F then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930344C then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930344B then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930344E then
return true
endif
return false
endfunction
function jq takes nothing returns boolean
if not jp() then
return false
endif
return true
endfunction
function jr takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303448 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303449 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303444 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303446 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303445 then
return true
endif
return false
endfunction
function js takes nothing returns boolean
if not jr() then
return false
endif
return true
endfunction
function jt takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303339 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303341 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303342 then
return true
endif
return false
endfunction
function ju takes nothing returns boolean
if not jt() then
return false
endif
return true
endfunction
function jv takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303237 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303241 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303236 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303235 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303238 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303239 then
return true
endif
return false
endfunction
function jw takes nothing returns boolean
if not jv() then
return false
endif
return true
endfunction
function jx takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49303251 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303252 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303250 then
return true
endif
return false
endfunction
function jy takes nothing returns boolean
if not jx() then
return false
endif
return true
endfunction
function jz takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())<100) then
return false
endif
return true
endfunction
function j0 takes nothing returns nothing
if jz() then
set Oj=false
else
endif
endfunction
function j1 takes nothing returns boolean
if not (Oj==true) then
return false
endif
return true
endfunction
function j2 takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49304737 then
return true
endif
return false
endfunction
function j3 takes nothing returns boolean
if not j2() then
return false
endif
return true
endfunction
function j4 takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49304734 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930465A then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304659 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304658 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304733 then
return true
endif
return false
endfunction
function j5 takes nothing returns boolean
if not j4() then
return false
endif
return true
endfunction
function j6 takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49304155 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304153 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304157 then
return true
endif
return false
endfunction
function j7 takes nothing returns boolean
if not j6() then
return false
endif
return true
endfunction
function j8 takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$4930414C then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930414D then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49303955 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$4930414F then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304150 then
return true
endif
return false
endfunction
function j9 takes nothing returns boolean
if not j8() then
return false
endif
return true
endfunction
function kB takes nothing returns boolean
if GetItemTypeId(GetSpellTargetItem())==$49304148 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304145 then
return true
endif
if GetItemTypeId(GetSpellTargetItem())==$49304146 then
return true
endif
return false
endfunction
function kC takes nothing returns boolean
if not kB() then
return false
endif
return true
endfunction
function kD takes nothing returns boolean
if not (J5==true) then
return false
endif
if not (RectContainsUnit(GJ,GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function kE takes nothing returns nothing
if kD() then
if jy() then
set L1=6
call ConditionalTriggerExecute(QL)
else
if jw() then
set L1=11
call ConditionalTriggerExecute(QL)
else
if ju() then
set L1=16
call ConditionalTriggerExecute(QL)
else
if js() then
set L1=21
call ConditionalTriggerExecute(QL)
else
if jq() then
set L1=26
call ConditionalTriggerExecute(QL)
else
if jo() then
set L1=31
call ConditionalTriggerExecute(QL)
else
if jm() then
set L1=36
call ConditionalTriggerExecute(QL)
else
if jk() then
set L1=40
call ConditionalTriggerExecute(QL)
else
endif
endif
endif
endif
endif
endif
endif
endif
if kC() then
set L1=46
call ConditionalTriggerExecute(QL)
else
if j9() then
set L1=51
call ConditionalTriggerExecute(QL)
else
if j7() then
set L1=56
call ConditionalTriggerExecute(QL)
else
if j5() then
set L1=61
call ConditionalTriggerExecute(QL)
else
if j3() then
set Oj=true
call ForGroupBJ(Ir,function j0)
if j1() then
set L1=67
call ConditionalTriggerExecute(QL)
else
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_WARNING,"|c00FF0000Вы не можете совершить прыжок в прошлое, если в экспедиции участвуют гоблины ниже 100го уровня!|r")
endif
else
endif
endif
endif
endif
endif
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetSpellAbilityUnit())),"|c00FF8080Временной скачок пока невозможен из этой точки времени, либо уже активирован, либо временную воронку больше невозможно открыть во время этой игры!|r")
endif
endfunction
function kF takes nothing returns nothing
set QK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(QK,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(QK,Condition(function ji))
call TriggerAddAction(QK,function kE)
endfunction
function kG takes nothing returns boolean
if not (GetSpellAbilityId()==$4130444B) then
return false
endif
return true
endfunction
function kH takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetSpellAbilityUnit())),"|c00FF8080Временной скачок невозможен из этой точки времени, либо уже активирован, либо временную воронку больше невозможно открыть во время этой игры!|r")
endfunction
function kI takes nothing returns nothing
set QM=CreateTrigger()
call DisableTrigger(QM)
call TriggerRegisterAnyUnitEventBJ(QM,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(QM,Condition(function kG))
call TriggerAddAction(QM,function kH)
endfunction
function kJ takes nothing returns boolean
if not (Iu>200) then
return false
endif
return true
endfunction
function kK takes nothing returns boolean
if not (L1>31) then
return false
endif
if not (L1<67) then
return false
endif
return true
endfunction
function kL takes nothing returns nothing
set NX=L1
set Iu=Iu+(Is+0)
if kJ() then
set Iu=200
else
endif
call DisplayTextToForce(GetPlayersAll(),"|c00FF8080ВНИМАНИЕ!!! Был запущен процесс переноса во времени! После окончания 1й волны начнется волна "+(I2S(L1)+"!|r"))
call ConditionalTriggerExecute(QN)
if kK() then
call SetTerrainTypeBJ(GetRectCenter(Ci),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Ck),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cl),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cm),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cn),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cj),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Co),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Fi),$446C7663,-1,5,0)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Co),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Fi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Ci),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Ck),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cj),bj_UNIT_FACING)
else
endif
call DisableTrigger(QK)
call TriggerSleepAction(.5)
call EnableTrigger(QM)
endfunction
function kM takes nothing returns nothing
set QL=CreateTrigger()
call DisableTrigger(QL)
call TriggerAddAction(QL,function kL)
endfunction
function kN takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),12.)
endfunction
function kO takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$42303031 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$42303030 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$47547368 then
return true
endif
return false
endfunction
function kP takes nothing returns boolean
if not kO() then
return false
endif
return true
endfunction
function kQ takes nothing returns nothing
if kP() then
call RemoveDestructable(GetEnumDestructable())
else
endif
endfunction
function kR takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
return true
endfunction
function kS takes nothing returns nothing
if kR() then
call KillUnit(GetEnumUnit())
else
endif
endfunction
function kT takes nothing returns nothing
call ForGroupBJ(GetUnitsOfPlayerAll(GetEnumPlayer()),function kS)
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function kU takes nothing returns boolean
if not (L8==6) then
return false
endif
return true
endfunction
function kV takes nothing returns boolean
if not (L8==5) then
return false
endif
return true
endfunction
function kW takes nothing returns boolean
if not (L8==4) then
return false
endif
return true
endfunction
function kX takes nothing returns boolean
if not (L8==3) then
return false
endif
return true
endfunction
function kY takes nothing returns boolean
if not (L8==2) then
return false
endif
return true
endfunction
function kZ takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function ka takes nothing returns nothing
endfunction
function kb takes nothing returns nothing
endfunction
function kc takes nothing returns nothing
call ForForce(GetPlayersAll(),function kN)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,4.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,100.,0.,0.)
call PlaySoundBJ(Bt)
call TriggerSleepAction(2)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUTIN,2.,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",0,0,100.,20.)
call EnumDestructablesInRectAll(GetPlayableMapRect(),function kQ)
call SetTerrainTypeBJ(GetRectCenter(GR),$446C6176,-1,10,1)
call SetTerrainTypeBJ(GetRectCenter(GR),$44737164,-1,5,1)
call SetTerrainTypeBJ(GetRectCenter(GS),$44737164,-1,2,1)
call SetTerrainTypeBJ(GetRectCenter(GT),$44737164,-1,2,1)
call SetDoodadAnimationRectBJ("stand",$594F6673,EW)
call SetDoodadAnimationRectBJ("stand",$594F7466,EW)
call PauseTimerBJ(true,MS)
call PauseTimerBJ(true,MU)
call RemoveUnit(QP)
call ShowUnitHide(HE)
call ResumeMusicBJ()
call PlayThematicMusic("Sound\\Music\\mp3Music\\ArthasTheme.mp3")
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,4.,"ReplaceableTextures\\CameraMasks\\White_mask.blp",0,100.,0.,0.)
call QuestSetFailed(QQ,true)
call ForForce(GetPlayersAll(),function kT)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=NZ
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set L8=GetRandomInt(1,10)
call CreateNUnitsAtLoc(1,$6E303636,Player(PLAYER_NEUTRAL_AGGRESSIVE),QR[GetForLoopIndexA()],NY[GetForLoopIndexA()])
if kZ() then
call SetUnitAnimationWithRarity(GetLastCreatedUnit(),"work",RARITY_FREQUENT)
else
if kY() then
call AddUnitAnimationPropertiesBJ(true,"gold",GetLastCreatedUnit())
call SetUnitAnimationWithRarity(GetLastCreatedUnit(),"work",RARITY_FREQUENT)
else
if kX() then
call AddUnitAnimationPropertiesBJ(true,"lumber",GetLastCreatedUnit())
call SetUnitAnimationWithRarity(GetLastCreatedUnit(),"work",RARITY_FREQUENT)
else
if kW() then
call AddUnitAnimationPropertiesBJ(true,"lumber",GetLastCreatedUnit())
call SetUnitFacingTimed(GetLastCreatedUnit(),GetRandomDirectionDeg(),0)
else
if kV() then
call AddUnitAnimationPropertiesBJ(true,"gold",GetLastCreatedUnit())
call SetUnitFacingTimed(GetLastCreatedUnit(),GetRandomDirectionDeg(),0)
else
if kU() then
call SetUnitAnimationWithRarity(GetLastCreatedUnit(),"stand ready",RARITY_FREQUENT)
call SetUnitFacingTimed(GetLastCreatedUnit(),GetRandomDirectionDeg(),0)
else
endif
endif
endif
endif
endif
endif
call GroupAddUnitSimple(GetLastCreatedUnit(),Om)
call SetUnitAcquireRangeBJ(GetLastCreatedUnit(),200.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetCreepCampFilterState(false)
call EnableMinimapFilterButtons(true,false)
set L8=0
call DisableTrigger(QS)
set MW=21
set Oc=true
call StartTimerBJ(O4,false,10.)
call ForForce(GetPlayersAll(),function ka)
call TriggerSleepAction(.2)
call ForForce(GetPlayersAll(),function kb)
endfunction
function kd takes nothing returns nothing
set QO=CreateTrigger()
call TriggerAddAction(QO,function kc)
endfunction
function ke takes nothing returns nothing
call DisableTrigger(QV)
call DisableTrigger(QW)
call DisplayTextToForce(GetPlayersAll(),"Игра была сохранена. Теперь никто не может сохранять и загружать героев. Приятной вам игры.")
endfunction
function kf takes nothing returns nothing
set QU=CreateTrigger()
call TriggerRegisterGameLoadedEventBJ(QU)
call TriggerAddAction(QU,function ke)
endfunction
function kg takes nothing returns boolean
if not (GetPlayerName(GetEnumPlayer())=="Diazz0229") then
return false
endif
return true
endfunction
function kh takes nothing returns nothing
set Ou[GetConvertedPlayerId(GetEnumPlayer())]=GetPlayerName(GetEnumPlayer())
if kg() then
call ForceAddPlayerSimple(GetEnumPlayer(),Ot[8])
else
endif
endfunction
function ki takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"Заняты слоты для мобов!")
endfunction
function kj takes nothing returns boolean
if GetPlayerController(Player(11))==MAP_CONTROL_USER then
return true
endif
if GetPlayerController(Player(10))==MAP_CONTROL_USER then
return true
endif
return false
endfunction
function kk takes nothing returns boolean
if not kj() then
return false
endif
return true
endfunction
function kl takes nothing returns nothing
set LZ[0]=999
set LZ[1]=998
if kk() then
call ForForce(GetPlayersAll(),function ki)
else
call ForForce(GetPlayersAll(),function kh)
endif
endfunction
function km takes nothing returns nothing
set QX=CreateTrigger()
call TriggerAddAction(QX,function kl)
endfunction
function kn takes nothing returns nothing
set LP=0
call EnableTrigger(QZ)
call ConditionalTriggerExecute(QZ)
set Qa[1]=$48303030
set Qa[2]=$48303033
set Qa[3]=$48303031
set Qa[4]=$48303032
set Qa[5]=$48303035
set Qa[6]=$48303036
set Qa[7]=$48303034
set Qa[8]=$4E303030
call TriggerSleepAction(.5)
set LY[1]="!#$%&()*+,-.0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`{|}~ †‡‰™¤¦§©®|°±µ"
set LY[2]="!#$%&()*+,-.0123456789:;<=>?@abcdefghijklmnopqrstuvwxyz[]^_`{|}~ †‡‰™¤¦§©®|°±µ"
call EnableTrigger(Qb)
call ConditionalTriggerExecute(Qb)
endfunction
function ko takes nothing returns nothing
set QY=CreateTrigger()
call TriggerAddAction(QY,function kn)
endfunction
function kp takes nothing returns boolean
if not (LX[GetConvertedPlayerId(GetTriggerPlayer())]!=true) then
return false
endif
return true
endfunction
function kq takes nothing returns boolean
if not (GetPlayerSlotState(GetTriggerPlayer())==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (GetPlayerController(GetTriggerPlayer())==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function kr takes nothing returns boolean
if GetTriggerUnit()==HQ then
return true
endif
if GetTriggerUnit()==HK then
return true
endif
if GetTriggerUnit()==HR then
return true
endif
if GetTriggerUnit()==HF then
return true
endif
if GetTriggerUnit()==HJ then
return true
endif
if GetTriggerUnit()==HI then
return true
endif
if GetTriggerUnit()==HI then
return true
endif
if GetTriggerUnit()==HT then
return true
endif
if GetTriggerUnit()==HS then
return true
endif
if GetTriggerUnit()==G5 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303030 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303032 then
return true
endif
return false
endfunction
function ks takes nothing returns boolean
if not (LX[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
if not kr() then
return false
endif
return true
endfunction
function kt takes nothing returns nothing
if ks() then
set Od=Od+1
set LX[GetConvertedPlayerId(GetTriggerPlayer())]=true
if kq() then
set LL[GetConvertedPlayerId(GetTriggerPlayer())]=GetPlayerName(GetTriggerPlayer())
set LL[GetConvertedPlayerId(GetTriggerPlayer())+10]=N2H(LL[GetConvertedPlayerId(GetTriggerPlayer())],LY[1],LY[2],10)
else
set LL[GetConvertedPlayerId(GetTriggerPlayer())]=""
set LL[GetConvertedPlayerId(GetTriggerPlayer())+10]=""
endif
else
endif
call TriggerSleepAction(.1)
call ConditionalTriggerExecute(Qd)
endfunction
function ku takes nothing returns nothing
set Qc=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(Qc,Player(9),true)
call TriggerAddCondition(Qc,Condition(function kp))
call TriggerAddAction(Qc,function kt)
endfunction
function kv takes nothing returns boolean
if not (LP<=1) then
return false
endif
return true
endfunction
function kw takes nothing returns nothing
endfunction
function ky takes nothing returns nothing
set Qd=CreateTrigger()
call DisableTrigger(Qd)
call TriggerRegisterEnterRectSimple(Qd,EQ)
call TriggerAddCondition(Qd,Condition(function kv))
call TriggerAddAction(Qd,function kw)
endfunction
function kz takes nothing returns nothing
local string Qe
local string array Qo
local string Qh=""
local string Qm=""
local boolean Ql=false
local string Qk="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZйцукенгшщзхъэждлорпавыфячсмитьбюёЁЙЦУКЕНГШЩЗХЪЭЖДЛОРПАВЫФЯЧСМИТЬБЮ+-_ "
local integer H9=0
local integer Qn=0
local integer Qi=1
local integer Qj=1
local integer Qp=0
local player Qf
local integer Qg=0
if SubString(GetEventPlayerChatString(),1,5)==GetUnitName(HO) then
set LZ[0]=S2I(SubStringBJ(GetUnitName(HM),4,6))
set LZ[1]=S2I(SubStringBJ(GetUnitName(HM),1,3))
set Qe=GetUnitName(HL)
set Qf=GetTriggerPlayer()
set Qg=GetConvertedPlayerId(Qf)
if StringLength(GetEventPlayerChatString())>=7 then
set Qh=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
loop
exitwhen Qi>StringLength(Qh)
set Qj=1
loop
exitwhen Qj>132
if SubString(Qh,Qi-1,Qi)==SubString(Qk,Qj-1,Qj) then
set Ql=true
set Qm=Qm+SubString(Qk,Qj-1,Qj)
set Qj=132
endif
set Qj=Qj+1
endloop
if not Ql then
set Qm=Qm+"_"
endif
set Ql=false
set Qi=Qi+1
endloop
endif
if LJ[Qg]==true or true then
loop
exitwhen Qn>25
set Qo[Qn]=MI[Qn+(Qg-1)*100]
set Qn=Qn+1
endloop
set Qo[90]=I2S(S2I(Qo[1])+1)
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=I2S(S2I(Qo[3])+10)
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=Qo[2]+I2S(S2I(Qo[5])+10000)+Qo[19]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=Qo[7]+Qo[8]+Qo[9]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=Qo[10]+Qo[11]+Qo[12]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=Qo[13]+Qo[14]+Qo[15]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=Qo[16]+Qo[17]+Qo[18]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set Qo[90]=I2S(S2I(Qo[20])+10)+I2S(S2I(Qo[21])+10)+I2S(S2I(Qo[22])+10)+Qo[6]+Qo[23]
set Qo[91]=Qo[91]+Qo[90]
set Qo[98]=Qo[98]+I2RAW(S2I(Qo[90]),Qe)+"-"
set H9=1
set Qp=0
loop
exitwhen H9>StringLength(Qo[91])
set Qp=Qp+S2I(SubString(Qo[91],H9-1,H9))
set H9=H9+1
endloop
set Qo[98]=Qo[98]+I2RAW(Qp,Qe)
set MI[Qg+5000]=Qo[98]
call QuestMessageBJ(GetForceOfPlayer(Qf),bj_QUESTMESSAGE_ALWAYSHINT,"|c00FEBA0EЗолото:|r "+Qo[1])
call gJ(Qf,Qo[98],Qo[2],Qg,Qm)
set LJ[Qg]=false
endif
endif
endfunction
function k0 takes nothing returns boolean
if not (LU[GetConvertedPlayerId(GetTriggerPlayer())]==true and Lb[GetConvertedPlayerId(GetTriggerPlayer())]==true) then
return false
endif
return true
endfunction
function k1 takes nothing returns nothing
local integer H9=0
set QV=CreateTrigger()
call DisableTrigger(QV)
loop
exitwhen H9>10
call TriggerRegisterPlayerChatEvent(QV,Player(H9),"-",false)
set H9=H9+1
endloop
call TriggerAddCondition(QV,Condition(function k0))
call TriggerAddAction(QV,function kz)
endfunction
function k2 takes nothing returns nothing
local string Qe=GetUnitName(HL)
local string array Qo
local integer H9=0
local integer Qx=0
local integer Qn=0
local integer Q0=0
local integer Qp=0
local boolean Qy=false
local player Qf
local integer Qg=0
set LZ[0]=S2I(SubStringBJ(GetUnitName(HM),4,6))
set LZ[1]=S2I(SubStringBJ(GetUnitName(HM),1,3))
set Qf=GetTriggerPlayer()
set Qg=GetConvertedPlayerId(Qf)
set Qo[100]=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))
set Qx=0
loop
exitwhen Qx>StringLength(Qo[100])
if SubString(Qo[100],StringLength(Qo[100])-1,StringLength(Qo[100]))==" " then
set Qo[100]=SubString(Qo[100],0,StringLength(Qo[100])-1)
else
set Qx=StringLength(Qo[100])
endif
set Qx=Qx+1
endloop
set Qx=1
set Qn=1
loop
exitwhen Qx>StringLength(Qo[100])
if SubString(Qo[100],Qx-1,Qx)=="-" or Qx==StringLength(Qo[100]) or SubString(Qo[100],Qx-1,Qx)==" " then
if Qx==StringLength(Qo[100]) then
set Qo[95]=Qo[95]+SubString(Qo[100],Qx-1,Qx)
endif
set Qo[50+Qn]=I2S(RAW2I(Qo[95],Qe))
set Qo[95]=""
set Qn=Qn+1
else
set Qo[95]=Qo[95]+SubString(Qo[100],Qx-1,Qx)
endif
set Qx=Qx+1
endloop
set Qo[99]=Qo[51]+Qo[52]+Qo[53]+Qo[54]+Qo[55]+Qo[56]+Qo[57]+Qo[58]
set H9=1
set Qp=0
loop
exitwhen H9>StringLength(Qo[99])
set Qp=Qp+S2I(SubString(Qo[99],H9-1,H9))
set H9=H9+1
endloop
if S2I(SubString(Qo[53],6,9))!=240 then
call ClearTextMessagesBJ(GetForceOfPlayer(Qf))
call DisplayTextToForce(GetForceOfPlayer(Qf),"|CFFFF0000ВHИМAHИE! ПOЛHЫЙ BAЙП! Кoды oт 1.3 HЕ ДEЙCТBУЮT!|r-------")
call DisplayTextToForce(GetForceOfPlayer(Qf),"|CFFFF0000ВСЕ ВОПРОСЫ В НАШ ДИСКОРД https://discord.gg/hj6RhnP.|r-------")
call DisplayTextToForce(GetForceOfPlayer(Qf),"|CFFFF0000ИЛИ ВК https://vk.com/goblin_workshop!!!|r-------")
set Qy=false
else
set Qy=true
endif
if Qy and S2I(Qo[59])==Qp then
set Qo[1]=I2S(S2I(Qo[51])-1)
set Qo[3]=I2S(S2I(Qo[52])-10)
set Qo[2]=SubString(Qo[53],0,1)
set Qo[5]=I2S(S2I(SubString(Qo[53],1,6))-10000)
set Qo[19]=SubString(Qo[53],6,9)
set Qo[7]=SubString(Qo[54],0,3)
set Qo[8]=SubString(Qo[54],3,6)
set Qo[9]=SubString(Qo[54],6,9)
set Qo[10]=SubString(Qo[55],0,3)
set Qo[11]=SubString(Qo[55],3,6)
set Qo[12]=SubString(Qo[55],6,9)
set Qo[13]=SubString(Qo[56],0,3)
set Qo[14]=SubString(Qo[56],3,6)
set Qo[15]=SubString(Qo[56],6,9)
set Qo[16]=SubString(Qo[57],0,3)
set Qo[17]=SubString(Qo[57],3,6)
set Qo[18]=SubString(Qo[57],6,9)
set Qo[20]=I2S(S2I(SubString(Qo[58],0,2))-10)
set Qo[21]=I2S(S2I(SubString(Qo[58],2,4))-10)
set Qo[22]=I2S(S2I(SubString(Qo[58],4,6))-10)
set Qo[23]=I2S(S2I(SubString(Qo[58],7,9))*100)
set Qo[6]=SubString(Qo[58],6,7)
else
set Qy=false
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"КOД НЕ ВEPЕH")
endif
if Qy then
if S2I(Qo[19])<LZ[1] then
call DisplayTextToForce(GetForceOfPlayer(Qf),"                                      -------|CFFFF0000Heльзя зaгружaть гeрoя oт cлишкoм cтaрoй вeрcии кaрты!!!|r-------")
set Qy=false
elseif S2I(Qo[19])>LZ[0] then
call DisplayTextToForce(GetForceOfPlayer(Qf),"                                      -------|CFFFF0000Нельзя зaгружaть гeрoя oт бoлее нoвoй вeрcии кaрты!!!|r-------")
set Qy=false
else
set Qy=true
endif
endif
if Qy then
if S2I(Qo[2])>9 or S2I(Qo[2])<1 then
set Qy=false
call DisplayTextToForce(GetForceOfPlayer(Qf),"КOД НЕ ВEPЕH!")
elseif LL[Qg+10]!=Qo[5] then
set Qy=false
call DisplayTextToForce(GetForceOfPlayer(Qf),"КOД НЕ ВEPЕH!!")
endif
endif
if Qy then
set Qx=1
loop
exitwhen Qx>10
if Qg==Qx then
set Qn=1
loop
exitwhen Qn>25
set MI[Qn+(Qg-1)*100]=Qo[Qn]
set Qn=Qn+1
endloop
endif
set Qx=Qx+1
endloop
endif
if Qy then
set Qz[Qg]=CreateUnitAtLoc(Qf,Qa[S2I(Qo[2])],GetRandomLocInRect(GF),270)
if S2I(Qo[1])>200000 then
set Qo[1]="200000"
endif
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,S2I(Qo[1]))
set Lc[Qg]=S2I(Qo[3])
call SetHeroXP(Qz[Qg],S2I(Qo[3]),false)
set MO[Qg]=S2I(Qo[20])
set L6[Qg]=S2I(Qo[21])
set L7[Qg]=S2I(Qo[22])
call DisplayTextToForce(GetForceOfPlayer(Qf),"|c0000FF00Зaгружeн урoвeнь oружия: |r"+I2S(L6[Qg]))
call DisplayTextToForce(GetForceOfPlayer(Qf),"|c0000FF00Зaгружeн урoвeнь брoни: |r"+I2S(L7[Qg]))
set Q0=1
loop
exitwhen Q0>6
call UnitAddItemByIdSwapped(Q1[S2I(Qo[6+Q0])],Qz[Qg])
call SetItemDroppable(UnitItemInSlotBJ(Qz[Qg],Q0),false)
call SetItemUserData(UnitItemInSlotBJ(Qz[Qg],Q0),Qg)
set Q0=Q0+1
endloop
set MH[Qg]=S2I(Qo[6])
set LS=S2I(Qo[6])
if S2I(Qo[6])==1 and GetUnitLevel(Qz[Qg])>=20 then
set QG[Qg]=CreateUnitAtLoc(Qf,$6830324E,GetRectCenter(GF),270)
if eo(Qg) then
call SetUnitInvulnerable(QG[Qg],true)
set Q0=1
loop
exitwhen Q0>6
call UnitAddItemByIdSwapped(Q1[S2I(Qo[12+Q0])],QG[Qg])
call SetItemDroppable(UnitItemInSlotBJ(QG[Qg],Q0),false)
call SetItemUserData(UnitItemInSlotBJ(QG[Qg],Q0),Qg)
set Q0=Q0+1
endloop
endif
endif
set LN[Qg]=true
set Li[Qg]=S2R(Qo[23])
call SetCameraFieldForPlayer(Qf,CAMERA_FIELD_TARGET_DISTANCE,Li[Qg],2.)
endif
set Qy=false
endfunction
function k3 takes nothing returns boolean
if not (StringLength(GetEventPlayerChatString())>16) then
return false
endif
if not (LX[GetConvertedPlayerId(GetTriggerPlayer())]==true) then
return false
endif
if not (LN[GetConvertedPlayerId(GetTriggerPlayer())]!=true) then
return false
endif
if not (SubString(GetEventPlayerChatString(),1,5)==GetUnitName(HP)) then
return false
endif
return true
endfunction
function k4 takes nothing returns nothing
local integer H9=0
set QW=CreateTrigger()
call DisableTrigger(QW)
loop
exitwhen H9>10
call TriggerRegisterPlayerChatEvent(QW,Player(H9),"-",false)
set H9=H9+1
endloop
call TriggerAddCondition(QW,Condition(function k3))
call TriggerAddAction(QW,function k2)
endfunction
function k5 takes nothing returns boolean
if not (SubString(GetEventPlayerChatString(),1,5)=="save") then
return false
endif
return true
endfunction
function k6 takes nothing returns boolean
if not (LJ[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function k7 takes nothing returns boolean
if not (LU[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function k8 takes nothing returns boolean
if not k5() then
return false
endif
return true
endfunction
function k9 takes nothing returns boolean
if not (SubString(GetEventPlayerChatString(),1,5)=="load") then
return false
endif
if not (LX[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function lB takes nothing returns boolean
if not k9() then
return false
endif
return true
endfunction
function lC takes nothing returns nothing
call TriggerSleepAction(.01)
if k8() then
if false then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"                                                       Нельзя сохранить живого героя!")
else
if k6() then
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_ALWAYSHINT,"                 |c0000FF00Baш кoд:|r -load "+MI[GetConvertedPlayerId(GetTriggerPlayer())+5000])
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"                                          |cFFFFFF00 Копия кода помещена в папку  SAVE-GAME\\Goblin_Survival\\   в корне WarCraft3|r
|cFFFF0000ВНИМАНИЕ:|r           Сейвы желательно не удалять, а хотябы сохранять в отдельную папку.")
else
endif
endif
else
endif
if lB() then
call DisplayTimedTextToForce(GetForceOfPlayer(GetTriggerPlayer()),10.,"---- |cffFFAA00Для загрузки Героя необходимо вначале кликнуть по дискете под костром|r ----
---- |cffFFAA00и только после этого ввести -load и свой код.|r ---- ")
else
endif
endfunction
function lD takes nothing returns nothing
set Q5=CreateTrigger()
call DisableTrigger(Q5)
call TriggerRegisterPlayerChatEvent(Q5,Player(0),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(1),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(2),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(3),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(4),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(5),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(6),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(7),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(8),"-",false)
call TriggerRegisterPlayerChatEvent(Q5,Player(9),"-",false)
call TriggerAddAction(Q5,function lC)
endfunction
function lE takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Cейв-Лoaд в oдинoчнoй игpe HЕ ДEЙCTВУЮT")
endfunction
function lF takes nothing returns nothing
set Q6=CreateTrigger()
call DisableTrigger(Q6)
call TriggerRegisterTimerEventPeriodic(Q6,30.)
call TriggerAddAction(Q6,function lE)
endfunction
function lG takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$48303030 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303033 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303031 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303032 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303035 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303036 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$48303034 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303030 then
return true
endif
return false
endfunction
function lH takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303436)==false) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitInGroup(GetTriggerUnit(),Ir)==true) then
return false
endif
if not lG() then
return false
endif
return true
endfunction
function lI takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())])==true) then
return false
endif
return true
endfunction
function lJ takes nothing returns nothing
if lI() then
call AdjustPlayerStateBJ(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)/CountUnitsInGroup(Ir)+0,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call UnitShareVisionBJ(true,Pd[GetConvertedPlayerId(GetEnumPlayer())],GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAllianceBJ(GetEnumPlayer(),ALLIANCE_SHARED_VISION,true,GetOwningPlayer(GetTriggerUnit()))
else
endif
endfunction
function lK takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$6830324D) then
return false
endif
return true
endfunction
function lL takes nothing returns nothing
if lK() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function lM takes nothing returns boolean
if not (OF[GetForLoopIndexA()]==1) then
return false
endif
return true
endfunction
function lN takes nothing returns boolean
if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830314F then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830324A then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303246 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303141 then
return true
endif
return false
endfunction
function lO takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[10])==true) then
return false
endif
return true
endfunction
function lP takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[9])==true) then
return false
endif
return true
endfunction
function lQ takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[8])==true) then
return false
endif
return true
endfunction
function lR takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[7])==true) then
return false
endif
return true
endfunction
function lS takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[6])==true) then
return false
endif
return true
endfunction
function lT takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[5])==true) then
return false
endif
return true
endfunction
function lU takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[4])==true) then
return false
endif
return true
endfunction
function lV takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[3])==true) then
return false
endif
return true
endfunction
function lW takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[2])==true) then
return false
endif
return true
endfunction
function lX takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[1])==true) then
return false
endif
return true
endfunction
function lY takes nothing returns boolean
if not lN() then
return false
endif
if not (GetOwningPlayer(GetEnumUnit())==GetOwningPlayer(GetTriggerUnit())) then
return false
endif
return true
endfunction
function lZ takes nothing returns nothing
if lY() then
if lX() then
call SetUnitOwner(GetEnumUnit(),Player(0),true)
else
if lW() then
call SetUnitOwner(GetEnumUnit(),Player(1),true)
else
if lV() then
call SetUnitOwner(GetEnumUnit(),Player(2),true)
else
if lU() then
call SetUnitOwner(GetEnumUnit(),Player(3),true)
else
if lT() then
call SetUnitOwner(GetEnumUnit(),Player(4),true)
else
if lS() then
call SetUnitOwner(GetEnumUnit(),Player(5),true)
else
if lR() then
call SetUnitOwner(GetEnumUnit(),Player(6),true)
else
if lQ() then
call SetUnitOwner(GetEnumUnit(),Player(7),true)
else
if lP() then
call SetUnitOwner(GetEnumUnit(),Player(8),true)
else
if lO() then
call SetUnitOwner(GetEnumUnit(),Player(9),true)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
endfunction
function la takes nothing returns boolean
if not (GetPlayerSlotState(GetOwningPlayer(GetTriggerUnit()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (N8==false) then
return false
endif
return true
endfunction
function lb takes nothing returns boolean
if not (PS==true) then
return false
endif
return true
endfunction
function lc takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(Ir)==true) then
return false
endif
return true
endfunction
function ld takes nothing returns nothing
local string array Qo
local integer Qx=0
local integer Qn=0
local player Qf
local integer Qg=0
local unit Q8
local unit Q9
call SetPlayerName(GetOwningPlayer(GetTriggerUnit()),Ou[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set Q8=GetTriggerUnit()
set Qf=GetOwningPlayer(Q8)
set Qg=GetConvertedPlayerId(Qf)
set Qx=1
loop
exitwhen Qx>6
if GetItemType(UnitItemInSlot(QG[Qg],Qx-1))==ITEM_TYPE_CHARGED then
call UnitRemoveItemFromSlotSwapped(Qx,QG[Qg])
endif
set Qx=Qx+1
endloop
set Q9=QG[Qg]
set LJ[Qg]=true
set Qo[1]=I2S(GetPlayerState(Qf,PLAYER_STATE_RESOURCE_GOLD))
if GetUnitTypeId(Q8)==$48303030 then
set Qo[2]="1"
elseif GetUnitTypeId(Q8)==$48303033 then
set Qo[2]="2"
elseif GetUnitTypeId(Q8)==$48303031 then
set Qo[2]="3"
elseif GetUnitTypeId(Q8)==$48303032 then
set Qo[2]="4"
elseif GetUnitTypeId(Q8)==$48303035 then
set Qo[2]="5"
elseif GetUnitTypeId(Q8)==$48303036 then
set Qo[2]="6"
elseif GetUnitTypeId(Q8)==$48303034 then
set Qo[2]="7"
elseif GetUnitTypeId(Q8)==$4E303030 then
set Qo[2]="8"
else
set Qo[2]="9"
endif
set Qo[3]=I2S(GetHeroXP(Q8))
set Qo[4]=I2S(GetHeroLevel(Q8))
if S2I(Qo[1])>S2I(Qo[4])*1000 then
set Qo[1]=I2S(S2I(Qo[4])*1000)
endif
set Qo[5]=LL[Qg+10]
set Qo[6]=I2S(MH[Qg])
set Qo[19]=SubStringBJ(GetUnitName(HM),4,6)
if S2I(MI[20+(Qg-1)*100])<=O3 then
set Qo[20]=I2S(O3)
else
set Qo[20]=MI[20+(Qg-1)*100]
endif
set Qo[21]=I2S(L6[Qg])
set Qo[22]=I2S(L7[Qg])
if Li[Qg]<1000 or Li[Qg]>4000 then
set Qo[23]="18"
else
set Qo[23]=R2S(Li[Qg]/100)
endif
set Qx=1
loop
exitwhen Qx>6
set Qo[Qx+6]=I2S(GetRandomInt(980,999))
set Qo[Qx+12]=I2S(GetRandomInt(980,999))
if UnitItemInSlot(Q8,Qx-1)!=null then
set Qn=100
loop
exitwhen Qn>999
if GetItemTypeId(UnitItemInSlot(Q8,Qx-1))==Q1[Qn] then
set Qo[Qx+6]=I2S(Qn)
set Qn=999
endif
set Qn=Qn+1
endloop
endif
if UnitItemInSlot(Q9,Qx-1)!=null then
set Qn=100
loop
exitwhen Qn>999
if GetItemTypeId(UnitItemInSlot(Q9,Qx-1))==Q1[Qn] then
set Qo[Qx+12]=I2S(Qn)
set Qn=999
endif
set Qn=Qn+1
endloop
endif
set Qx=Qx+1
endloop
set Qx=1
loop
exitwhen Qx>10
call DoNothing()
if Qg==Qx then
set Qn=1
loop
exitwhen Qn>25
set MI[Qn+(Qg-1)*100]=Qo[Qn]
set Qn=Qn+1
endloop
endif
call DoNothing()
set Qx=Qx+1
endloop
call DoNothing()
call DoNothing()
call DoNothing()
call DoNothing()
if LJ[Qg] then
endif
set LU[Qg]=true
set RB=GetOwningPlayer(GetTriggerUnit())
set Kd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
set ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call GroupRemoveUnitSimple(GetTriggerUnit(),Ir)
call GroupAddUnitSimple(GetTriggerUnit(),NE)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function lJ)
call SetUnitLifePercentBJ(GetTriggerUnit(),0.)
call KillUnit(GetTriggerUnit())
set JR[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,0)
call PingMinimapLocForForceEx(GetPlayersAll(),GetUnitLoc(GetTriggerUnit()),3.,bj_MINIMAPPINGSTYLE_ATTACK,100,0.,0.)
call SetUnitManaBJ(GetTriggerUnit(),0)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerAll(GetOwningPlayer(GetTriggerUnit())),function lL)
call RemoveUnit(QG[Qg])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if lM() then
call AddSpecialEffectTargetUnitBJ("origin",Pd[GetForLoopIndexA()],"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(Pd[GetForLoopIndexA()],GetUnitLifePercent(Pd[GetForLoopIndexA()])+40.)
call SetUnitManaPercentBJ(Pd[GetForLoopIndexA()],GetUnitManaPercent(Pd[GetForLoopIndexA()])+40.)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function lZ)
if lb() then
call ConditionalTriggerExecute(QN)
if la() then
call PlaySoundBJ(H)
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Последний раз гоблина видели здесь...|r")
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303736,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
endif
else
endif
if lc() then
call DisplayTimedTextToForce(GetPlayersAll(),30,"Все гоблины мертвы! Сохранитесь командой -save, и не забудьте посетить сайт нашей картостроительной Гильдии Goblin Workshop! - |c0000FF00http://goblinworkshop.ru|r,")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc(RC[GetForLoopIndexA()],PolarProjectionBJ(GetRectCenter(Ga),256.,I2R(GetForLoopIndexA())*40.))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
call ConditionalTriggerExecute(Px)
endfunction
function le takes nothing returns nothing
set Q7=CreateTrigger()
call DisableTrigger(Q7)
call TriggerRegisterAnyUnitEventBJ(Q7,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Q7,Condition(function lH))
call TriggerAddAction(Q7,function ld)
endfunction
function lf takes nothing returns nothing
call DisableTrigger(QV)
endfunction
function lg takes nothing returns nothing
set RD=CreateTrigger()
call DisableTrigger(RD)
call TriggerRegisterTimerEventPeriodic(RD,2.)
call TriggerAddAction(RD,function lf)
endfunction
function lh takes nothing returns boolean
if not (IsUnitAliveBJ(HO)!=true) then
return false
endif
return true
endfunction
function li takes nothing returns nothing
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"------|CFFFF0000Былo зaфикcиpовaнo пpимeнениe ЧИTОB - Cейв HЕДOСTУПEН!|r-------")
endfunction
function lj takes nothing returns nothing
set RE=CreateTrigger()
set bj_forLoopAIndex=0
loop
exitwhen bj_forLoopAIndex>10
call TriggerRegisterPlayerChatEvent(RE,Player(bj_forLoopAIndex),"-save",false)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerAddCondition(RE,Condition(function lh))
call TriggerAddAction(RE,function li)
endfunction
function lk takes nothing returns boolean
if not (GetPlayerSlotState(ConvertedPlayer(GetForLoopIndexA()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (GetPlayerController(ConvertedPlayer(GetForLoopIndexA()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function ll takes nothing returns boolean
if not (LP<=1) then
return false
endif
return true
endfunction
function lm takes nothing returns nothing
set LY[1]="!#$%&()*+,-.0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`{|}~ †‡‰™¤¦§©®|°±µ"
set LY[2]="!#$%&()*+,-.0123456789:;<=>?@abcdefghijklmnopqrstuvwxyz[]^_`{|}~ †‡‰™¤¦§©®|°±µ"
call DoNothing()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if lk() then
set LP=LP+1
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if ll() then
call EnableTrigger(Q6)
call EnableTrigger(RD)
set LV=0
else
set LV=LP
call DisableTrigger(Q6)
call DisableTrigger(RD)
call EnableTrigger(QW)
call EnableTrigger(Q5)
call EnableTrigger(Q7)
endif
call DoNothing()
endfunction
function ln takes nothing returns nothing
set Qb=CreateTrigger()
call DisableTrigger(Qb)
call TriggerAddAction(Qb,function lm)
endfunction
function lo takes nothing returns nothing
set Lb[GetConvertedPlayerId(GetTriggerPlayer())]=false
endfunction
function lp takes nothing returns boolean
local integer H9=1
local string H6=SS(GetEventPlayerChatString(),1,StringLength(GetEventPlayerChatString()))
local string IB=""
loop
exitwhen H9>SL(H6)
if SS(H6,H9-1,H9)==" " then
set H9=SL(H6)+1
else
set IB=IB+SS(H6,H9-1,H9)
set H9=H9+1
endif
endloop
if IB=="save" or IB=="load" or IB=="help" or IB=="mobs" or IB=="clear" or IB=="easy" or IB=="normal" or IB=="hard" or IB=="zoom" or IB=="kill" or IB=="kin" or IB=="dmg" or IB=="hc" or IB=="suic" or IB=="cl" or IB=="difficulty" or IB=="roll" then
return false
elseif IB=="noroll" or IB=="tt" or IB=="nott" or IB=="time" or IB=="notime" or IB=="blood" or IB=="noblood" or IB=="fog" or IB=="nofog" or IB=="ff" or IB=="noff" or IB=="admin" or IB=="sound" or IB=="sw" or IB=="nosw" or IB=="lowlvl" or IB=="paint" then
return false
elseif IB=="lumber" or IB=="gold" or IB=="money" or IB=="additem" or IB=="itemid" or IB=="item" or IB=="lvl" or IB=="exp" or IB=="clone" or IB=="craf" then
return true
else
return false
endif
endfunction
function lq takes nothing returns nothing
local integer H9=0
set RF=CreateTrigger()
loop
exitwhen H9>12
call TriggerRegisterPlayerChatEvent(RF,Player(H9),"-",false)
set H9=H9+1
endloop
call TriggerAddCondition(RF,Condition(function lp))
call TriggerAddAction(RF,function lo)
endfunction
function lr takes nothing returns boolean
if not (PS==false) then
return false
endif
return true
endfunction
function ls takes nothing returns boolean
if not (GetItemLifeBJ(GetEnumItem())<=1.) then
return false
endif
return true
endfunction
function lt takes nothing returns boolean
if not (GetItemTypeId(GetEnumItem())==$49303651) then
return false
endif
return true
endfunction
function lu takes nothing returns nothing
if lt() then
call SetWidgetLife(GetEnumItem(),GetItemLifeBJ(GetEnumItem())-1)
if ls() then
call RemoveItem(GetEnumItem())
else
endif
else
endif
endfunction
function lv takes nothing returns boolean
if not (RectContainsUnit(GF,GetEnumUnit())==true) then
return false
endif
if not (GetPlayerSlotState(GetOwningPlayer(GetEnumUnit()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
return true
endfunction
function lw takes nothing returns nothing
if lv() then
call SetUnitManaPercentBJ(GetEnumUnit(),100)
call SetUnitLifePercentBJ(GetEnumUnit(),100)
else
endif
endfunction
function lx takes nothing returns boolean
if not (PS==false) then
return false
endif
return true
endfunction
function ly takes nothing returns boolean
if not (GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())<1.) then
return false
endif
return true
endfunction
function lz takes nothing returns nothing
if ly() then
call QueueUnitAnimationBJ(GetEnumUnit(),"death")
set QE=GetUnitLoc(GetEnumUnit())
call PingMinimapLocForForceEx(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),QE,.2,bj_MINIMAPPINGSTYLE_FLASHY,100.,40.,0.)
call CreateItemLoc($49303435,QE)
call GroupRemoveUnitSimple(GetEnumUnit(),Md)
call RemoveLocation(QE)
call KillUnit(GetEnumUnit())
else
call SetUnitManaBJ(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())-1)
endif
endfunction
function l0 takes nothing returns boolean
if not (CountUnitsInGroup(Md)>0) then
return false
endif
return true
endfunction
function l1 takes nothing returns nothing
if lr() then
call fU()
call SetUnitLifePercentBJ(HX,100)
call SetUnitLifePercentBJ(HW,100)
call SetUnitAnimation(HU,"attack")
else
endif
call EnumItemsInRectBJ(GetPlayableMapRect(),function lu)
if lx() then
call ForGroupBJ(Ir,function lw)
else
endif
if l0() then
call ForGroupBJ(Md,function lz)
else
endif
call fd()
endfunction
function l2 takes nothing returns nothing
set RG=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(RG,1.)
call TriggerAddAction(RG,function l1)
endfunction
function l3 takes nothing returns boolean
if not (Li[GetForLoopIndexA()]>=10) then
return false
endif
if not (IsDestructableAliveBJ(Gq)==false) then
return false
endif
return true
endfunction
function l4 takes nothing returns boolean
if not (UnitHasBuffBJ(Pd[GetForLoopIndexA()],$4230304B)==true) then
return false
endif
return true
endfunction
function l5 takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if l3() then
call SetCameraFieldForPlayer(ConvertedPlayer(GetForLoopIndexA()),CAMERA_FIELD_TARGET_DISTANCE,Li[GetForLoopIndexA()],1.)
else
endif
if l4() then
set Lf=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Pd[GetForLoopIndexA()])*.02
call fH(Pd[GetForLoopIndexA()],Lf)
set Lf=GetUnitStateSwap(UNIT_STATE_MAX_MANA,Pd[GetForLoopIndexA()])*.02
call fK(Pd[GetForLoopIndexA()],Lf)
set Lf=0.
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function l6 takes nothing returns nothing
set RJ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(RJ,3.)
call TriggerAddAction(RJ,function l5)
endfunction
function l7 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEnumUnit(),$49304842)==true) then
return false
endif
return true
endfunction
function l8 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEnumUnit(),$49304330)==true) then
return false
endif
return true
endfunction
function l9 takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)>350) then
return false
endif
return true
endfunction
function mB takes nothing returns nothing
if l7() then
call AdjustPlayerStateBJ(30,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
if l8() then
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
endif
if l9() then
call SetPlayerStateBJ(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER,350)
else
endif
endfunction
function mC takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==false) then
return false
endif
return true
endfunction
function mD takes nothing returns nothing
if mC() then
call GroupRemoveUnitSimple(GetEnumUnit(),ND)
else
endif
endfunction
function mE takes nothing returns nothing
call ForGroupBJ(Ir,function mB)
call ForGroupBJ(ND,function mD)
set Iv=CountUnitsInGroup(ND)
endfunction
function mF takes nothing returns nothing
set RN=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(RN,5.)
call TriggerAddAction(RN,function mE)
endfunction
function mG takes nothing returns boolean
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303237 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303244 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303052 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303135 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303136 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303137 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303138 then
return true
endif
if GetUnitTypeId(GetAttacker())==$6830325A then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303330 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303059 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303131 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303132 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303133 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303134 then
return true
endif
return false
endfunction
function mH takes nothing returns boolean
if not mG() then
return false
endif
return true
endfunction
function mI takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303436 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303437 then
return true
endif
return false
endfunction
function mJ takes nothing returns boolean
if not mI() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
return true
endfunction
function mK takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303157))==0) then
return false
endif
return true
endfunction
function mL takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetAttacker(),$49303157)==true) then
return false
endif
return true
endfunction
function mM takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303156))==0) then
return false
endif
return true
endfunction
function mN takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetAttacker(),$49303156)==true) then
return false
endif
return true
endfunction
function mO takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303155))==0) then
return false
endif
return true
endfunction
function mP takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetAttacker(),$49303155)==true) then
return false
endif
return true
endfunction
function mQ takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303154))==0) then
return false
endif
return true
endfunction
function mR takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetAttacker(),$49303154)==true) then
return false
endif
return true
endfunction
function mS takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303636))==0) then
return false
endif
return true
endfunction
function mT takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetAttacker(),$49303636)==true) then
return false
endif
return true
endfunction
function mU takes nothing returns boolean
if not (GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())<10.) then
return false
endif
return true
endfunction
function mV takes nothing returns boolean
if GetUnitTypeId(GetAttacker())==$68303059 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303131 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303132 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303133 then
return true
endif
if GetUnitTypeId(GetAttacker())==$68303134 then
return true
endif
return false
endfunction
function mW takes nothing returns boolean
if not mV() then
return false
endif
return true
endfunction
function mX takes nothing returns nothing
if mJ() then
call IssueImmediateOrder(GetAttacker(),"stop")
else
endif
if mL() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303157),GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303157))-1)
if mK() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303157))
else
endif
else
endif
if mN() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303156),GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303156))-1)
if mM() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303156))
else
endif
else
endif
if mP() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303155),GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303155))-1)
if mO() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303155))
else
endif
else
endif
if mR() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303154),GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303154))-1)
if mQ() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303154))
else
endif
else
endif
if mT() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303636),GetItemCharges(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303636))-1)
if mS() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetAttacker(),$49303636))
else
endif
else
endif
if mW() then
if mU() then
call IssueImmediateOrder(GetAttacker(),"stop")
else
call SetUnitManaBJ(GetAttacker(),GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())-10.)
endif
else
endif
endfunction
function mY takes nothing returns nothing
set RO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(RO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(RO,Condition(function mH))
call TriggerAddAction(RO,function mX)
endfunction
function mZ takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function ma takes nothing returns nothing
set RP=CreateTrigger()
call TriggerRegisterLeaveRectSimple(RP,GetPlayableMapRect())
call TriggerAddAction(RP,function mZ)
endfunction
function mb takes nothing returns nothing
call TriggerRegisterUnitEvent(RR,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function mc takes nothing returns nothing
set RQ=CreateTrigger()
call TriggerRegisterEnterRectSimple(RQ,GetPlayableMapRect())
call TriggerAddAction(RQ,function mb)
endfunction
function md takes nothing returns nothing
local unit HD=GetEventDamageSource()
set K4[GetConvertedPlayerId(GetOwningPlayer(HD))]=K4[GetConvertedPlayerId(GetOwningPlayer(HD))]+R2I(GetEventDamage())
set HD=null
endfunction
function me takes nothing returns nothing
set RR=CreateTrigger()
call TriggerAddAction(RR,function md)
endfunction
function mf takes nothing returns boolean
if not (GetDestructableTypeId(GetEnumDestructable())==$47547368) then
return false
endif
return true
endfunction
function mg takes nothing returns nothing
if mf() then
call KillDestructable(GetEnumDestructable())
call AddSpecialEffectLocBJ(GetDestructableLoc(GetEnumDestructable()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
else
endif
endfunction
function mh takes nothing returns boolean
if not (IsPlayerInForce(GetOwningPlayer(GetTriggerUnit()),GetPlayersByMapControl(MAP_CONTROL_USER))==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function mi takes nothing returns nothing
if mh() then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"О неееет! Глупые гномы спрятали динамит в этих грибах!",bj_TIMETYPE_SET,10.,false)
call DisableTrigger(GetTriggeringTrigger())
call EnumDestructablesInRectAll(GO,function mg)
else
endif
endfunction
function mj takes nothing returns nothing
set QS=CreateTrigger()
call TriggerRegisterEnterRectSimple(QS,GN)
call TriggerRegisterDestDeathInRegionEvent(QS,GO)
call TriggerAddAction(QS,function mi)
endfunction
function mk takes nothing returns nothing
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303141)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$6830314F)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303547)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303548)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303735)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$6830324A)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303246)),GetEnumPlayer(),true)
call SetUnitOwner(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(Kf,$68303242)),GetEnumPlayer(),true)
set Kf=GetEnumPlayer()
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Главой экспедиции назначается: |r"+GetPlayerName(GetEnumPlayer()))
endfunction
function ml takes nothing returns nothing
local integer H9=1
call TriggerSleepAction(2)
loop
exitwhen H9>10
if GetPlayerSlotState(ConvertedPlayer(H9))==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(ConvertedPlayer(H9))==MAP_CONTROL_USER then
if ConvertedPlayer(H9)==Kf then
set H9=11
else
call ForForce(GetForceOfPlayer(ConvertedPlayer(H9)),function mk)
set H9=11
endif
else
set H9=H9+1
endif
endloop
endfunction
function mm takes nothing returns nothing
set Px=CreateTrigger()
call TriggerAddAction(Px,function ml)
endfunction
function mn takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function mo takes nothing returns nothing
if mn() then
set It=It-1
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnumUnit(),$49303436))
call KillUnit(GetEnumUnit())
else
call RemoveUnit(GetTriggerUnit())
endif
endfunction
function mp takes nothing returns boolean
if not (IsPlayerInForce(ConvertedPlayer(P2),JK)==false) then
return false
endif
if not (IsPlayerInForce(ConvertedPlayer(P2),GetPlayersAll())==true) then
return false
endif
return true
endfunction
function mq takes nothing returns boolean
if not (PS==false) then
return false
endif
return true
endfunction
function mr takes nothing returns boolean
if not (Kf==GetTriggerPlayer()) then
return false
endif
return true
endfunction
function ms takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"Игрок "+(GetPlayerName(GetTriggerPlayer())+" покидает игру."))
call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()),function mo)
set JF=0
set P2=1
loop
exitwhen P2>10
if mp() then
set JF=JF+1
else
endif
set P2=P2+1
endloop
if mq() then
set Is=Is-1
else
endif
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER,0)
if mr() then
call ConditionalTriggerExecute(Px)
else
endif
endfunction
function mt takes nothing returns nothing
set RS=CreateTrigger()
call TriggerRegisterPlayerEventLeave(RS,Player(0))
call TriggerRegisterPlayerEventLeave(RS,Player(1))
call TriggerRegisterPlayerEventLeave(RS,Player(2))
call TriggerRegisterPlayerEventLeave(RS,Player(3))
call TriggerRegisterPlayerEventLeave(RS,Player(4))
call TriggerRegisterPlayerEventLeave(RS,Player(5))
call TriggerRegisterPlayerEventLeave(RS,Player(6))
call TriggerRegisterPlayerEventLeave(RS,Player(7))
call TriggerRegisterPlayerEventLeave(RS,Player(8))
call TriggerRegisterPlayerEventLeave(RS,Player(9))
call TriggerRegisterPlayerEventDefeat(RS,Player(0))
call TriggerRegisterPlayerEventDefeat(RS,Player(1))
call TriggerRegisterPlayerEventDefeat(RS,Player(2))
call TriggerRegisterPlayerEventDefeat(RS,Player(3))
call TriggerRegisterPlayerEventDefeat(RS,Player(4))
call TriggerRegisterPlayerEventDefeat(RS,Player(5))
call TriggerRegisterPlayerEventDefeat(RS,Player(6))
call TriggerRegisterPlayerEventDefeat(RS,Player(7))
call TriggerRegisterPlayerEventDefeat(RS,Player(8))
call TriggerRegisterPlayerEventDefeat(RS,Player(9))
call TriggerRegisterPlayerEventVictory(RS,Player(0))
call TriggerRegisterPlayerEventVictory(RS,Player(1))
call TriggerRegisterPlayerEventVictory(RS,Player(2))
call TriggerRegisterPlayerEventVictory(RS,Player(3))
call TriggerRegisterPlayerEventVictory(RS,Player(4))
call TriggerRegisterPlayerEventVictory(RS,Player(5))
call TriggerRegisterPlayerEventVictory(RS,Player(6))
call TriggerRegisterPlayerEventVictory(RS,Player(7))
call TriggerRegisterPlayerEventVictory(RS,Player(8))
call TriggerRegisterPlayerEventVictory(RS,Player(9))
call TriggerAddAction(RS,function ms)
endfunction
function mu takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),ConvertUnitType(20))==true) then
return false
endif
return true
endfunction
function mv takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==RU[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function mw takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if mv() then
call UnitAddItemByIdSwapped(RV[GetForLoopIndexA()],Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetItemUserData(GetLastCreatedItem(),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveUnit(GetTriggerUnit())
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function mx takes nothing returns nothing
set RT=CreateTrigger()
call TriggerRegisterEnterRectSimple(RT,GetPlayableMapRect())
call TriggerAddCondition(RT,Condition(function mu))
call TriggerAddAction(RT,function mw)
endfunction
function my takes nothing returns boolean
if not (GetHeroLevel(Pd[OO])==200) then
return false
endif
return true
endfunction
function mz takes nothing returns boolean
if not (PX==14) then
return false
endif
return true
endfunction
function m0 takes nothing returns boolean
if not (PX==13) then
return false
endif
return true
endfunction
function m1 takes nothing returns boolean
if not (PX==12) then
return false
endif
return true
endfunction
function m2 takes nothing returns boolean
if not (PX==11) then
return false
endif
return true
endfunction
function m3 takes nothing returns boolean
if not (PX==10) then
return false
endif
return true
endfunction
function m4 takes nothing returns boolean
if not (PX==9) then
return false
endif
return true
endfunction
function m5 takes nothing returns boolean
if not (PX==8) then
return false
endif
return true
endfunction
function m6 takes nothing returns boolean
if not (PX==7) then
return false
endif
return true
endfunction
function m7 takes nothing returns boolean
if not (PX<=6) then
return false
endif
return true
endfunction
function m8 takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[OO])==true) then
return false
endif
return true
endfunction
function m9 takes nothing returns nothing
local integer H9
if m8() then
if my() then
set PX=GetRandomInt(7,15)
else
set PX=GetRandomInt(1,15)
endif
if m7() then
set H9=OO
set KX=true
set Ob[1]=IMaxBJ(GetHeroLevel(Pd[H9])*Iu,250)
set Ob[1]=Ob[1]+R2I(I2R(Ob[1])*(.1*I2R(KK[H9])))
call AddHeroXP(Pd[H9],Ob[1],true)
set PW=PL[1]+(I2S(Ob[1])+PL[2])
set KX=false
else
if m6() then
set Ob[1]=GetRandomInt(1,10)*10
set PW=PL[1]+(I2S(Ob[1])+PL[8])
call AdjustPlayerStateBJ(Ob[1],ConvertedPlayer(OO),PLAYER_STATE_RESOURCE_LUMBER)
else
if m5() then
set Ob[1]=GetRandomInt(1,10)*(Iu*10)
set PW=PL[1]+(I2S(Ob[1])+PL[9])
call AdjustPlayerStateBJ(Ob[1],ConvertedPlayer(OO),PLAYER_STATE_RESOURCE_GOLD)
else
if m4() then
set PW=PL[10]
set MD[OO]=MD[OO]+1
else
if m3() then
set PW=PL[11]
set KE[OO]=KE[OO]+1
else
if m2() then
set PW=PL[12]
call SetUnitLifePercentBJ(Pd[OO],100)
call SetUnitManaPercentBJ(Pd[OO],100)
call AddSpecialEffectTargetUnitBJ("origin",Pd[OO],"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
if m1() then
set PW=PL[13]
set RX=GetUnitLoc(Pd[OO])
call CreateNUnitsAtLoc(1,$6864756D,ConvertedPlayer(OO),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305039,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305039,GetLastCreatedUnit(),Iu/10)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"innerfire",Pd[OO])
call RemoveLocation(RX)
else
if m0() then
set PW=PL[14]
set RX=GetUnitLoc(Pd[OO])
call CreateNUnitsAtLoc(1,$6864756D,ConvertedPlayer(OO),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305045,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305045,GetLastCreatedUnit(),Iu/10)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"antimagicshell",Pd[OO])
call RemoveLocation(RX)
else
if mz() then
set PW=PL[15]
set RX=GetUnitLoc(Pd[OO])
call CreateNUnitsAtLoc(1,$6864756D,ConvertedPlayer(OO),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305044,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305044,GetLastCreatedUnit(),Iu/10)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"bloodlust",Pd[OO])
call RemoveLocation(RX)
else
set PW=PL[16]
set RX=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6864756D,ConvertedPlayer(OO),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305048,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305048,GetLastCreatedUnit(),Iu/10)
call UnitApplyTimedLifeBJ(60.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(RX)
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
call QuestMessageBJ(GetForceOfPlayer(ConvertedPlayer(OO)),bj_QUESTMESSAGE_COMPLETED,PW)
endfunction
function nB takes nothing returns nothing
set RW=CreateTrigger()
call TriggerAddAction(RW,function m9)
endfunction
function nC takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetTriggerPlayer())]==false) then
return false
endif
return true
endfunction
function nD takes nothing returns nothing
set OO=GetConvertedPlayerId(GetTriggerPlayer())
set ON[GetConvertedPlayerId(GetTriggerPlayer())]=true
call StartTimerBJ(PT[OO],false,600.)
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Личные задания теперь будут отображаться для Вас.|r")
call fg()
endfunction
function nE takes nothing returns nothing
set RY=CreateTrigger()
call TriggerRegisterPlayerChatEvent(RY,Player(0),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(1),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(2),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(3),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(4),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(5),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(6),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(7),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(8),"-quest",true)
call TriggerRegisterPlayerChatEvent(RY,Player(9),"-quest",true)
call TriggerAddCondition(RY,Condition(function nC))
call TriggerAddAction(RY,function nD)
endfunction
function nF takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetTriggerPlayer())]==true) then
return false
endif
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==true) then
return false
endif
return true
endfunction
function nG takes nothing returns nothing
set ON[GetConvertedPlayerId(GetTriggerPlayer())]=false
call PauseTimerBJ(true,PT[GetConvertedPlayerId(GetTriggerPlayer())])
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Личные задания больше не будут отображаться для Вас.|r")
endfunction
function nH takes nothing returns nothing
set RZ=CreateTrigger()
call TriggerRegisterPlayerChatEvent(RZ,Player(0),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(1),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(2),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(3),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(4),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(5),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(6),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(7),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(8),"-noquest",true)
call TriggerRegisterPlayerChatEvent(RZ,Player(9),"-noquest",true)
call TriggerAddCondition(RZ,Condition(function nF))
call TriggerAddAction(RZ,function nG)
endfunction
function nI takes nothing returns boolean
if not (PV[GetForLoopIndexA()]==true) then
return false
endif
if not (TimerGetRemaining(PU[GetForLoopIndexA()])<=0.) then
return false
endif
return true
endfunction
function nJ takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if nI() then
set PV[GetForLoopIndexA()]=false
set OO=GetForLoopIndexA()
call fi()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function nK takes nothing returns nothing
set Ra=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Ra,PU[1])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[2])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[3])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[4])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[5])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[6])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[7])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[8])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[9])
call TriggerRegisterTimerExpireEventBJ(Ra,PU[10])
call TriggerAddAction(Ra,function nJ)
endfunction
function nL takes nothing returns nothing
local unit HD=GetTriggerUnit()
local item Re=GetManipulatedItem()
local integer Rf=GetItemTypeId(Re)
local integer Rh=LoadInteger(Rg,Rf,150)
local string Ri=""
if Rh>GetHeroLevel(HD) then
call DisplayTextToPlayer(GetOwningPlayer(HD),0,0,"|c00FF0000Этот предмет могут носить только герои, достигшие "+I2S(Rh)+" уровня!|r")
call UnitRemoveItem(HD,Re)
endif
set Rh=LoadInteger(Rg,Rf,151)
if Rh!=0 then
set Rf=GetUnitTypeId(HD)
if Rh==1 then
if Rf!=$48303030 then
set Ri="Сталкеры"
endif
endif
if Rh==2 then
if Rf!=$48303034 then
set Ri="Снайперы"
endif
endif
if Rh==3 then
if Rf!=$4E303030 then
set Ri="Инженеры"
endif
endif
if Rh==4 then
if Rf!=$48303032 then
set Ri="Медики"
endif
endif
if Rh==5 then
if Rf!=$48303036 then
set Ri="Подрывники"
endif
endif
if Rh==6 then
if Rf!=$48303035 then
set Ri="Пулемётчики"
endif
endif
if Rh==7 then
if Rf!=$48303031 then
set Ri="Пироманьяки"
endif
endif
if Rh==8 then
if Rf!=$48303033 then
set Ri="Ракетчики"
endif
endif
if Rh==9 then
if Rf!=$48303030 and Rf!=$48303034 then
set Ri="Сталкеры и Снайперы"
endif
endif
if Rh==10 then
if Rf!=$48303036 and Rf!=$48303033 then
set Ri="Ракетчики и Подрывники"
endif
endif
if Rh==11 then
if Rf!=$48303031 and Rf!=$48303035 then
set Ri="Пироманьяки и Пулемётчики"
endif
endif
if Rh==12 then
if Rf!=$4E303030 and Rf!=$48303032 then
set Ri="Инженеры и Медики"
endif
endif
if Rh==13 then
if Rf!=$48303031 and Rf!=$48303033 then
set Ri="Пироманьяки и Ракетчики"
endif
endif
if Ri!="" then
call DisplayTextToPlayer(GetOwningPlayer(HD),0,0,"|c00FF0000Этот предмет могут носить только "+Ri+"!|r")
call UnitRemoveItem(HD,Re)
endif
endif
set Re=null
set HD=null
endfunction
function nM takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)
endfunction
function nN takes nothing returns nothing
set Rd=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Rd,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Rd,Condition(function nM))
call TriggerAddAction(Rd,function nL)
endfunction
function nO takes nothing returns boolean
if not (IsUnitVisible(GetTriggerUnit(),GetTriggerPlayer())==false) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303141) then
return false
endif
if not (IsDestructableAliveBJ(Gx)==true) then
return false
endif
return true
endfunction
function nP takes nothing returns nothing
call CustomDefeatBJ(GetTriggerPlayer(),"No")
endfunction
function nQ takes nothing returns nothing
set Rj=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(Rj,Player(9),true)
call TriggerAddCondition(Rj,Condition(function nO))
call TriggerAddAction(Rj,function nP)
endfunction
function nR takes nothing returns nothing
call PauseGameOn()
call PauseGameOff()
call PauseGameOn()
call PauseGameOff()
call PauseGameOn()
call PauseGameOff()
call SetUnitInvulnerable(HM,true)
call SetUnitInvulnerable(HO,true)
call SetUnitInvulnerable(HN,true)
call SetUnitInvulnerable(HL,true)
endfunction
function nS takes nothing returns nothing
set Rk=CreateTrigger()
call TriggerAddAction(Rk,function nR)
endfunction
function nT takes nothing returns boolean
if not (PS==true) then
return false
endif
return true
endfunction
function nU takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())!=$6830324E) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$6830324F) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303250) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303251) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303357) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303358) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303030) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303032) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303031) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303036) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303035) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303033) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$48303034) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$4E303030) then
return false
endif
return true
endfunction
function nV takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function nW takes nothing returns nothing
if nT() then
call SetUnitPositionLoc(GetTriggerUnit(),GetRandomLocInRect(EQ))
return
else
endif
if nU() then
call GroupAddUnitSimple(GetTriggerUnit(),Ov)
else
endif
call EnumItemsInRectBJ(GF,function nV)
endfunction
function nX takes nothing returns nothing
set Rl=CreateTrigger()
call TriggerRegisterEnterRectSimple(Rl,Gb)
call TriggerAddAction(Rl,function nW)
endfunction
function nY takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830324E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830324F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303250 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303251 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303357 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303358 then
return true
endif
return false
endfunction
function nZ takes nothing returns boolean
if not (PS==false) then
return false
endif
if not nY() then
return false
endif
return true
endfunction
function na takes nothing returns boolean
if not (PS==true) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$6830324E) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$6830324F) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303250) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303251) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303357) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303358) then
return false
endif
return true
endfunction
function nb takes nothing returns nothing
if nZ() then
call SetUnitPositionLoc(GetTriggerUnit(),GetRandomLocInRect(GF))
else
endif
if na() then
call SetUnitInvulnerable(GetTriggerUnit(),false)
else
endif
endfunction
function nc takes nothing returns nothing
set Rm=CreateTrigger()
call TriggerRegisterLeaveRectSimple(Rm,Gb)
call TriggerAddAction(Rm,function nb)
endfunction
function nd takes nothing returns boolean
if not (Oc==false) then
return false
endif
return true
endfunction
function ne takes nothing returns boolean
if not (L2==false) then
return false
endif
return true
endfunction
function nf takes nothing returns boolean
if not (L2==true) then
return false
endif
return true
endfunction
function ng takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_GROUND)==true) then
return false
endif
return true
endfunction
function nh takes nothing returns nothing
if ng() then
set QE=GetRandomLocInRect(EZ)
call SetUnitPositionLoc(GetEnumUnit(),QE)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
else
endif
endfunction
function ni takes nothing returns nothing
set QE=GetRandomLocInRect(EZ)
call SetItemPositionLoc(GetEnumItem(),QE)
call RemoveLocation(QE)
endfunction
function nj takes nothing returns nothing
if nf() then
set L2=false
call KillDestructable(Gt)
else
if ne() then
set L2=true
call DestructableRestoreLife(Gt,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(EX),function nh)
call EnumItemsInRectBJ(EX,function ni)
call StartTimerBJ(L3,false,GetRandomReal(60.,360.))
endfunction
function nk takes nothing returns nothing
set Rn=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Rn,L3)
call TriggerAddCondition(Rn,Condition(function nd))
call TriggerAddAction(Rn,function nj)
endfunction
function nl takes nothing returns boolean
if not (Oc==false) then
return false
endif
return true
endfunction
function nm takes nothing returns boolean
if not (L4==false) then
return false
endif
return true
endfunction
function nn takes nothing returns boolean
if not (L4==true) then
return false
endif
return true
endfunction
function no takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_GROUND)==true) then
return false
endif
return true
endfunction
function np takes nothing returns nothing
if no() then
set QE=GetRandomLocInRect(Ea)
call SetUnitPositionLoc(GetEnumUnit(),QE)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
else
endif
endfunction
function nq takes nothing returns nothing
set QE=GetRandomLocInRect(Ea)
call SetItemPositionLoc(GetEnumItem(),QE)
call RemoveLocation(QE)
endfunction
function nr takes nothing returns nothing
if nn() then
set L4=false
call KillDestructable(Gs)
else
if nm() then
set L4=true
call DestructableRestoreLife(Gs,GetDestructableMaxLife(GetLastCreatedDestructable()),true)
else
endif
endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(EY),function np)
call EnumItemsInRectBJ(EY,function nq)
call StartTimerBJ(L5,false,GetRandomReal(60.,360.))
endfunction
function ns takes nothing returns nothing
set Ro=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Ro,L5)
call TriggerAddCondition(Ro,Condition(function nl))
call TriggerAddAction(Ro,function nr)
endfunction
function nt takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
return true
endfunction
function nu takes nothing returns nothing
set JX=0
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),1),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),2),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),3),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),4),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),5),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),6),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
endfunction
function nv takes nothing returns nothing
set Rp=CreateTrigger()
call TriggerRegisterEnterRectSimple(Rp,GetEntireMapRect())
call TriggerAddCondition(Rp,Condition(function nt))
call TriggerAddAction(Rp,function nu)
endfunction
function nw takes nothing returns boolean
if GetPlayerName(GetEnumPlayer())=="ELITE83" then
return true
endif
if GetPlayerName(GetEnumPlayer())=="diazz0229" then
return true
endif
if GetPlayerName(GetEnumPlayer())=="Diazz0229" then
return true
endif
if GetPlayerName(GetEnumPlayer())=="Terra4" then
return true
endif
if GetPlayerName(GetEnumPlayer())=="speedmobile" then
return true
endif
return false
endfunction
function nx takes nothing returns boolean
if not nw() then
return false
endif
return true
endfunction
function ny takes nothing returns boolean
if GetPlayerName(GetEnumPlayer())=="VAN_Diazz0229" then
return true
endif
return false
endfunction
function nz takes nothing returns boolean
if not ny() then
return false
endif
return true
endfunction
function n0 takes nothing returns boolean
if GetPlayerName(GetEnumPlayer())=="npoKJI9TbIu" then
return true
endif
if GetPlayerName(GetEnumPlayer())=="IIazaH4er" then
return true
endif
return false
endfunction
function n1 takes nothing returns boolean
if not n0() then
return false
endif
return true
endfunction
function n2 takes nothing returns boolean
if not (GetPlayerName(GetEnumPlayer())=="npoKJI9TbIu") then
return false
endif
return true
endfunction
function n3 takes nothing returns nothing
if nx() then
call ForceAddPlayerSimple(GetEnumPlayer(),Jm)
else
endif
if nz() then
call ForceAddPlayerSimple(GetEnumPlayer(),J6)
else
endif
if n1() then
call ForceAddPlayerSimple(GetEnumPlayer(),Jm)
else
endif
if n2() then
call ForceAddPlayerSimple(GetEnumPlayer(),Jt)
else
endif
endfunction
function n4 takes nothing returns nothing
call ConditionalTriggerExecute(Rr)
call ForForce(GetPlayersAll(),function n3)
endfunction
function n5 takes nothing returns nothing
set Rq=CreateTrigger()
call TriggerAddAction(Rq,function n4)
endfunction
function n6 takes nothing returns nothing
if UG then
set LL[GetConvertedPlayerId(GetTriggerPlayer())+10]="0"
endif
endfunction
function n7 takes nothing returns nothing
set Rr=CreateTrigger()
call TriggerAddAction(Rr,function n6)
endfunction
function n8 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$68303038 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303039 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303041 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303042 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303043 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303037 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303549 then
return true
endif
return false
endfunction
function n9 takes nothing returns boolean
if not n8() then
return false
endif
return true
endfunction
function oB takes nothing returns boolean
if RectContainsUnit(DU,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(ES,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(GJ,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(DD,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(DE,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(DF,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(DG,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(DH,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(GY,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Ca,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(EV,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(EU,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Cb,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Cc,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(GR,GetTriggerUnit())==true then
return true
endif
return false
endfunction
function oC takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303549) then
return false
endif
return true
endfunction
function oD takes nothing returns boolean
if not oB() then
return false
endif
return true
endfunction
function oE takes nothing returns boolean
if not (GetRandomInt(5,6)==6) then
return false
endif
return true
endfunction
function oF takes nothing returns boolean
if not (GetRandomInt(5,6)==5) then
return false
endif
return true
endfunction
function oG takes nothing returns boolean
if not (GetRandomInt(3,4)==4) then
return false
endif
return true
endfunction
function oH takes nothing returns boolean
if not (GetRandomInt(3,4)==3) then
return false
endif
return true
endfunction
function oI takes nothing returns boolean
if not (GetRandomInt(1,2)==2) then
return false
endif
return true
endfunction
function oJ takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function oK takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303549) then
return false
endif
return true
endfunction
function oL takes nothing returns nothing
if oD() then
call KillUnit(GetTriggerUnit())
else
if oC() then
call TriggerRegisterUnitEvent(Rt,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
else
call SetUnitUserData(GetTriggerUnit(),GetRandomInt(1,16+MP))
call TriggerRegisterUnitEvent(Ru,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endif
call GroupAddUnitSimple(GetTriggerUnit(),Kh)
endif
if IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)==true then
if oK() then
call RemoveUnit(GetTriggerUnit())
call GroupRemoveUnitSimple(GetTriggerUnit(),NV)
call GroupRemoveUnitSimple(GetTriggerUnit(),Kh)
set Rv=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303549,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
call RemoveLocation(Rv)
else
call RemoveUnit(GetTriggerUnit())
call GroupRemoveUnitSimple(GetTriggerUnit(),Kh)
set Rv=GetRandomLocInRect(GetPlayableMapRect())
if oJ() then
call CreateNUnitsAtLoc(1,$68303038,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oI() then
call CreateNUnitsAtLoc(1,$68303039,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oH() then
call CreateNUnitsAtLoc(1,$68303041,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oG() then
call CreateNUnitsAtLoc(1,$68303042,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oF() then
call CreateNUnitsAtLoc(1,$68303043,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oE() then
call CreateNUnitsAtLoc(1,$68303037,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
endif
endif
endif
endif
endif
endif
call RemoveLocation(Rv)
endif
endif
endfunction
function oM takes nothing returns nothing
set Rs=CreateTrigger()
call TriggerRegisterEnterRectSimple(Rs,GetEntireMapRect())
call TriggerAddCondition(Rs,Condition(function n9))
call TriggerAddAction(Rs,function oL)
endfunction
function oN takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$68303038 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303039 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303041 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303042 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303043 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303037 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303549 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303245 then
return true
endif
return false
endfunction
function oO takes nothing returns boolean
if not oN() then
return false
endif
return true
endfunction
function oP takes nothing returns boolean
if IsUnitEnemy(GetEnumUnit(),Player(0))==true then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303141 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6F303042 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6F303041 then
return true
endif
if IsUnitPausedBJ(GetEnumUnit())==false then
return true
endif
return false
endfunction
function oQ takes nothing returns boolean
if not oP() then
return false
endif
return true
endfunction
function oR takes nothing returns nothing
if oQ() then
else
call SetUnitLifePercentBJ(GetEnumUnit(),GetUnitLifePercent(GetEnumUnit())-GetRandomReal(10.,70.))
endif
endfunction
function oS takes nothing returns boolean
if not (GetRandomInt(1,6)==6) then
return false
endif
return true
endfunction
function oT takes nothing returns boolean
if not (GetRandomInt(1,6)==5) then
return false
endif
return true
endfunction
function oU takes nothing returns boolean
if not (GetRandomInt(1,6)==4) then
return false
endif
return true
endfunction
function oV takes nothing returns boolean
if not (GetRandomInt(1,6)==3) then
return false
endif
return true
endfunction
function oW takes nothing returns boolean
if not (GetRandomInt(1,6)==2) then
return false
endif
return true
endfunction
function oX takes nothing returns boolean
if not (GetRandomInt(1,6)==1) then
return false
endif
return true
endfunction
function oY takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303245) then
return false
endif
return true
endfunction
function oZ takes nothing returns nothing
if oY() then
set Rv=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(Rv,230.,230.)
set KW=GetUnitsInRectAll(Rx)
call AddSpecialEffectLocBJ(Rv,"Doodads\\LordaeronSummer\\Terrain\\LoardaeronRockChunks\\LoardaeronRockChunks1.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveRect(Rx)
set bj_wantDestroyGroup=true
call ForGroupBJ(KW,function oR)
if oX() then
call CreateNUnitsAtLoc(1,$68303038,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oW() then
call CreateNUnitsAtLoc(1,$68303039,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oV() then
call CreateNUnitsAtLoc(1,$68303041,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oU() then
call CreateNUnitsAtLoc(1,$68303042,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oT() then
call CreateNUnitsAtLoc(1,$68303043,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
if oS() then
call CreateNUnitsAtLoc(1,$68303037,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
else
endif
endif
endif
endif
endif
endif
call RemoveLocation(Rv)
else
call GroupRemoveUnitSimple(GetTriggerUnit(),Kh)
set QE=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303245,Player(PLAYER_NEUTRAL_PASSIVE),QE,GetRandomReal(0,360.))
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endif
endfunction
function oa takes nothing returns nothing
set Rw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Rw,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Rw,Condition(function oO))
call TriggerAddAction(Rw,function oZ)
endfunction
function ob takes nothing returns nothing
if bj_isSinglePlayer then
call DisableTrigger(QV)
call DisableTrigger(QW)
endif
endfunction
function oc takes nothing returns nothing
set Ry=CreateTrigger()
call TriggerAddAction(Ry,function ob)
endfunction
function od takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"|c00FFFF00Если вы встретили игрока, который явно играет не честно - сделайте скриншот с его ником и героем и отправте его нам в группу ВКонтакте или в Discord.|r")
endfunction
function oe takes nothing returns nothing
set Rz=CreateTrigger()
call DisableTrigger(Rz)
call TriggerRegisterTimerEventSingle(Rz,400.)
call TriggerAddAction(Rz,function od)
endfunction
function of takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function og takes nothing returns boolean
if not (I9[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>1) then
return false
endif
return true
endfunction
function oh takes nothing returns nothing
set I9[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I9[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if og() then
call RemoveUnit(GetTriggerUnit())
else
endif
endfunction
function oi takes nothing returns nothing
set R0=CreateTrigger()
call DisableTrigger(R0)
call TriggerRegisterEnterRectSimple(R0,GetEntireMapRect())
call TriggerAddCondition(R0,Condition(function of))
call TriggerAddAction(R0,function oh)
endfunction
function oj takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function ok takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(GG))
endfunction
function ol takes nothing returns nothing
set R1=CreateTrigger()
call DisableTrigger(R1)
call TriggerRegisterEnterRectSimple(R1,GJ)
call TriggerAddCondition(R1,Condition(function oj))
call TriggerAddAction(R1,function ok)
endfunction
function om takes nothing returns boolean
if not (IsPlayerInForce(ConvertedPlayer(P2),GetPlayersAll())==true) then
return false
endif
return true
endfunction
function on takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$6E303636) then
return false
endif
return true
endfunction
function oo takes nothing returns nothing
if on() then
set LS=LS+1
set QR[LS]=GetUnitLoc(GetEnumUnit())
set NY[LS]=GetUnitFacing(GetEnumUnit())
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function op takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function oq takes nothing returns boolean
if GetUnitTypeId(GetEnumUnit())==$68303046 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303838 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303846 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6E303042 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303058 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6E303047 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6E303044 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830314F then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6E303345 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303141 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303843 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303241 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830314E then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$49496C6C then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303336 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303335 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303343 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$49494949 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303737 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303144 then
return true
endif
if GetOwningPlayer(GetEnumUnit())==Player(PLAYER_NEUTRAL_PASSIVE) then
return true
endif
if GetEnumUnit()==HK then
return true
endif
if GetEnumUnit()==HQ then
return true
endif
if GetEnumUnit()==HR then
return true
endif
if GetEnumUnit()==HS then
return true
endif
if GetEnumUnit()==HT then
return true
endif
if GetEnumUnit()==HJ then
return true
endif
if GetEnumUnit()==HI then
return true
endif
if GetEnumUnit()==HF then
return true
endif
if GetEnumUnit()==HZ then
return true
endif
if GetEnumUnit()==Hb then
return true
endif
if GetEnumUnit()==Ha then
return true
endif
if GetEnumUnit()==Hd then
return true
endif
return false
endfunction
function os takes nothing returns boolean
if not oq() then
return false
endif
return true
endfunction
function ot takes nothing returns nothing
if os() then
else
call RemoveUnit(GetEnumUnit())
endif
endfunction
function ou takes nothing returns boolean
if not (JF<2) then
return false
endif
return true
endfunction
function ov takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$42303033 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$44546573 then
return true
endif
return false
endfunction
function ow takes nothing returns boolean
if not ov() then
return false
endif
return true
endfunction
function ox takes nothing returns nothing
if ow() then
call SetDestructableInvulnerableBJ(GetEnumDestructable(),true)
else
endif
endfunction
function oy takes nothing returns boolean
if not (GetPlayerName(GetEnumPlayer())=="Diazz0229") then
return false
endif
return true
endfunction
function oz takes nothing returns nothing
set Ou[GetConvertedPlayerId(GetEnumPlayer())]=GetPlayerName(GetEnumPlayer())
if oy() then
call ForceAddPlayerSimple(GetEnumPlayer(),Ot[8])
else
endif
endfunction
function o0 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function o1 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function o2 takes nothing returns boolean
if not (GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (GetPlayerController(GetEnumPlayer())==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function o3 takes nothing returns nothing
if o2() then
call SetPlayerAbilityAvailableBJ(false,$41305042,GetEnumPlayer())
set Is=Is+1
call ForceAddPlayerSimple(GetEnumPlayer(),Os)
call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER,100)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(11),bj_ALLIANCE_NEUTRAL)
call gM(GetEnumPlayer())
call UnitShareVisionBJ(true,He,GetEnumPlayer())
call UnitShareVisionBJ(true,Hf,GetEnumPlayer())
call UnitShareVisionBJ(true,Hg,GetEnumPlayer())
call UnitShareVisionBJ(true,Hh,GetEnumPlayer())
call UnitShareVisionBJ(true,Hi,GetEnumPlayer())
call CameraSetupApplyForPlayer(true,Gl,GetEnumPlayer(),1.)
call ConditionalTriggerExecute(R5)
else
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303838),function o0)
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303846),function o1)
endif
endfunction
function o4 takes nothing returns boolean
if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_EMPTY then
return true
endif
if GetPlayerController(GetEnumPlayer())!=MAP_CONTROL_USER then
return true
endif
if GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_LEFT then
return true
endif
return false
endfunction
function o5 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function o6 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function o7 takes nothing returns boolean
if not o4() then
return false
endif
return true
endfunction
function o8 takes nothing returns nothing
if o7() then
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303838),function o5)
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303846),function o6)
else
endif
endfunction
function o9 takes nothing returns nothing
local integer Pi=1
call SetUserControlForceOff(GetPlayersAll())
call InitHashtableBJ()
set Rg=GetLastCreatedHashtableBJ()
call StartMeleeAI(Player(11),"AI Demons.ai")
call UnitRemoveAbilityBJ($41303147,HH)
call UnitRemoveAbilityBJ($41303147,HG)
set P2=1
loop
exitwhen P2>12
if om() then
set JF=JF+1
else
endif
set P2=P2+1
endloop
call ForceCinematicSubtitlesBJ(true)
set I9[1]=0
call SetPlayerAllianceStateBJ(Player(10),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(11),Player(PLAYER_NEUTRAL_AGGRESSIVE),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(10),bj_ALLIANCE_ALLIED)
call SetPlayerAllianceStateBJ(Player(PLAYER_NEUTRAL_AGGRESSIVE),Player(11),bj_ALLIANCE_ALLIED)
call SetTimeOfDayScalePercentBJ(0.)
call SetTimeOfDay(0.)
call SetUnitInvulnerable(HH,true)
call SetUnitInvulnerable(HG,true)
call ShowUnitHide(Hk)
call ShowUnitHide(G6)
call ShowUnitHide(G7)
call ShowUnitHide(G8)
call ShowUnitHide(G9)
call ShowUnitHide(HC)
call ShowUnitHide(HB)
call SetUnitInvulnerable(HM,true)
call SetUnitInvulnerable(HN,true)
call SetUnitInvulnerable(HO,true)
call SetUnitInvulnerable(HP,true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set OL[GetForLoopIndexA()]=1
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set OL[GetForLoopIndexA()]=5
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetDoodadAnimationRectBJ("death",$594F6673,EW)
call SetDoodadAnimationRectBJ("death",$594F7466,EW)
call StartTimerBJ(L3,false,GetRandomReal(60.,360.))
call StartTimerBJ(L5,false,GetRandomReal(60.,360.))
call DisplayTextToForce(GetPlayersAll(),"                                               |c0000FF40Подождите... Генерируем пещеру.")
call SetUserControlForceOff(GetPlayersAll())
call TriggerSleepAction(.1)
call SetUnitAbilityLevelSwapped($41303430,Hj,200)
call SetTimeOfDay(0.)
call UseTimeOfDayBJ(false)
set R3[1]=Eb
set R3[2]=Ek
set R3[3]=El
set R3[4]=Em
set R3[5]=En
set R3[6]=Eo
set R3[7]=Ep
set R3[8]=Eq
set R3[9]=Er
set R3[10]=Es
set R3[11]=Et
set R3[12]=Ec
set R3[13]=Eu
set R3[14]=Ev
set R3[15]=Ew
set R3[16]=Ex
set R3[17]=Ey
set R3[18]=Ez
set R3[19]=E0
set R3[20]=E1
set R3[21]=E2
set R3[22]=E3
set R3[23]=Ed
set R3[24]=E4
set R3[25]=E5
set R3[26]=E6
set R3[27]=Fn
set R3[28]=E7
set R3[29]=E8
set R3[30]=E9
set R3[31]=FB
set R3[32]=FC
set R3[33]=FD
set R3[34]=Ee
set R3[35]=Fh
set R3[36]=FE
set R3[37]=FF
set R3[38]=FG
set R3[39]=FH
set R3[40]=FI
set R3[41]=FJ
set R3[42]=FK
set R3[43]=FL
set R3[44]=FM
set R3[45]=Ef
set R3[46]=FN
set R3[47]=FO
set R3[48]=FP
set R3[49]=FQ
set R3[50]=FR
set R3[51]=FS
set R3[52]=FT
set R3[53]=FU
set R3[54]=FV
set R3[55]=Eg
set R3[56]=FW
set R3[57]=FX
set R3[58]=FY
set R3[59]=FZ
set R3[60]=Fa
set R3[61]=Fb
set R3[62]=Eh
set R3[63]=Ei
set R3[64]=Ej
set R3[65]=Fc
call TriggerSleepAction(.1)
call ConditionalTriggerExecute(Rk)
call TriggerSleepAction(.1)
set LS=0
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function oo)
set NZ=LS
set LS=0
call EnumItemsInRectBJ(GetPlayableMapRect(),function op)
call TriggerSleepAction(.1)
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function ot)
call TriggerSleepAction(.1)
call DisplayTextToForce(GetPlayersAll(),"                                               |c0000FF40Закапываем тайники...")
call gS()
if ou() then
call RemoveUnit(HM)
else
endif
call ConditionalTriggerExecute(Px)
call TriggerSleepAction(.1)
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Мап-инфо","Goblin Survival: v.1.4

Если во время игры вы нашли баг, или у вас есть идеи как улучшить геймплей - приходите в нашу группу Discord и VK.","ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Соединение прервано","Эта проблема, когда сразу после старта выкидывает сразу 2-4 человека - называется десинком (десинхронизация). Для уменьшения риска этой ошибки советуем перед каждымзапуском карты перезагружать Warcraft.","ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Удача","Новая система \"Удачи\" увеличивает шансы игроков находить полезные вещи в тайниках и при дропе с врагов, влияет на шансы получения драгоценных камней с глыб, увеличивает шансы на дроп с босса конкретной вещи, и в целом упрощает игру.","BTNClover.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Улучшения","Новая система улучшения оружия и брони позволяет гоблинам улучшать свою атаку и защиту с помощью небольших чертежей. Эти чертежи утеряны в прошлом и могут быть найдены только у духов прошлого. Вызвать духов можно с помощью магических сфер.","ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Команды для хоста","TRIGSTR_000","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Команды для всех","TRIGSTR_001","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Goblin Workshop","Карта представлена вам Гильдией \"Goblin Workshop\". Мы надеемся, что карта вам понравится. Ждем ваших отзывов в группе Discord: https://discord.com/invite/DDMptdZ","ReplaceableTextures\\CommandButtons\\BTNBlacksmith.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Игроки","Список ещё не сформирован...","ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp")
set R4=GetLastCreatedQuestBJ()
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,"Записка из лагеря","В этой пещере, как гласит старая легенда, дворфы когда-то разрабатывали различные приспособления разрушительной мощи. Но все они мистическим образом погибли, забрав рецепты своих изобретений на тот свет. И вот, спустя столетия, вашей экспедиции удается найти ту самую пещеру, в которой дворфы встретили свой конец...","ReplaceableTextures\\CommandButtons\\BTNScroll.blp")
call ConditionalTriggerExecute(Ry)
call EnableTrigger(R5)
call TriggerSleepAction(.1)
call ConditionalTriggerExecute(R5)
call gP()
call TriggerSleepAction(.1)
set MW=1
set R6[1]=Fp
set R6[2]=Fq
set R6[3]=Fr
set R6[4]=Fs
set R6[5]=Ft
set R6[6]=Fu
set R6[7]=Fv
set R6[8]=Fw
set R6[9]=Fx
set R6[10]=Fy
set R6[11]=Fz
set R6[12]=F0
set R6[13]=F1
set R6[14]=F2
set R6[15]=F3
set R6[16]=F4
set R6[17]=F5
set R6[18]=F6
set R6[19]=F7
set R6[20]=F8
set R7[1]=Db
set R7[2]=Dc
set R7[3]=Dd
set R7[4]=De
set R7[5]=Df
set R7[6]=Dg
set R7[7]=Dh
set R7[8]=Di
set R7[9]=Dj
set R7[10]=Dk
set R7[11]=Dl
set R7[12]=Dm
set R7[13]=Dn
set R7[14]=Do
set R7[15]=Dp
set R7[16]=Dq
set R7[17]=Dr
set R7[18]=Ds
set R7[19]=Dt
set R7[20]=Du
set R7[21]=Dv
set R7[22]=Dw
set R7[23]=Dx
set R7[24]=Dy
set R7[25]=Dz
set R7[26]=D0
set R7[27]=D1
set R7[28]=D2
set R7[29]=D3
set R7[30]=D4
set R7[31]=D5
set R7[32]=D6
set R7[33]=D7
set R7[34]=D8
set R7[35]=D9
set R7[36]=EB
set R7[37]=EC
set R7[38]=ED
set R7[39]=EE
set R7[40]=EF
call TriggerSleepAction(.1)
call DisplayTextToForce(GetPlayersAll(),"                                               |c0000FF40Полируем скелетов...")
call gQ()
call TriggerSleepAction(.1)
call ec()
call TriggerSleepAction(.1)
call ed()
call TriggerSleepAction(.1)
call ConditionalTriggerExecute(SH)
call TriggerSleepAction(.1)
call ConditionalTriggerExecute(Rq)
call TriggerSleepAction(.1)
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,true)
call TriggerSleepAction(.1)
call DisplayTextToForce(GetPlayersAll(),"                                               |c0000FF40Поджигаем фитили...")
call gR()
call EnumDestructablesInRectAll(GQ,function ox)
call SetDestructableInvulnerableBJ(Gn,true)
call SetDestructableInvulnerableBJ(Gq,true)
call SetDestructableInvulnerableBJ(Gr,true)
call EnableTrigger(SI)
call TriggerSleepAction(.1)
call CreateFogModifierRectBJ(true,Player(10),FOG_OF_WAR_VISIBLE,GetPlayableMapRect())
call FogModifierStart(GetLastCreatedFogModifier())
call CreateFogModifierRectBJ(true,Player(11),FOG_OF_WAR_VISIBLE,GetPlayableMapRect())
call FogModifierStart(GetLastCreatedFogModifier())
call TriggerSleepAction(.1)
set Pi=1
loop
exitwhen Pi>40
set Rv=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303146,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
call RemoveLocation(Rv)
set Pi=Pi+1
endloop
set Pi=1
loop
exitwhen Pi>40
set Rv=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303038,Player(PLAYER_NEUTRAL_PASSIVE),Rv,GetRandomReal(0,360.))
call RemoveLocation(Rv)
set Pi=Pi+1
endloop
call SetCreepCampFilterState(false)
call EnableMinimapFilterButtons(true,false)
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6530304A,Player(10),QE,bj_UNIT_FACING)
set QF[11]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$6530304A,Player(11),QE,bj_UNIT_FACING)
set QF[12]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$6530304A,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
set QF[GetConvertedPlayerId(Player(PLAYER_NEUTRAL_AGGRESSIVE))]=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$6530304A,Player(PLAYER_NEUTRAL_PASSIVE),QE,bj_UNIT_FACING)
set QF[GetConvertedPlayerId(Player(PLAYER_NEUTRAL_PASSIVE))]=GetLastCreatedUnit()
call RemoveLocation(QE)
call SetCreepCampFilterState(false)
call EnableMinimapFilterButtons(true,false)
call TriggerSleepAction(.1)
call SetUnitOwner(HX,Player(11),false)
call SetUnitOwner(HW,Player(11),false)
call ConditionalTriggerExecute(QY)
call ClearTextMessagesBJ(GetPlayersAll())
call DisplayTextToForce(GetPlayersAll(),"|c0000FF40Игровые данные установлены. Теперь вы можете загрузить героя, или выбрать нового.|r")
call SetUserControlForceOn(GetPlayersAll())
call StartTimerBJ(Ox,false,120.)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),"До старта")
set SJ=GetLastCreatedTimerDialogBJ()
set QE=GetRandomLocInRect(GM)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
set QE=GetRandomLocInRect(GK)
call CreateItemLoc($49303949,QE)
call RemoveLocation(QE)
call ForForce(GetPlayersAll(),function oz)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function o3)
call ForForce(GetPlayersAll(),function o8)
endfunction
function pB takes nothing returns nothing
set R2=CreateTrigger()
call TriggerRegisterTimerEventSingle(R2,.2)
call TriggerAddAction(R2,function o9)
endfunction
function pC takes nothing returns boolean
if not (Is==1) then
return false
endif
return true
endfunction
function pD takes nothing returns nothing
if pC() then
call DisableTrigger(QV)
call DisableTrigger(QW)
else
endif
endfunction
function pE takes nothing returns nothing
set R5=CreateTrigger()
call TriggerAddAction(R5,function pD)
endfunction
function pF takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function pG takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303034) then
return false
endif
return true
endfunction
function pH takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303033) then
return false
endif
return true
endfunction
function pI takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303035) then
return false
endif
return true
endfunction
function pJ takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303036) then
return false
endif
return true
endfunction
function pK takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303031) then
return false
endif
return true
endfunction
function pL takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303032) then
return false
endif
return true
endfunction
function pM takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303030) then
return false
endif
return true
endfunction
function pN takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$4E303030) then
return false
endif
return true
endfunction
function pO takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=20) then
return false
endif
return true
endfunction
function pP takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=40) then
return false
endif
return true
endfunction
function pQ takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=60) then
return false
endif
return true
endfunction
function pR takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=80) then
return false
endif
return true
endfunction
function pS takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=100) then
return false
endif
return true
endfunction
function pT takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==120) then
return false
endif
return true
endfunction
function pU takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==140) then
return false
endif
return true
endfunction
function pV takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==160) then
return false
endif
return true
endfunction
function pW takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==180) then
return false
endif
return true
endfunction
function pX takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==200) then
return false
endif
return true
endfunction
function pY takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function pZ takes nothing returns boolean
if GetUnitTypeId(GetEnumUnit())==$68303838 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303846 then
return true
endif
return false
endfunction
function pa takes nothing returns boolean
if not pZ() then
return false
endif
if not (GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(GetEnumUnit())) then
return false
endif
return true
endfunction
function pb takes nothing returns boolean
if not pa() then
return false
endif
return true
endfunction
function pc takes nothing returns nothing
if pb() then
set QH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetUnitLoc(GetEnumUnit())
call RemoveUnit(GetEnumUnit())
call SetUserControlForceOn(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())))
else
endif
endfunction
function pd takes nothing returns boolean
if not (J1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>1) then
return false
endif
return true
endfunction
function pe takes nothing returns nothing
set J1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=J1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
if pd() then
call RemoveUnit(GetTriggerUnit())
else
if pN() then
call AddSpecialEffectTargetUnitBJ("origin",HF,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pM() then
call AddSpecialEffectTargetUnitBJ("origin",HT,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pL() then
call AddSpecialEffectTargetUnitBJ("origin",HI,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pK() then
call AddSpecialEffectTargetUnitBJ("origin",HR,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pJ() then
call AddSpecialEffectTargetUnitBJ("origin",HJ,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pI() then
call AddSpecialEffectTargetUnitBJ("origin",HK,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
if pH() then
call AddSpecialEffectTargetUnitBJ("origin",HS,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call TriggerRegisterUnitEvent(SK,GetTriggerUnit(),EVENT_UNIT_ATTACKED)
else
if pG() then
call AddSpecialEffectTargetUnitBJ("origin",HQ,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
else
endif
endif
endif
endif
endif
endif
endif
endif
call DestroyEffect(GetLastCreatedEffectBJ())
call SetPlayerAllianceBJ(GetOwningPlayer(GetTriggerUnit()),ALLIANCE_SHARED_VISION,true,Player(11))
call ForceAddPlayerSimple(GetOwningPlayer(GetTriggerUnit()),NC)
if pX() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=30
else
if pW() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=25
else
if pV() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=22
else
if pU() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=20
else
if pT() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=18
else
if pS() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=16
else
if pR() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=14
else
if pQ() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=12
else
if pP() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=9
else
if pO() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=6
else
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=3
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SetUserControlForceOn(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())))
call EnumItemsInRectBJ(GF,function pY)
call SetUserControlForceOff(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())))
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("|c00FF8000 готов к бою. Теперь он - |r"+("|c0000FF00"+(GetUnitName(GetTriggerUnit())+" |r"))))
set JQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=I2S(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))+(":  "+(GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+"  -  ")+GetUnitName(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetItemUserData(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetItemDroppable(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()),false)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set QE=GetRandomLocInRect(GF)
call SetUnitPositionLoc(GetTriggerUnit(),QE)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),QE,1.)
call SelectUnitForPlayerSingle(GetTriggerUnit(),GetOwningPlayer(GetTriggerUnit()))
call RemoveLocation(QE)
set It=It+1
call GroupAddUnitSimple(GetTriggerUnit(),Ir)
set Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
set Qz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6530304A,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
set QF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastCreatedUnit()
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Gb),function pc)
call ConditionalTriggerExecute(SM)
endif
endfunction
function pf takes nothing returns nothing
set SI=CreateTrigger()
call DisableTrigger(SI)
call TriggerRegisterEnterRectSimple(SI,GetEntireMapRect())
call TriggerAddCondition(SI,Condition(function pF))
call TriggerAddAction(SI,function pe)
endfunction
function pg takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (O3<=1) then
return false
endif
if not (MV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==0) then
return false
endif
return true
endfunction
function ph takes nothing returns boolean
if not (MO[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=70) then
return false
endif
return true
endfunction
function pi takes nothing returns nothing
call SetMapFlag(MAP_LOCK_RESOURCE_TRADING,false)
set MO[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=S2I(MI[20+(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))-1)*100])
if ph() then
set NW=true
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Вы чувствуете как смещаются временные параллели... Ваши игры со временем не прошли незамеченными.|r")
else
endif
call SetUnitPositionLoc(QG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetUnitLoc(GetTriggerUnit()))
call SetPlayerTechResearchedSwap($52303038,L6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
call SetPlayerTechResearchedSwap($52303039,L7[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
call SetUnitInvulnerable(QG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)
set MV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1
endfunction
function pj takes nothing returns nothing
set SN=CreateTrigger()
call TriggerRegisterEnterRectSimple(SN,EQ)
call TriggerAddCondition(SN,Condition(function pg))
call TriggerAddAction(SN,function pi)
endfunction
function pk takes nothing returns boolean
if not (JW==1) then
return false
endif
return true
endfunction
function pl takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$68303838) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetEnumUnit()))==MAP_CONTROL_USER) then
return false
endif
if not (GetPlayerSlotState(GetOwningPlayer(GetEnumUnit()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
return true
endfunction
function pm takes nothing returns nothing
if pl() then
call RemoveUnit(GetEnumUnit())
set JW=GetRandomInt(1,2)
if pk() then
call CreateNUnitsAtLoc(1,$4E303030,GetOwningPlayer(GetEnumUnit()),GetRectCenter(GF),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,$48303032,GetOwningPlayer(GetEnumUnit()),GetRectCenter(GF),bj_UNIT_FACING)
endif
else
endif
endfunction
function pn takes nothing returns nothing
call DestroyTimerDialog(SJ)
call DisableTrigger(QW)
call DisableTrigger(Qc)
call DisableTrigger(GetTriggeringTrigger())
set PS=true
call ForGroupBJ(GetUnitsInRectAll(Gb),function pm)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Экспедиция укомплектована! Всем гоблинам приготовиться к старту!|r")
call PlaySoundBJ(B8)
call TriggerSleepAction(1.1)
call PlaySoundBJ(B8)
call TriggerSleepAction(1.1)
call PlaySoundBJ(B8)
call TriggerSleepAction(1.1)
call PlaySoundBJ(B8)
call TriggerSleepAction(1.1)
call ConditionalTriggerExecute(SP)
endfunction
function po takes nothing returns nothing
set SO=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SO,Ox)
call TriggerAddAction(SO,function pn)
endfunction
function pp takes nothing returns nothing
call CameraSetupApplyForPlayer(true,Gf,GetEnumPlayer(),0.)
endfunction
function pq takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),QE)
call IssueImmediateOrder(GetEnumUnit(),"stop")
set QI=GetRandomLocInRect(EQ)
call IssuePointOrderLoc(GetEnumUnit(),"move",QI)
call RemoveLocation(QI)
endfunction
function pr takes nothing returns nothing
call TryInitCinematicBehaviorBJ()
call DisableTrigger(bj_cineSceneBeingSkipped)
call SetUserControlForceOff(GetPlayersAll())
call ShowInterfaceForceOff(GetPlayersAll(),2)
call CinematicModeBJ(true,GetPlayersAll())
call ClearTextMessagesBJ(GetPlayersAll())
call SetUnitOwner(HH,Player(0),true)
call SetUnitOwner(HG,Player(0),true)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,2,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
call TriggerSleepAction(2.)
call ForForce(GetPlayersAll(),function pp)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,6.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
call TriggerSleepAction(3.)
call ClearTextMessagesBJ(GetPlayersAll())
call DisplayTimedTextToForce(GetPlayersAll(),4.,"Diazz0229 представляет...")
call TriggerSleepAction(2.)
call AddSpecialEffectLocBJ(GetRectCenter(EN),"Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl")
call RemoveUnit(Hc)
call ModifyGateBJ(bj_GATEOPERATION_DESTROY,Gr)
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("left hand",HG,"Abilities\\Weapons\\CannonTowerMissile\\CannonTowerMissile.mdl")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),HH,"Пупз",null,"Отлично бахнуло! Босс, что ещё можно взорвать?",bj_TIMETYPE_SET,4.,true)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,GetPlayerName(GetOwningPlayer(SR)),null,"Побереги динамит! Не отставать, посмотрим, что на другой стороне моста!",bj_TIMETYPE_SET,4.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),HG,"Лупз",null,"Но я уже зажег фитиль...",bj_TIMETYPE_SET,4.,true)
set QI=GetRandomLocInRect(EQ)
call IssuePointOrderLoc(HG,"move",QI)
call IssuePointOrderLoc(HH,"move",QI)
call RemoveLocation(QI)
set QE=GetRandomLocInRect(EP)
call ForGroupBJ(Ir,function pq)
call RemoveLocation(QE)
call EnableTrigger(ST)
endfunction
function ps takes nothing returns nothing
set SQ=CreateTrigger()
call TriggerAddAction(SQ,function pr)
endfunction
function pt takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303046) then
return false
endif
return true
endfunction
function pu takes nothing returns nothing
call CameraSetupApplyForPlayer(true,Gk,GetEnumPlayer(),2.5)
endfunction
function pv takes nothing returns nothing
call SetUnitFacingToFaceLocTimed(GetEnumUnit(),QE,.5)
endfunction
function pw takes nothing returns nothing
call ResetToGameCameraForPlayer(GetEnumPlayer(),0)
call CameraSetupApplyForPlayer(true,Gg,GetEnumPlayer(),0.)
endfunction
function px takes nothing returns nothing
endfunction
function py takes nothing returns nothing
call ForForce(GetPlayersAll(),function pu)
call IssueImmediateOrder(HG,"stop")
call IssueImmediateOrder(HH,"stop")
call SetUnitFacingToFaceUnitTimed(HG,HH,1.5)
call SetUnitFacingToFaceUnitTimed(HH,HG,1.5)
call TriggerSleepAction(3.)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,GetPlayerName(GetOwningPlayer(SR)),null,"Ого! Не хочу знать что вылупится из этих яиц... Предлагаю просто подорвать их динамитом!",bj_TIMETYPE_SET,4.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),HH,"Лупз",null,"Босс насчет этого... Фитиль уже почти догорел!",bj_TIMETYPE_SET,4.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),HG,"Пупз",null,"ВЗРЫВАЙ! ВЗРЫВААААААЙ!",bj_TIMETYPE_SET,4.,true)
set QE=GetUnitLoc(HG)
call AddSpecialEffectLocBJ(QE,"Abilities\\Weapons\\Mortar\\MortarMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call ExplodeUnitBJ(HG)
call ExplodeUnitBJ(HH)
set QE=GetRectCenter(EO)
call ForGroupBJ(Ir,function pv)
call RemoveLocation(QE)
call SetDestructableLife(Gy,0.)
call TriggerSleepAction(2.)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,GetPlayerName(GetOwningPlayer(SR)),null,"Да чтоб вас! Подорвали мост и все наши припасы! Самые бестолковые помощники из всех!",bj_TIMETYPE_SET,4.,true)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,GetPlayerName(GetOwningPlayer(SR)),null,"Тссс, слышите? Кажется, из-за взрыва яйца начали вылупляться!",bj_TIMETYPE_SET,4.,true)
call CinematicModeBJ(false,GetPlayersAll())
call SetUserControlForceOn(GetPlayersAll())
call ShowInterfaceForceOn(GetPlayersAll(),1.)
call DisplayCineFilterBJ(false)
call CameraResetSmoothingFactorBJ()
call ForForce(GetPlayersAll(),function pw)
call ForForce(GetPlayersAll(),function px)
call ConditionalTriggerExecute(SU)
endfunction
function pz takes nothing returns nothing
set ST=CreateTrigger()
call DisableTrigger(ST)
call TriggerRegisterEnterRectSimple(ST,ER)
call TriggerAddCondition(ST,Condition(function pt))
call TriggerAddAction(ST,function py)
endfunction
function p0 takes nothing returns boolean
if not (GetPlayerHandicapBJ(GetEnumPlayer())!=100.) then
return false
endif
return true
endfunction
function p1 takes nothing returns nothing
if p0() then
call SetPlayerHandicapBJ(GetEnumPlayer(),100)
else
endif
endfunction
function p2 takes nothing returns boolean
if not (GetUnitLevel(GetEnumUnit())>10) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function p3 takes nothing returns nothing
if p2() then
set Iu=Iu+GetHeroLevel(GetEnumUnit())
set Jh=Jh+1
else
endif
endfunction
function p4 takes nothing returns boolean
if Jh==0 then
return true
endif
if Iu==0 then
return true
endif
return false
endfunction
function p5 takes nothing returns boolean
if not (Iu<PZ) then
return false
endif
return true
endfunction
function p6 takes nothing returns boolean
if not (Iu>200) then
return false
endif
return true
endfunction
function p7 takes nothing returns boolean
if not p4() then
return false
endif
return true
endfunction
function p8 takes nothing returns nothing
call SetPlayerTechResearchedSwap($52686D65,Iu/10,GetEnumPlayer())
call SetPlayerTechResearchedSwap($52303031,Iu/10,GetEnumPlayer())
endfunction
function p9 takes nothing returns boolean
if not (Iu>GetPlayerTechCountSimple($52303031,Player(11))) then
return false
endif
if not (Iu>1) then
return false
endif
return true
endfunction
function qB takes nothing returns nothing
set Jh=0
set PZ=Iu
set Iu=0
call ForForce(GetPlayersAll(),function p1)
call ForGroupBJ(Ir,function p3)
if p7() then
set Iu=1
else
set Iu=Iu/Jh-0
if p6() then
set Iu=200
else
if p5() then
set Iu=PZ
else
endif
endif
endif
if p9() then
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Уровень сложности установлен на |r"+I2S(Iu))
call ForForce(GetPlayersAll(),function p8)
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(10))
call SetPlayerTechResearchedSwap($52303032,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(11))
call SetPlayerTechResearchedSwap($52303030,Iu/10,Player(10))
else
endif
endfunction
function qC takes nothing returns nothing
set QN=CreateTrigger()
call TriggerAddAction(QN,function qB)
endfunction
function qD takes nothing returns boolean
return GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING
endfunction
function qE takes nothing returns boolean
return GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER
endfunction
function qF takes nothing returns boolean
return GetBooleanAnd(qD(),qE())
endfunction
function qG takes nothing returns boolean
if not (It==CountPlayersInForceBJ(GetPlayersMatching(Condition(function qF)))) then
return false
endif
if not (Jv==false) then
return false
endif
return true
endfunction
function qH takes nothing returns nothing
if qG() then
call PauseTimerBJ(true,Ox)
call StartTimerBJ(Ox,false,10.)
else
endif
endfunction
function qI takes nothing returns nothing
set SM=CreateTrigger()
call TriggerAddAction(SM,function qH)
endfunction
function qJ takes nothing returns boolean
if not (GetOwningPlayer(GetEnumUnit())==Player(PLAYER_NEUTRAL_PASSIVE)) then
return false
endif
return true
endfunction
function qK takes nothing returns nothing
if qJ() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function qL takes nothing returns boolean
if not (GetPlayerController(GetEnumPlayer())==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function qM takes nothing returns nothing
if qL() then
set SV=GetEnumPlayer()
call SetPlayerAllianceStateBJ(RB,SV,bj_ALLIANCE_ALLIED)
else
endif
endfunction
function qN takes nothing returns nothing
set RB=GetEnumPlayer()
call ForForce(GetPlayersAll(),function qM)
endfunction
function qO takes nothing returns boolean
if not (Iw==true) then
return false
endif
return true
endfunction
function qP takes nothing returns nothing
call UnitShareVisionBJ(true,Pd[GetConvertedPlayerId(GetEnumPlayer())],GetOwningPlayer(GetEnumUnit()))
endfunction
function qQ takes nothing returns boolean
if not (UnitInventoryCount(GetEnumUnit())<=5) then
return false
endif
return true
endfunction
function qR takes nothing returns boolean
if not (UnitInventoryCount(GetEnumUnit())<=5) then
return false
endif
return true
endfunction
function qS takes nothing returns boolean
if not (GetUnitLevel(GetEnumUnit())==1) then
return false
endif
return true
endfunction
function qT takes nothing returns boolean
if not (GetItemTypeId(UnitItemInSlotBJ(GetEnumUnit(),LS))!=$49303436) then
return false
endif
return true
endfunction
function qU takes nothing returns nothing
if qO() then
set QE=GetRandomLocInRect(EQ)
call SetUnitPositionLocFacingBJ(GetEnumUnit(),QE,GetRandomDirectionDeg())
call RemoveLocation(QE)
set Pd[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetEnumUnit()
else
endif
call SetUnitLifePercentBJ(GetEnumUnit(),100)
call SetUnitManaPercentBJ(GetEnumUnit(),100)
call IssueImmediateOrder(GetEnumUnit(),"stop")
call SetUnitInvulnerable(GetEnumUnit(),false)
set O5[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=true
if qS() then
if qQ() then
call UnitAddItemByIdSwapped($49303436,GetEnumUnit())
call SetItemUserData(GetLastCreatedItem(),GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit())))
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function qP)
call SetItemDroppable(GetLastCreatedItem(),false)
else
endif
if qR() then
call UnitAddItemByIdSwapped($49303659,GetEnumUnit())
else
endif
else
endif
set LS=1
loop
exitwhen LS>6
if qT() then
call SetItemDroppable(UnitItemInSlotBJ(GetEnumUnit(),LS),true)
call SetItemDroppable(UnitItemInSlotBJ(QG[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],LS),true)
else
endif
set LS=LS+1
endloop
endfunction
function qV takes nothing returns boolean
return GetPlayerSlotState(GetFilterPlayer())==PLAYER_SLOT_STATE_PLAYING
endfunction
function qW takes nothing returns boolean
return GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER
endfunction
function qX takes nothing returns boolean
return GetBooleanAnd(qV(),qW())
endfunction
function qY takes nothing returns boolean
if GetRandomInt(1,50)<=MD[GetConvertedPlayerId(GetEnumPlayer())]+1 then
return true
endif
return false
endfunction
function qZ takes nothing returns boolean
if not qY() then
return false
endif
return true
endfunction
function qa takes nothing returns boolean
if not (KE[GetConvertedPlayerId(GetEnumPlayer())]>0) then
return false
endif
return true
endfunction
function qb takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(11),bj_ALLIANCE_UNALLIED)
call SetPlayerAllianceStateBJ(GetEnumPlayer(),Player(10),bj_ALLIANCE_UNALLIED)
set Jh=Jh+1
call CameraSetupApplyForPlayer(true,Gg,GetEnumPlayer(),1.)
call CreateQuestItemBJ(R4,JQ[GetConvertedPlayerId(GetEnumPlayer())])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if qZ() then
call ForceAddPlayerSimple(GetEnumPlayer(),OM[GetForLoopIndexA()])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerHandicapXPBJ(GetEnumPlayer(),20.)
if qa() then
call DisplayTextToForce(GetForceOfPlayer(GetEnumPlayer()),PL[6]+I2S(KE[GetConvertedPlayerId(GetEnumPlayer())]))
else
endif
endfunction
function qc takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER)<=10) then
return false
endif
return true
endfunction
function qd takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())>=10) then
return false
endif
return true
endfunction
function qe takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())>=20) then
return false
endif
return true
endfunction
function qf takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())>=30) then
return false
endif
return true
endfunction
function qg takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())>=40) then
return false
endif
return true
endfunction
function qh takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())>=50) then
return false
endif
return true
endfunction
function qi takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$4E303030) then
return false
endif
return true
endfunction
function qj takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function qk takes nothing returns nothing
if qj() then
if qc() then
call SetPlayerStateBJ(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_LUMBER,100)
else
endif
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6830384C,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
if qi() then
if qh() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6830384B,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830384A,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
if qg() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6830384A,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
if qf() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
if qe() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
if qd() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetEnumUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
endif
endif
endif
endif
endif
call GroupClear(KW)
else
endif
else
endif
endfunction
function ql takes nothing returns boolean
if not (Iw==true) then
return false
endif
return true
endfunction
function qm takes nothing returns boolean
if not (Is==1) then
return false
endif
return true
endfunction
function qn takes nothing returns nothing
endfunction
function qo takes nothing returns nothing
endfunction
function qp takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetEnumPlayer())]==true) then
return false
endif
return true
endfunction
function qq takes nothing returns boolean
if not (GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
if not (GetPlayerSlotState(GetEnumPlayer())!=PLAYER_SLOT_STATE_LEFT) then
return false
endif
return true
endfunction
function qr takes nothing returns nothing
if qq() then
set OO=GetConvertedPlayerId(GetEnumPlayer())
call fi()
call RemoveLocation(QH[GetConvertedPlayerId(GetEnumPlayer())])
else
call KillUnit(Pd[GetConvertedPlayerId(GetEnumPlayer())])
endif
endfunction
function qs takes nothing returns nothing
call SetDestructableLife(Gy,0.)
call RemoveDestructable(G3)
call RemoveDestructable(Gz)
call RemoveDestructable(G0)
call RemoveDestructable(G1)
call RemoveDestructable(G2)
call DisableTrigger(SQ)
call DisableTrigger(ST)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Gb),function qK)
call RemoveUnit(HG)
call RemoveUnit(HH)
call ForForce(GetPlayersAll(),function qN)
call ForGroupBJ(Ir,function qU)
call ConditionalTriggerExecute(Pa)
call ConditionalTriggerExecute(Pc)
call fe()
set Jh=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call PauseTimerBJ(true,O0[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForForce(GetPlayersMatching(Condition(function qX)),function qb)
call RemoveUnit(HX)
call RemoveUnit(HW)
call RemoveUnit(HU)
call RemoveUnit(HV)
call RemoveUnit(Hi)
call RemoveUnit(Hh)
call RemoveUnit(Hf)
call RemoveUnit(He)
call RemoveUnit(Hg)
call ForGroupBJ(Ir,function qk)
call DisableTrigger(QW)
call EnableTrigger(QV)
call EnableTrigger(R1)
call EnableTrigger(Py)
call EnableTrigger(R0)
call EnableTrigger(SW)
call EnableTrigger(SX)
call DisableTrigger(SY)
call DisableTrigger(SZ)
call DisableTrigger(Sa)
call DisableTrigger(Sb)
call DisableTrigger(Sc)
call ConditionalTriggerExecute(QN)
call PauseTimerBJ(true,Ow[1])
call PauseTimerBJ(true,Ow[2])
call gU()
if ql() then
else
call ConditionalTriggerExecute(Se)
endif
if qm() then
call DisableTrigger(QV)
else
endif
call StartTimerBJ(O4,false,140.)
call StartTimerBJ(KD,true,15.)
call StartTimerBJ(Nv,false,1.)
set O3=1
call StartTimerBJ(MS,false,GetRandomReal(360.,720.))
call ForForce(GetPlayersAll(),function qn)
call TriggerSleepAction(.2)
call ForForce(GetPlayersAll(),function qo)
call TriggerSleepAction(4.)
if qp() then
call StartTimerBJ(PT[GetConvertedPlayerId(GetEnumPlayer())],false,OQ)
else
endif
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function qr)
endfunction
function qt takes nothing returns nothing
set SU=CreateTrigger()
call TriggerAddAction(SU,function qs)
endfunction
function qu takes nothing returns boolean
if not (GetHeroXP(Pd[GetForLoopIndexA()])==GetHeroXP(Pd[GetForLoopIndexB()])) then
return false
endif
if not (GetUnitTypeId(Pd[GetForLoopIndexA()])==GetUnitTypeId(Pd[GetForLoopIndexB()])) then
return false
endif
if not (GetHeroLevel(Pd[GetForLoopIndexA()])>5) then
return false
endif
if not (GetHeroLevel(Pd[GetForLoopIndexA()])<200) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],1))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],1))) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],2))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],2))) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],3))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],3))) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],4))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],4))) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],5))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],5))) then
return false
endif
if not (GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexA()],6))==GetItemTypeId(UnitItemInSlotBJ(Pd[GetForLoopIndexB()],6))) then
return false
endif
return true
endfunction
function qv takes nothing returns boolean
if not (GetForLoopIndexA()==GetForLoopIndexB()) then
return false
endif
return true
endfunction
function qw takes nothing returns nothing
call KillUnit(GetEnumUnit())
call RemoveUnit(GetEnumUnit())
endfunction
function qx takes nothing returns boolean
if not (GetHeroLevel(GetEnumUnit())<5) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function qy takes nothing returns nothing
if qx() then
set Iw=false
else
endif
endfunction
function qz takes nothing returns boolean
if not (Iw==true) then
return false
endif
return true
endfunction
function q0 takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=10
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if qv() then
else
if qu() then
call RemoveUnit(Pd[GetForLoopIndexB()])
else
endif
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call QuestSetDescription(R4," ")
call ForGroupBJ(Ov,function qw)
set Iw=true
call ForGroupBJ(Ir,function qy)
call RemoveUnit(HY)
call RemoveDestructable(G3)
call RemoveDestructable(Gz)
call RemoveDestructable(G0)
call RemoveDestructable(G1)
call RemoveDestructable(G2)
if qz() then
call gT()
call ConditionalTriggerExecute(SU)
else
call ConditionalTriggerExecute(SQ)
call EnableTrigger(Se)
call EnableTrigger(Sf)
endif
endfunction
function q1 takes nothing returns nothing
set SP=CreateTrigger()
call TriggerAddAction(SP,function q0)
endfunction
function q2 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function q3 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function q4 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function q5 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function q6 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function q7 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function q8 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function q9 takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function rB takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function rC takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function rD takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$44546573
endfunction
function rE takes nothing returns boolean
return GetDestructableTypeId(GetFilterDestructable())==$42303033
endfunction
function rF takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$44546573 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$42303033 then
return true
endif
return false
endfunction
function rG takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
if not rF() then
return false
endif
return true
endfunction
function rH takes nothing returns nothing
if rG() then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function rI takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$44546573 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$42303033 then
return true
endif
return false
endfunction
function rJ takes nothing returns boolean
if not rI() then
return false
endif
return true
endfunction
function rK takes nothing returns nothing
if rJ() then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function rL takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$44546573 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$42303033 then
return true
endif
return false
endfunction
function rM takes nothing returns boolean
if not rL() then
return false
endif
return true
endfunction
function rN takes nothing returns nothing
if rM() then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function rO takes nothing returns boolean
if GetDestructableTypeId(GetEnumDestructable())==$44546573 then
return true
endif
if GetDestructableTypeId(GetEnumDestructable())==$42303033 then
return true
endif
return false
endfunction
function rP takes nothing returns boolean
if not rO() then
return false
endif
return true
endfunction
function rQ takes nothing returns nothing
if rP() then
call KillDestructable(GetEnumDestructable())
else
endif
endfunction
function rR takes nothing returns nothing
set QE=GetRectCenter(GE)
call CreateNUnitsAtLoc(1,$68303843,Player(0),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
set QE=GetRectCenter(GQ)
call CreateNUnitsAtLoc(1,$68303843,Player(0),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
set QE=GetRectCenter(GD)
call CreateNUnitsAtLoc(1,$68303843,Player(0),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call TriggerSleepAction(4.)
call KillDestructable(Go)
call TriggerSleepAction(2.)
call KillDestructable(Gm)
call KillDestructable(Gp)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q2)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q3)))
call TriggerSleepAction(2.)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q4)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q5)))
call TriggerSleepAction(2.)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q6)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q7)))
call TriggerSleepAction(2.)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q8)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function q9)))
call TriggerSleepAction(2.)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function rB)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function rC)))
call TriggerSleepAction(2.)
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function rD)))
call KillDestructable(RandomDestructableInRectBJ(GQ,Condition(function rE)))
call TriggerSleepAction(5.)
call EnumDestructablesInRectAll(GQ,function rH)
call TriggerSleepAction(15.)
call EnumDestructablesInRectAll(GQ,function rK)
call EnumDestructablesInRectAll(GE,function rN)
call KillDestructable(Gn)
call TriggerSleepAction(15.)
call EnumDestructablesInRectAll(GD,function rQ)
call KillDestructable(Gq)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function rS takes nothing returns nothing
set Se=CreateTrigger()
call DisableTrigger(Se)
call TriggerAddAction(Se,function rR)
endfunction
function rT takes nothing returns boolean
if GetDestructableTypeId(GetDyingDestructable())==$42303033 then
return true
endif
if GetDestructableTypeId(GetDyingDestructable())==$44546573 then
return true
endif
return false
endfunction
function rU takes nothing returns boolean
if not rT() then
return false
endif
return true
endfunction
function rV takes nothing returns nothing
set QE=GetDestructableLoc(GetDyingDestructable())
call CreateNUnitsAtLoc(1,$6E303044,Player(11),QE,GetRandomDirectionDeg())
call RemoveLocation(QE)
endfunction
function rW takes nothing returns nothing
set Sf=CreateTrigger()
call DisableTrigger(Sf)
call TriggerRegisterDestDeathInRegionEvent(Sf,GQ)
call TriggerRegisterDestDeathInRegionEvent(Sf,GD)
call TriggerRegisterDestDeathInRegionEvent(Sf,GE)
call TriggerAddCondition(Sf,Condition(function rU))
call TriggerAddAction(Sf,function rV)
endfunction
function rX takes nothing returns boolean
if not (GetTriggerUnit()==HZ) then
return false
endif
return true
endfunction
function rY takes nothing returns boolean
if not (GetTriggerUnit()==Hb) then
return false
endif
return true
endfunction
function rZ takes nothing returns boolean
if not (GetTriggerUnit()==Ha) then
return false
endif
return true
endfunction
function ra takes nothing returns boolean
if not (GetTriggerUnit()==Hd) then
return false
endif
return true
endfunction
function rb takes nothing returns boolean
if not (GetTriggerUnit()==G5) then
return false
endif
return true
endfunction
function rc takes nothing returns nothing
if rX() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Чтобы не терять силы - вам нужно обеспечивать себя едой. Самый простой способ - сбор грибов.|r")
else
endif
if rY() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Один из способов добывать еду - рыбалка. Используйте удочку возле любого водоёма.|r")
else
endif
if rZ() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Только Инженер может добывать руду из глыб. Не атакуйте глыбы другими классами - вы просто потеряете руду.|r")
else
endif
if ra() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Только Инженер может построить магазины и кузницы, в которых гоблины могут покупать и объединять предметы.|r")
else
endif
if rb() then
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
call QuestMessageBJ(GetForceOfPlayer(GetTriggerPlayer()),bj_QUESTMESSAGE_UPDATED,"|c00FFFFFFВы можете сохранять и загружать свой прогресс командами -save и -load. Сохраниться можно только когда ваш гоблин погибнет.|r")
else
endif
endfunction
function rd takes nothing returns nothing
set SZ=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(SZ,Player(9),true)
call TriggerAddAction(SZ,function rc)
endfunction
function re takes nothing returns boolean
if not (RectContainsUnit(GJ,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function rf takes nothing returns boolean
if not (GetItemTypeId(GetOrderTargetItem())==$49303949) then
return false
endif
return true
endfunction
function rg takes nothing returns boolean
if not (GetItemTypeId(GetOrderTargetItem())==$49303158) then
return false
endif
return true
endfunction
function rh takes nothing returns nothing
if rg() then
call StartTimerBJ(Ow[1],false,7.)
else
if rf() then
call StartTimerBJ(Ow[2],false,7.)
else
endif
endif
endfunction
function ri takes nothing returns nothing
set Sb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Sb,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(Sb,Condition(function re))
call TriggerAddAction(Sb,function rh)
endfunction
function rj takes nothing returns nothing
set QE=GetRandomLocInRect(GM)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
endfunction
function rk takes nothing returns nothing
set Sa=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Sa,Ow[1])
call TriggerAddAction(Sa,function rj)
endfunction
function rl takes nothing returns nothing
call SetUnitAnimation(HV,"spell")
set QE=GetRectCenter(GL)
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set QE=GetRandomLocInRect(GK)
call CreateItemLoc($49303949,QE)
call RemoveLocation(QE)
endfunction
function rm takes nothing returns nothing
set SY=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(SY,Ow[2])
call TriggerAddAction(SY,function rl)
endfunction
function rn takes nothing returns boolean
if not (GetUnitTypeId(GetAttacker())==$48303034) then
return false
endif
return true
endfunction
function ro takes nothing returns nothing
call SetPlayerAllianceStateBJ(GetOwningPlayer(GetAttacker()),Player(11),bj_ALLIANCE_UNALLIED)
if rn() then
call StartTimerBJ(O0[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],false,5.)
else
call StartTimerBJ(O0[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],false,5.)
endif
set PN[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]=true
endfunction
function rp takes nothing returns nothing
set Sc=CreateTrigger()
call TriggerRegisterUnitEvent(Sc,HX,EVENT_UNIT_ATTACKED)
call TriggerRegisterUnitEvent(Sc,HW,EVENT_UNIT_ATTACKED)
call TriggerAddAction(Sc,function ro)
endfunction
function rq takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function rr takes nothing returns boolean
if GetItemUserData(GetManipulatedItem())==0 then
return true
endif
if GetItemUserData(GetManipulatedItem())==13 then
return true
endif
return false
endfunction
function rs takes nothing returns boolean
if not (GetItemUserData(GetManipulatedItem())!=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))) then
return false
endif
if not (GetItemUserData(GetManipulatedItem())!=0) then
return false
endif
return true
endfunction
function rt takes nothing returns boolean
if not rs() then
return false
endif
return true
endfunction
function ru takes nothing returns boolean
if not rr() then
return false
endif
return true
endfunction
function rv takes nothing returns nothing
if ru() then
else
if rt() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Этот предмет принадлежит другому игроку!!|r")
else
endif
endif
endfunction
function rw takes nothing returns nothing
set Sg=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Sg,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Sg,Condition(function rq))
call TriggerAddAction(Sg,function rv)
endfunction
function rx takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
return true
endfunction
function ry takes nothing returns boolean
if not ($49303438==GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))) then
return false
endif
return true
endfunction
function rz takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))==0) then
return false
endif
return true
endfunction
function r0 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))>=20) then
return false
endif
return true
endfunction
function r1 takes nothing returns boolean
if not (JZ>=2) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303055)==true) then
return false
endif
return true
endfunction
function r2 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303548)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303259)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303658)==true) then
return false
endif
return true
endfunction
function r3 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))==0) then
return false
endif
return true
endfunction
function r4 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))>=20) then
return false
endif
return true
endfunction
function r5 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930314C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930314B)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930314D)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930314A)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303056)==true) then
return false
endif
return true
endfunction
function r6 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))==0) then
return false
endif
return true
endfunction
function r7 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303337))==0) then
return false
endif
return true
endfunction
function r8 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303337))>=1) then
return false
endif
return true
endfunction
function r9 takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))>=20) then
return false
endif
return true
endfunction
function sB takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303056)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303337)==true) then
return false
endif
return true
endfunction
function sC takes nothing returns boolean
if not ($49303041==GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))) then
return false
endif
return true
endfunction
function sD takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))==0) then
return false
endif
return true
endfunction
function sE takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))==0) then
return false
endif
return true
endfunction
function sF takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))>=10) then
return false
endif
return true
endfunction
function sG takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))>=10) then
return false
endif
return true
endfunction
function sH takes nothing returns boolean
if not (JZ>=2) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303056)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303055)==true) then
return false
endif
return true
endfunction
function sI takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930374C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930374A)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303748)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930374B)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303749)==true) then
return false
endif
return true
endfunction
function sJ takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303458))==0) then
return false
endif
return true
endfunction
function sK takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303458)==true) then
return false
endif
return true
endfunction
function sL takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$4930345A))==0) then
return false
endif
return true
endfunction
function sM takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930345A)==true) then
return false
endif
return true
endfunction
function sN takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303531))==0) then
return false
endif
return true
endfunction
function sO takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303531)==true) then
return false
endif
return true
endfunction
function sP takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303532))==0) then
return false
endif
return true
endfunction
function sQ takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303532)==true) then
return false
endif
return true
endfunction
function sR takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303459))==0) then
return false
endif
return true
endfunction
function sS takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303459)==true) then
return false
endif
return true
endfunction
function sT takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303530))==0) then
return false
endif
return true
endfunction
function sU takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$4930354C)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303530)==true) then
return false
endif
return true
endfunction
function sV takes nothing returns boolean
if not (GetSpellAbilityId()==$4130314B) then
return false
endif
return true
endfunction
function sW takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830314F) then
return false
endif
return true
endfunction
function sX takes nothing returns boolean
if not (GetSpellAbilityId()==$4130314B) then
return false
endif
return true
endfunction
function sY takes nothing returns boolean
if not (GetSpellAbilityId()==$41304F46) then
return false
endif
return true
endfunction
function sZ takes nothing returns boolean
if not (GetSpellAbilityId()==$41304F47) then
return false
endif
return true
endfunction
function sa takes nothing returns boolean
if not (GetSpellAbilityId()==$41303157) then
return false
endif
return true
endfunction
function sb takes nothing returns boolean
if not (GetSpellAbilityId()==$4130425A) then
return false
endif
return true
endfunction
function sc takes nothing returns boolean
if not (GetSpellAbilityId()==$41314B37) then
return false
endif
return true
endfunction
function sd takes nothing returns boolean
if not (GetSpellAbilityId()==$41314B39) then
return false
endif
return true
endfunction
function se takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))==0) then
return false
endif
return true
endfunction
function sf takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))==0) then
return false
endif
return true
endfunction
function sg takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303056))>=100) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303055))>=50) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303443)==true) then
return false
endif
return true
endfunction
function sh takes nothing returns boolean
if not (GetSpellAbilityId()==$4130314B) then
return false
endif
return true
endfunction
function si takes nothing returns nothing
if sV() then
set JZ=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if ry() then
set JZ=JZ+1
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if r1() then
if r0() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))-20)
if rz() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))
else
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303438))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303438))
call UnitAddItemByIdSwapped($49303748,GetSpellAbilityUnit())
else
endif
else
endif
if r2() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303259))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303548))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303658))
call UnitAddItemByIdSwapped($49303749,GetSpellAbilityUnit())
else
endif
if r5() then
if r4() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))-20)
if r3() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))
else
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930314C))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930314B))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930314D))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930314A))
call UnitAddItemByIdSwapped($4930374A,GetSpellAbilityUnit())
else
endif
else
endif
if sB() then
if r9() then
if r8() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))-20)
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303337),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303337))-1)
if r6() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))
else
endif
if r7() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303337))
else
endif
call UnitAddItemByIdSwapped($4930374B,GetSpellAbilityUnit())
else
endif
else
endif
else
endif
set JZ=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if sC() then
set JZ=JZ+1
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if sH() then
if sG() then
if sF() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))-10)
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))-10)
if sD() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))
else
endif
if sE() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))
else
endif
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303041))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303041))
call UnitAddItemByIdSwapped($4930374C,GetSpellAbilityUnit())
else
endif
else
endif
else
endif
if sI() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930374C))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930374A))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303748))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930374B))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303749))
call UnitAddItemByIdSwapped($4930374D,GetSpellAbilityUnit())
else
endif
if sU() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303530),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303530))-1)
if sT() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303530))
else
endif
call UnitAddItemByIdSwapped($4930354D,GetSpellAbilityUnit())
else
if sS() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303459),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303459))-1)
if sR() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303459))
else
endif
call UnitAddItemByIdSwapped($4930354E,GetSpellAbilityUnit())
else
if sQ() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303532),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303532))-1)
if sP() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303532))
else
endif
call UnitAddItemByIdSwapped($49303550,GetSpellAbilityUnit())
else
if sO() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303531),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303531))-1)
if sN() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303531))
else
endif
call UnitAddItemByIdSwapped($49303551,GetSpellAbilityUnit())
else
if sM() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$4930345A),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$4930345A))-1)
if sL() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$4930345A))
else
endif
call UnitAddItemByIdSwapped($4930354F,GetSpellAbilityUnit())
else
if sK() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$4930354C))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303458),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303458))-1)
if sJ() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303458))
else
endif
call UnitAddItemByIdSwapped($49303552,GetSpellAbilityUnit())
else
endif
endif
endif
endif
endif
endif
else
endif
if sX() then
call eg(GetTriggerUnit())
if sW() then
call ep(GetTriggerUnit())
call eh(GetTriggerUnit())
else
endif
else
endif
if sY() then
call ei(GetTriggerUnit())
else
endif
if sZ() then
call ej(GetTriggerUnit())
else
endif
if sa() then
call ek(GetTriggerUnit())
else
endif
if sb() then
call el(GetTriggerUnit())
else
endif
if sc() then
call em(GetTriggerUnit())
else
endif
if sd() then
call en(GetTriggerUnit())
else
endif
if sh() then
if sg() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303443))
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))-100)
if se() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303056))
else
endif
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055),GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))-50)
if sf() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303055))
else
endif
call UnitAddItemByIdSwapped($49304853,GetSpellAbilityUnit())
else
endif
else
endif
endfunction
function sj takes nothing returns nothing
set Sh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Sh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Sh,Condition(function rx))
call TriggerAddAction(Sh,function si)
endfunction
function sk takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303547) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())==$49304B4A) then
return false
endif
return true
endfunction
function sl takes nothing returns nothing
call ReplaceUnitBJ(GetTriggerUnit(),$68303548,bj_UNIT_STATE_METHOD_RELATIVE)
call SetUnitVertexColorBJ(GetTriggerUnit(),50.,50.,100,50.)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"war3mapImported\\ClockRune.mdx")
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Doodads\\Cinematic\\Lightningbolt\\Lightningbolt.mdl")
endfunction
function sm takes nothing returns nothing
set S4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S4,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(S4,Condition(function sk))
call TriggerAddAction(S4,function sl)
endfunction
function sn takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830324E) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$6830324F) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303250) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303251) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303357) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303358) then
return false
endif
return true
endfunction
function so takes nothing returns nothing
call eo(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call SetUnitInvulnerable(QG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)
endfunction
function sp takes nothing returns nothing
set S5=CreateTrigger()
call TriggerRegisterEnterRectSimple(S5,GetPlayableMapRect())
call TriggerAddCondition(S5,Condition(function sn))
call TriggerAddAction(S5,function so)
endfunction
function sq takes nothing returns boolean
if GetItemUserData(GetManipulatedItem())<1 then
return true
endif
if GetItemUserData(GetManipulatedItem())>10 then
return true
endif
return false
endfunction
function sr takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304755) then
return false
endif
if not sq() then
return false
endif
return true
endfunction
function ss takes nothing returns nothing
call SetItemUserData(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49304755),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
endfunction
function st takes nothing returns nothing
set S6=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S6,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(S6,Condition(function sr))
call TriggerAddAction(S6,function ss)
endfunction
function su takes nothing returns boolean
if not (GetSpellAbilityId()==$41313134) then
return false
endif
return true
endfunction
function sv takes nothing returns nothing
set S8=GetTriggerUnit()
set S9=Qz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set TB[1]=UnitItemInSlotBJ(S8,1)
set TB[2]=UnitItemInSlotBJ(S8,2)
set TB[3]=UnitItemInSlotBJ(S8,3)
set TB[4]=UnitItemInSlotBJ(S8,4)
set TB[5]=UnitItemInSlotBJ(S8,5)
set TB[6]=UnitItemInSlotBJ(S8,6)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,1),S8)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,2),S8)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,3),S8)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,4),S8)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,5),S8)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(S8,6),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,1),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,2),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,3),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,4),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,5),S8)
call UnitAddItemSwapped(UnitItemInSlotBJ(S9,6),S8)
call UnitAddItemSwapped(TB[1],S9)
call UnitAddItemSwapped(TB[2],S9)
call UnitAddItemSwapped(TB[3],S9)
call UnitAddItemSwapped(TB[4],S9)
call UnitAddItemSwapped(TB[5],S9)
call UnitAddItemSwapped(TB[6],S9)
call DoNothing()
endfunction
function sw takes nothing returns nothing
set S7=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(S7,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(S7,Condition(function su))
call TriggerAddAction(S7,function sv)
endfunction
function sx takes nothing returns boolean
if GetItemUserData(GetManipulatedItem())<1 then
return true
endif
if GetItemUserData(GetManipulatedItem())>10 then
return true
endif
return false
endfunction
function sy takes nothing returns boolean
if GetItemTypeId(GetSoldItem())==$49304349 then
return true
endif
if GetItemTypeId(GetSoldItem())==$4930434B then
return true
endif
if GetItemTypeId(GetSoldItem())==$49304350 then
return true
endif
return false
endfunction
function sz takes nothing returns boolean
if not sx() then
return false
endif
if not sy() then
return false
endif
return true
endfunction
function s0 takes nothing returns nothing
call SetItemUserData(GetManipulatedItem(),GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())))
endfunction
function s1 takes nothing returns nothing
set TC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TC,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(TC,Condition(function sz))
call TriggerAddAction(TC,function s0)
endfunction
function s2 takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function s3 takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function s4 takes nothing returns boolean
if not (L8==2) then
return false
endif
return true
endfunction
function s5 takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function s6 takes nothing returns boolean
if not (O3>=30) then
return false
endif
return true
endfunction
function s7 takes nothing returns boolean
if not (O3<20) then
return false
endif
return true
endfunction
function s8 takes nothing returns boolean
if not (O3<10) then
return false
endif
return true
endfunction
function s9 takes nothing returns nothing
set TE=GetRectCenter(R3[GetRandomInt(1,65)])
set MT=GetRandomDirectionDeg()
call StartTimerBJ(MU,false,GetRandomReal(30.,3000.)+I2R(MP)*10.)
if s2() then
call PlaySoundBJ(B7)
else
call PlaySoundBJ(B6)
endif
call CreateNUnitsAtLoc(1,$68303344,Player(PLAYER_NEUTRAL_PASSIVE),TE,MT)
call SetItemTypeSlots(GetLastCreatedUnit(),1)
set QP=GetLastCreatedUnit()
if s8() then
call AddItemToStockBJ($49304349,QP,1,1)
else
call RemoveItemFromStockBJ($49304349,GetTriggerUnit())
if s7() then
set L8=GetRandomInt(1,2)
if s3() then
call AddItemToStockBJ($49304349,QP,1,1)
else
call AddItemToStockBJ($4930434B,QP,1,1)
endif
else
if s6() then
set L8=GetRandomInt(1,3)
if s5() then
call AddItemToStockBJ($49304349,QP,1,1)
else
if s4() then
call AddItemToStockBJ($4930434B,QP,1,1)
else
call AddItemToStockBJ($49304350,QP,1,1)
endif
endif
else
endif
endif
endif
call EnableTrigger(TF)
endfunction
function tB takes nothing returns nothing
set TD=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TD,MS)
call TriggerAddAction(TD,function s9)
endfunction
function tC takes nothing returns boolean
if not (GetSellingUnit()==QP) then
return false
endif
return true
endfunction
function tD takes nothing returns nothing
call PauseTimerBJ(true,MU)
call EnableTrigger(TH)
call ConditionalTriggerExecute(TH)
endfunction
function tE takes nothing returns nothing
set TG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TG,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(TG,Condition(function tC))
call TriggerAddAction(TG,function tD)
endfunction
function tF takes nothing returns boolean
if not (GetTriggerUnit()==QP) then
return false
endif
return true
endfunction
function tG takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetTriggerPlayer())]==true) then
return false
endif
return true
endfunction
function tH takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetTriggerPlayer())]==2) then
return false
endif
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==true) then
return false
endif
return true
endfunction
function tI takes nothing returns boolean
if not (L8==3) then
return false
endif
return true
endfunction
function tJ takes nothing returns boolean
if not (L8==2) then
return false
endif
return true
endfunction
function tK takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function tL takes nothing returns nothing
call DestroyTextTag(TI)
if tH() then
if tG() then
set OO=GetConvertedPlayerId(GetTriggerPlayer())
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
call SetUnitFacingToFaceUnitTimed(QP,Pd[GetConvertedPlayerId(GetTriggerPlayer())],1.)
set L8=GetRandomInt(1,4)
if tK() then
call CreateTextTagUnitBJ("Хрррр... Хошь блестяшку?! Дай денег и пожрать! Продам блестяшку! Хррррр...",QP,20.,11.,30.,100,30.,0)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5)
else
if tJ() then
call CreateTextTagUnitBJ("Хрррр... Моя заблудиться! Дай пожрать! И денег! А я тебе блестяшку!",QP,20.,11.,30.,100,30.,0)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5)
else
if tI() then
call CreateTextTagUnitBJ("Хрррррр! Есть пожрать?! ДАЙ! И дай денег! А я тебе блестяшку! ",QP,20.,11.,30.,100,30.,0)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5)
else
call CreateTextTagUnitBJ("Хрррррр! Едааааа! Хрррр...",QP,20.,11.,30.,100,30.,0)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),5)
endif
endif
endif
set TI=GetLastCreatedTextTag()
call SetTextTagLifespanBJ(TI,5)
call PauseTimerBJ(true,MU)
call TriggerSleepAction(10.)
call PauseTimerBJ(false,MU)
endfunction
function tM takes nothing returns nothing
set TF=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(TF,Player(9),true)
call TriggerAddCondition(TF,Condition(function tF))
call TriggerAddAction(TF,function tL)
endfunction
function tN takes nothing returns nothing
call EnableTrigger(TH)
call ConditionalTriggerExecute(TH)
endfunction
function tO takes nothing returns nothing
set TJ=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(TJ,MU)
call TriggerAddAction(TJ,function tN)
endfunction
function tP takes nothing returns nothing
call SetTextTagTextBJ(TI,"Хрррррр! Моя убегай!",11.)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),3.)
call IssuePointOrderLoc(QP,"move",GetRectCenter(GetPlayableMapRect()))
call UnitAddAbilityBJ($41706976,QP)
call RemoveItemFromAllStock($49304349)
call RemoveItemFromAllStock($4930434B)
call RemoveItemFromAllStock($49304350)
call StartTimerBJ(MS,false,GetRandomReal(30.,300.))
call UnitApplyTimedLifeBJ(5.,$42466967,QP)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function tQ takes nothing returns nothing
set TH=CreateTrigger()
call DisableTrigger(TH)
call TriggerAddAction(TH,function tP)
endfunction
function tR takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$49304357 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930414B then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930395A then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304142 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304143 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304136 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304135 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304134 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304133 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304132 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304131 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304130 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303950 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303949 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930394C then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303951 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930394D then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930394B then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930394F then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303957 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303958 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303953 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303952 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303956 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303959 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303631 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303632 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303031 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303030 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303032 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303033 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303057 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303056 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303055 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303054 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303038 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303037 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303154 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303155 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303156 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303157 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303158 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303234 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303254 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303336 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303337 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303349 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303437 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303530 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303459 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303532 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930345A then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303531 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303458 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303636 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304351 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303336 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303246 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303245 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303243 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303242 then
return true
endif
return false
endfunction
function tS takes nothing returns boolean
if not tR() then
return false
endif
return true
endfunction
function tT takes nothing returns boolean
if not (GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))==TL) then
return false
endif
if not (UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())!=GetManipulatedItem()) then
return false
endif
return true
endfunction
function tU takes nothing returns boolean
if not (GetItemTypeId(GetEnumItem())==TM) then
return false
endif
return true
endfunction
function tV takes nothing returns nothing
if tU() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM),GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM))+GetItemCharges(GetEnumItem()))
call RemoveItem(GetEnumItem())
else
endif
endfunction
function tW takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$4930364E)==true) then
return false
endif
return true
endfunction
function tX takes nothing returns nothing
set TL=GetItemTypeId(GetManipulatedItem())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if tT() then
call SetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()),GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))+GetItemCharges(GetManipulatedItem()))
call RemoveItem(GetManipulatedItem())
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if tW() then
set TM=TL
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,650.,650.)
call EnumItemsInRectBJ(Rx,function tV)
call RemoveLocation(QE)
call RemoveRect(Rx)
else
endif
endfunction
function tY takes nothing returns nothing
set TK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TK,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(TK,Condition(function tS))
call TriggerAddAction(TK,function tX)
endfunction
function tZ takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
if not (GetUnitCurrentOrder(GetTriggerUnit())==String2OrderIdBJ("smart")) then
return false
endif
if not (CheckItemcodeStatus(GetItemTypeId(GetOrderTargetItem()),bj_ITEMCODE_STATUS_SELLABLE)==true) then
return false
endif
return true
endfunction
function ta takes nothing returns boolean
if not (DistanceBetweenPoints(QE,Rv)<=150.) then
return false
endif
return true
endfunction
function tb takes nothing returns boolean
if GetItemTypeId(TP)==$49303530 then
return true
endif
if GetItemTypeId(TP)==$49303459 then
return true
endif
if GetItemTypeId(TP)==$49303437 then
return true
endif
if GetItemTypeId(TP)==$49303031 then
return true
endif
if GetItemTypeId(TP)==$49303155 then
return true
endif
if GetItemTypeId(TP)==$49303057 then
return true
endif
if GetItemTypeId(TP)==$49303030 then
return true
endif
if GetItemTypeId(TP)==$49303154 then
return true
endif
if GetItemTypeId(TP)==$49303056 then
return true
endif
if GetItemTypeId(TP)==$49303532 then
return true
endif
if GetItemTypeId(TP)==$49303032 then
return true
endif
if GetItemTypeId(TP)==$49303156 then
return true
endif
if GetItemTypeId(TP)==$49303055 then
return true
endif
if GetItemTypeId(TP)==$4930345A then
return true
endif
if GetItemTypeId(TP)==$49303033 then
return true
endif
if GetItemTypeId(TP)==$49303157 then
return true
endif
if GetItemTypeId(TP)==$49303054 then
return true
endif
if GetItemTypeId(TP)==$49303531 then
return true
endif
if GetItemTypeId(TP)==$49303458 then
return true
endif
if GetItemTypeId(TP)==$49303636 then
return true
endif
if GetItemTypeId(TP)==$49303631 then
return true
endif
if GetItemTypeId(TP)==$49303632 then
return true
endif
if GetItemTypeId(TP)==$49303038 then
return true
endif
if GetItemTypeId(TP)==$49303158 then
return true
endif
if GetItemTypeId(TP)==$49303037 then
return true
endif
if GetItemTypeId(TP)==$49303337 then
return true
endif
if GetItemTypeId(TP)==$49303336 then
return true
endif
if GetItemTypeId(TP)==$49303254 then
return true
endif
if GetItemTypeId(TP)==$4930395A then
return true
endif
if GetItemTypeId(TP)==$4930434E then
return true
endif
if GetItemTypeId(TP)==$49304134 then
return true
endif
if GetItemTypeId(TP)==$49304135 then
return true
endif
if GetItemTypeId(TP)==$49304136 then
return true
endif
if GetItemTypeId(TP)==$4930414B then
return true
endif
if GetItemTypeId(TP)==$49304351 then
return true
endif
if GetItemTypeId(TP)==$49303959 then
return true
endif
if GetItemTypeId(TP)==$49303956 then
return true
endif
if GetItemTypeId(TP)==$49304131 then
return true
endif
if GetItemTypeId(TP)==$49303952 then
return true
endif
if GetItemTypeId(TP)==$49304143 then
return true
endif
if GetItemTypeId(TP)==$49304132 then
return true
endif
if GetItemTypeId(TP)==$49303953 then
return true
endif
if GetItemTypeId(TP)==$49303958 then
return true
endif
if GetItemTypeId(TP)==$49304357 then
return true
endif
if GetItemTypeId(TP)==$49303957 then
return true
endif
if GetItemTypeId(TP)==$49304133 then
return true
endif
if GetItemTypeId(TP)==$4930394F then
return true
endif
if GetItemTypeId(TP)==$4930394B then
return true
endif
if GetItemTypeId(TP)==$4930394D then
return true
endif
if GetItemTypeId(TP)==$49304130 then
return true
endif
if GetItemTypeId(TP)==$49303951 then
return true
endif
if GetItemTypeId(TP)==$49304142 then
return true
endif
if GetItemTypeId(TP)==$4930394C then
return true
endif
if GetItemTypeId(TP)==$49303949 then
return true
endif
if GetItemTypeId(TP)==$49303950 then
return true
endif
if GetItemTypeId(TP)==$49303349 then
return true
endif
if GetItemTypeId(TP)==$49303243 then
return true
endif
if GetItemTypeId(TP)==$49303242 then
return true
endif
if GetItemTypeId(TP)==$49303245 then
return true
endif
if GetItemTypeId(TP)==$49303246 then
return true
endif
return false
endfunction
function tc takes nothing returns boolean
if not (UnitInventorySizeBJ(TO)==UnitInventoryCount(TO)) then
return false
endif
if not (UnitHasItemOfTypeBJ(TO,GetItemTypeId(TP))==true) then
return false
endif
if not tb() then
return false
endif
return true
endfunction
function td takes nothing returns nothing
set TO=GetTriggerUnit()
set TP=GetOrderTargetItem()
set QE=GetUnitLoc(TO)
set Rv=GetItemLoc(TP)
if tc() then
if ta() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(TO,GetItemTypeId(TP)),GetItemCharges(TP)+GetItemCharges(GetItemOfTypeFromUnitBJ(TO,GetItemTypeId(TP))))
call RemoveItem(TP)
else
endif
else
endif
call RemoveLocation(QE)
call RemoveLocation(Rv)
endfunction
function te takes nothing returns nothing
set TN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(TN,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerAddCondition(TN,Condition(function tZ))
call TriggerAddAction(TN,function td)
endfunction
function tf takes nothing returns nothing
local integer Rc=LoadInteger(Rg,0,200)
local integer TS=Rc
local integer TR
local real Hu
local unit HD
loop
exitwhen Rc==0
set HD=LoadUnitHandle(Rg,0,200+Rc)
set TR=GetHandleId(HD)
set Hu=LoadReal(Rg,TR,200)
if Hu<=0 or GetUnitState(HD,UNIT_STATE_LIFE)<=0 then
call PauseUnit(HD,false)
call SaveReal(Rg,TR,200,0)
call UnitRemoveAbility(HD,$41305942)
if TS!=Rc then
call SaveInteger(Rg,0,200+Rc,LoadInteger(Rg,0,200+TS))
call SaveInteger(Rg,0,200+TS,0)
else
call SaveInteger(Rg,0,200+Rc,0)
endif
set TS=TS-1
call SaveInteger(Rg,0,200,TS)
else
call SaveReal(Rg,TR,200,Hu-.25)
endif
set Rc=Rc-1
endloop
endfunction
function tg takes nothing returns nothing
set TQ=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(TQ,.25)
call TriggerAddAction(TQ,function tf)
endfunction
function th takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==$68303335
endfunction
function ti takes nothing returns nothing
local unit TU=GetTriggerUnit()
local unit TV=GetEventDamageSource()
local player G4=GetOwningPlayer(TU)
local player TW=GetOwningPlayer(TV)
local location Tb
local integer TY
local integer TX=0
local real Th=0
local unit Tc
if IsUnitEnemy(TV,G4) and IsUnitIllusion(TU)==false then
loop
exitwhen TX==6
set TY=GetItemTypeId(UnitItemInSlot(TU,TX))
set TX=TX+1
if TY==$49304343 then
if GetUnitLevel(TV)!=10 and GetRandomInt(1,100)<=10 then
call fQ(G4,TV,$41304B43,"entanglingroots")
endif
endif
if TY==$4930414D or TY==$4930414E then
if GetUnitLevel(TV)!=10 and GetRandomInt(1,100)<=1 then
call fQ(G4,TV,$41303030,"entanglingroots")
endif
endif
if TY==$49304439 then
if GetUnitLevel(TV)!=10 and GetRandomInt(1,100)<=1 then
call fQ(G4,TV,$41304B43,"entanglingroots")
endif
endif
if TY==$49304B37 then
if GetUnitLevel(TV)!=10 and GetRandomInt(1,100)<=1 then
call fQ(G4,TV,$41314843,"entanglingroots")
endif
endif
if TY==$49303955 or TY==$4930414E then
if GetUnitStateSwap(UNIT_STATE_LIFE,TV)>GetUnitStateSwap(UNIT_STATE_LIFE,TU)*5. then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl",TV,"chest"))
call e8(TU,TV,300)
call fK(TU,200)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"origin"))
endif
endif
if TY==$49304439 then
if GetUnitStateSwap(UNIT_STATE_LIFE,TV)>GetUnitStateSwap(UNIT_STATE_LIFE,TU)*5. then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl",TV,"chest"))
call e8(TU,TV,500)
call fK(TU,400)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"origin"))
endif
endif
if TY==$49304B37 then
if GetUnitStateSwap(UNIT_STATE_LIFE,TV)>GetUnitStateSwap(UNIT_STATE_LIFE,TU)*5. then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl",TV,"chest"))
call e8(TU,TV,5000)
call fK(TU,800)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"origin"))
endif
endif
if TY==$49304346 then
if GetRandomInt(1,100)<=10 then
if GetUnitLevel(TV)!=10 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl",TV,"chest"))
call e8(TU,TV,GetUnitState(TV,UNIT_STATE_MAX_LIFE)*.01)
endif
endif
endif
if TY==$4930494B then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(TU)
call e9(TU,Tb,500,20000,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call fJ(TU,150,500)
call fM(TU,150,500)
call RemoveLocation(Tb)
set Tb=null
endif
endif
if TY==$49304954 then
if GetRandomInt(1,100)<=5 then
set Th=GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*35
call e8(TU,TV,Th)
call fH(TU,5000)
call fK(TU,5000)
endif
endif
if TY==$49304956 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(TV)
set Th=GetHeroInt(TU,true)*15
call e9(TU,Tb,500,Th,"Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl")
call RemoveLocation(Tb)
endif
endif
if TY==$49304A42 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(TU)
set Th=GetHeroStr(TU,true)*25
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303557,Tb,270),$42466967,20)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl",TU,"origin"))
call e9(TU,Tb,500,Th,"Abilities\\Weapons\\GreenDragonMissile\\GreenDragonMissile.mdl")
call RemoveLocation(Tb)
endif
endif
if TY==$49304A31 then
if GetRandomInt(1,100)<=10 and 100.*GetUnitState(TU,UNIT_STATE_LIFE)/GetUnitState(TU,UNIT_STATE_MAX_LIFE)<10 then
set Th=GetHeroInt(TU,true)*5
call fH(TU,Th)
call fK(TU,2500)
set Th=Th+10000
call e8(TU,TV,Th)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\WandOfNeutralization\\NeutralizationMissile.mdl",TV,"origin"))
endif
endif
if TY==$4930495A then
if GetRandomInt(1,100)<=2 then
set Th=GetHeroStr(TU,true)*20+GetHeroInt(TU,true)*20
set Tb=GetUnitLoc(TV)
call e9(TU,Tb,500,Th,"Abilities\\Weapons\\AncestralGuardianMissile\\AncestralGuardianMissile.mdl")
if IsUnitType(TV,UNIT_TYPE_UNDEAD) then
call e9(TU,Tb,500,Th,"Abilities\\Weapons\\AncestralGuardianMissile\\AncestralGuardianMissile.mdl")
endif
call RemoveLocation(Tb)
endif
endif
if TY==$49304848 then
if GetRandomInt(1,100)<=10 then
if IsUnitType(TV,UNIT_TYPE_UNDEAD) then
call e8(TU,TV,10000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",TV,"origin"))
endif
endif
endif
if TY==$49304950 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(TU)
call e9(TU,Tb,300,GetHeroAgi(TU,true)*35,"Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",TU,"origin"))
call RemoveLocation(Tb)
endif
endif
if TY==$4930485A then
if IsUnitType(TV,UNIT_TYPE_UNDEAD) then
call fH(TU,50)
endif
endif
if TY==$4930484C then
if GetRandomInt(1,100)<=8 then
call fQ(G4,TV,$4131464D,"faeriefire")
call e8(TU,TV,GetHeroStr(TU,true)*10)
endif
endif
if TY==$49304958 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(TU)
set Th=GetHeroStr(TU,true)*10+GetHeroAgi(TU,true)*10+GetHeroInt(TU,true)*10+25000
call e9(TU,Tb,500,Th,"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",TU,"origin"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A34 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(TU)
set Th=GetHeroStr(TU,true)*20+GetHeroAgi(TU,true)*20+GetHeroInt(TU,true)*20
call e9(TU,Tb,700,Th,"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",TU,"origin"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304839 then
if GetRandomInt(1,100)<=2 and CountUnitsInGroup(GetUnitsInRectMatching(GetPlayableMapRect(),Condition(function th)))<5 then
set Tb=GetUnitLoc(TU)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303044,Tb,270),$42466967,60)
call RemoveLocation(Tb)
endif
endif
if TY==$49304A44 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(TU)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",TU,"origin"))
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303558,Tb,270),$42466967,5)
call RemoveLocation(Tb)
endif
endif
if TY==$49304947 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(TU)
set Th=GetHeroInt(TU,true)*35
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303051,Tb,270),$42466967,15)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call e9(TU,Tb,700,Th,"Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl")
call RemoveLocation(Tb)
endif
endif
if TY==$49304837 then
if GetRandomInt(1,100)<=3 then
set Tb=GetUnitLoc(TV)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303348,Tb,270),$42466967,3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Sleep\\SleepSpecialArt.mdl",TV,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304846 then
if GetRandomInt(1,100)<=5 then
call fS(TU,TV,$41314245,"chainlightning")
endif
endif
if TY==$49304254 then
if GetRandomInt(1,100)<=5 then
call fS(TU,TV,$41304A51,"chainlightning")
endif
endif
if TY==$49304759 then
if GetRandomInt(1,100)<=5 then
call e8(TU,TV,10000)
call fO(TV,TU,1)
endif
endif
if TY==$49304B4C then
if GetRandomInt(1,100)<=2 then
call e8(TU,TV,100)
call fO(TV,TU,.5)
endif
endif
if TY==$49304B4D then
if GetRandomInt(1,100)<=2 then
set Th=5000+GetHeroStr(TU,true)*20
call e8(TU,TV,Th)
call fO(TV,TU,.5)
endif
endif
if TY==$49304553 then
if GetRandomInt(1,100)<=2 then
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ImpaleMissTarget_Portrait.mdx",TV,"origin"))
call e8(TU,TV,5000)
endif
endif
if TY==$49304747 then
if GetRandomInt(1,100)<=2 then
call fQ(G4,TV,$41304B4D,"entanglingroots")
endif
endif
if TY==$4930494A then
if GetRandomInt(1,100)<=2 then
set Th=GetUnitState(TV,UNIT_STATE_LIFE)*.05
call fQ(G4,TV,$41314A4B,"entanglingroots")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",TV,"origin"))
call e8(TU,TV,Th)
endif
endif
if TY==$49304A30 then
if GetRandomInt(1,100)<=2 then
set Th=GetUnitState(TV,UNIT_STATE_LIFE)*.05+GetHeroInt(TU,true)*5
call fQ(G4,TV,$41314A4B,"entanglingroots")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",TV,"origin"))
call e8(TU,TV,Th)
endif
endif
if TY==$49304A49 then
if GetRandomInt(1,100)<=2 then
set Th=GetUnitState(TV,UNIT_STATE_LIFE)*.05+GetHeroInt(TU,true)*20
call fQ(G4,TV,$41314A4B,"entanglingroots")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",TV,"origin"))
call e8(TU,TV,Th)
endif
endif
if TY==$4930494C then
if GetRandomInt(1,100)<=10 then
set Th=GetHeroInt(TU,true)*2+10000
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",TV,"origin"))
call e8(TU,TV,Th)
endif
endif
if TY==$4930494E then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(TU)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303630,Tb,270),$42466967,5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",TU,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304957 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(TU)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303630,Tb,270),$42466967,5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",TU,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A32 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(TU)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303555,Tb,270),$42466967,15)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",TU,"origin"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A33 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(TU)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303631,Tb,270),$42466967,3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",TU,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$4930494D then
if GetRandomInt(1,100)<=2 then
set Th=GetHeroAgi(TU,true)*5+4000
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",TV,"origin"))
call e8(TU,TV,Th)
set My=0.
set QE=GetUnitLoc(TV)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set Tt=RectFromCenterSizeBJ(QE,600.,600.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+90.
set QI=PolarProjectionBJ(QE,200.,My)
call DestroyEffect(AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$65303054,QI,270),$42466967,15)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
endif
endif
if TY==$49304338 then
if GetRandomInt(1,100)<=10 then
call fO(TV,TU,1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",TV,"chest"))
call e8(TU,TV,4000)
endif
endif
if TY==$49304254 then
if GetRandomInt(1,100)<=5 then
call fS(TU,TV,$41304A51,"forkedlightning")
endif
endif
if TY==$49304250 then
if GetRandomInt(1,100)<=8 then
call fQ(G4,TV,$41313259,"faeriefire")
call e8(TU,TV,1000)
endif
endif
if TY==$49304244 then
if GetRandomInt(1,100)<=20 then
call fH(TU,50)
endif
endif
if TY==$4930424B then
if GetRandomInt(1,100)<=20 then
call fH(TU,200)
endif
endif
if TY==$49304835 then
if GetRandomInt(1,100)<=20 then
call fJ(TU,500,600)
endif
endif
if TY==$49304251 then
if GetRandomInt(1,100)<=3 then
call e8(TU,TV,7000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl",TV,"chest"))
call fO(TV,TU,1)
endif
endif
if TY==$49304154 then
if GetRandomInt(1,100)<=1 then
call e8(TU,TV,15000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl",TV,"chest"))
call fO(TV,TU,3.5)
endif
endif
if TY==$49304159 then
if GetRandomInt(1,100)<=1 then
call e8(TU,TV,500)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl",TV,"chest"))
call fO(TV,TU,1)
endif
endif
if TY==$49304445 or TY==$49304B38 then
if GetRandomInt(1,100)<=2 then
call e8(TU,TV,200)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl",TV,"chest"))
call fO(TV,TU,2)
endif
endif
if TY==$49304149 then
if GetRandomInt(1,100)<=5 then
call e8(TU,TV,18000)
call fO(TV,TU,1.5)
endif
endif
if TY==$49304249 then
if GetRandomInt(1,100)<=5 then
call e8(TU,TV,7000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",TV,"chest"))
call fO(TV,TU,1)
endif
endif
if TY==$49304438 then
if GetRandomInt(1,100)<=5 then
call e8(TU,TV,12000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",TV,"chest"))
call fO(TV,TU,1.5)
endif
endif
if TY==$49304B35 then
if GetRandomInt(1,100)<=5 then
call e8(TU,TV,12000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",TV,"chest"))
call fO(TV,TU,1.5)
endif
endif
if TY==$49303854 then
if GetRandomInt(1,100)<=5 then
call fH(TU,250)
endif
endif
if TY==$49304A51 then
if GetRandomInt(1,100)<=1 and GetUnitLifePercent(TU)<30 then
call fH(TU,GetHeroStr(TU,true)+GetHeroAgi(TU,true)+GetHeroInt(TU,true))
endif
endif
if TY==$49303754 then
if GetRandomInt(1,100)<=5 then
call fH(TU,500)
endif
endif
if TY==$49304444 then
if GetRandomInt(1,100)<=5 then
call fH(TU,750)
endif
endif
if TY==$49304B33 then
if GetRandomInt(1,100)<=5 then
call fH(TU,3000)
endif
endif
if TY==$49303847 then
call fK(TU,100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"chest"))
endif
if TY==$4930384F then
call fK(TU,200)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"chest"))
endif
if TY==$4930475A then
if GetRandomInt(1,100)<=5 then
call fS(TU,TV,$41313545,"forkedlightning")
endif
endif
endloop
endif
if GetUnitTypeId(TV)==$6530304B then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6830365A then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303553 then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303656 then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303556 then
set Tb=GetUnitLoc(TU)
set Tc=CreateUnitAtLoc(G4,$6530304B,Tb,270)
call UnitAddAbility(Tc,$41314B59)
call IssueTargetOrder(Tc,"unholyfrenzy",TU)
call UnitApplyTimedLife(Tc,$42544C46,1)
call RemoveLocation(Tb)
set Tc=null
set Tb=null
endif
if GetUnitTypeId(TV)==$6E303336 and GetRandomInt(1,20)==1 then
call fQ(TW,TU,$41314B4E,"entanglingroots")
endif
if GetUnitTypeId(TV)==$68303534 then
call fB(RH,TU,0)
call AdjustPlayerStateBJ(GetRandomInt(100,1000),G4,PLAYER_STATE_RESOURCE_GOLD)
if GetRandomInt(1,100)<20 then
call fO(TV,TU,2)
endif
endif
if GetUnitTypeId(TV)==$6E30314F and NL==1 then
set Th=R2I(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)/10)
call fB(RH,TU,Th)
endif
if GetUnitTypeId(TV)==$6530305A then
call fQ(TW,TU,$41314C45,"polymorph")
endif
if GetUnitTypeId(TV)==$6E303643 and NL==2 and GetRandomInt(1,100)<=20 then
call fQ(TW,TU,$41314B4E,"entanglingroots")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",TV,"origin"))
endif
if GetUnitTypeId(TV)==$6E303643 and NL==3 and GetRandomInt(1,100)<=20 then
call fQ(TW,TU,$41314B4F,"slow")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ANsa\\ANsaTarget",TV,"origin"))
endif
if GetUnitTypeId(TV)==$6E303643 and NL==4 then
set Th=GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)
call fB(RH,TU,Th)
endif
if GetUnitTypeId(TV)==$6530304E then
set Th=GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)
call fB(RH,TU,Th)
endif
if GetUnitTypeId(TV)==$68303452 then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$7530304B then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6830345A then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6E303454 then
call fB(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303730 then
call fC(RH,TU,0)
set Tv=TU
call ConditionalTriggerExecute(Tw)
endif
if GetUnitTypeId(TV)==$75303043 then
call fB(RH,TU,0)
set QE=GetUnitLoc(RH)
call SetUnitPositionLoc(TU,QE)
call AddSpecialEffectTargetUnitBJ("origin",TU,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
endif
if GetUnitTypeId(TV)==$68303655 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303637 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6530304C then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303557 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303558 then
call fC(RH,TU,0)
call fO(RH,TU,2)
endif
if GetUnitTypeId(TV)==$6F303037 then
call fC(RH,TU,0)
call KillUnit(TV)
call fO(RH,TU,3)
endif
if GetUnitTypeId(TV)==$65303059 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6E303638 and UnitHasBuffBJ(TU,$42303555)==true then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6E303639 and UnitHasBuffBJ(TU,$42303555)==true then
call fB(RH,TU,0)
call fO(RH,TU,1)
endif
if GetUnitTypeId(TV)==$68303143 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303538 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303459 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$7530304C then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$75303053 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$7530304E then
call fC(RH,TU,0)
call fO(TV,TU,2)
call KillUnit(TV)
call SetUnitAnimation(TU,"death")
call AddSpecialEffectTargetUnitBJ("origin",TU,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
if GetUnitTypeId(TV)==$68303647 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303453 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303530 then
call fC(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303454 then
call fC(RH,TU,0)
call fQ(G4,TU,$41314441,"banish")
endif
if GetUnitTypeId(TV)==$68303341 then
call fB(RH,TU,0)
call fO(RH,TU,.5)
endif
if GetUnitTypeId(TV)==$68303456 then
call fC(RH,TU,0)
call fO(RH,TU,2)
endif
if GetUnitTypeId(TV)==$6530304D then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6E303249 and UnitHasBuffBJ(TV,$42303641)==true then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303659 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303657 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303658 then
call fD(RH,TU,0)
call fO(RH,TU,2)
endif
if GetUnitTypeId(TV)==$68303531 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$7530304D then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303649 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303650 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303642 then
call fD(RH,TU,GetUnitStateSwap(UNIT_STATE_LIFE,TU)/100*40)
endif
if GetUnitTypeId(TV)==$68303643 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6E30354B then
call fD(RH,TU,0)
call fO(RH,TU,4)
endif
if GetUnitTypeId(TV)==$68303555 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$68303559 then
call SetUnitLifePercentBJ(TU,5)
endif
if GetUnitTypeId(TV)==$68303631 then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6830364D then
call fD(RH,TU,0)
endif
if GetUnitTypeId(TV)==$6830364E then
call SetUnitLifePercentBJ(TU,1)
endif
if GetUnitTypeId(TV)==$68303845 then
call fB(RH,TU,0)
endif
set TU=null
set TV=null
call RemoveLocation(Tb)
set Tb=null
call RemoveLocation(Tb)
set G4=null
endfunction
function tj takes nothing returns nothing
set TT=CreateTrigger()
call TriggerAddAction(TT,function ti)
endfunction
function tk takes nothing returns nothing
local unit Td=GetTriggerUnit()
local unit TV=GetEventDamageSource()
local unit Q4
local group Tj
local location Tb
local location Ty
local player G4=GetOwningPlayer(TV)
local real Th
local integer TY
local integer TX=0
local integer T0
local integer Tz
local unit Tc
if IsUnitEnemy(Td,G4) then
if IsUnitType(TV,UNIT_TYPE_HERO)==true and IsUnitIllusion(TV)==false then
loop
exitwhen TX==6
set TY=GetItemTypeId(UnitItemInSlot(TV,TX))
set TX=TX+1
if GetUnitState(Td,UNIT_STATE_MAX_MANA)>0 then
if TY==$49303543 then
call fK(Td,-2)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$49303544 then
call fK(Td,-3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$49303545 then
call fK(Td,-5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$49304152 then
call fK(Td,-8)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$4930435A or TY==$49303655 or TY==$49303758 or TY==$49303343 or TY==$49304230 then
call fK(Td,-10)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$4930334C or TY==$49304233 or TY==$49304752 or TY==$49304347 then
call fK(Td,-20)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$4930444B then
call fK(Td,-30)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$4930484D then
call fK(Td,-15)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
if TY==$49304A56 then
call fK(Td,-150)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",Td,"origin"))
endif
endif
if TY==$49304946 then
call e8(Td,TV,200)
endif
if TY==$49303753 then
if IsUnitType(Td,UNIT_TYPE_UNDEAD) then
if GetUnitLevel(Td)!=10 then
call fH(Td,50)
endif
endif
endif
if TY==$49304948 then
if GetUnitLevel(Td)!=10 and GetRandomInt(1,100)<=2 then
set Th=GetUnitState(Td,UNIT_STATE_MAX_LIFE)*.03
call e8(TV,Td,Th)
endif
endif
if TY==$49303634 then
if GetRandomInt(1,100)<=5 then
set Th=I2R(GetHeroAgi(TV,true))
call e8(TV,Td,Th)
endif
endif
if TY==$49304847 then
if GetRandomInt(1,100)<=5 then
call fQ(G4,Td,$41305852,"shadowstrike")
endif
endif
if TY==$49304844 then
if GetRandomInt(1,100)<=5 then
call fQ(G4,Td,$41314649,"curse")
endif
endif
if TY==$49304751 then
if GetRandomInt(1,100)<=5 then
call fQ(G4,Td,$4131345A,"curse")
endif
endif
if TY==$49304954 then
if GetRandomInt(1,100)<=2 then
set Th=GetHeroStr(TV,true)*35+GetHeroAgi(TV,true)*35+GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*35
call e8(TV,Td,Th)
endif
endif
if TY==$49304B4E then
if GetRandomInt(1,100)<=2 then
set Th=5000+GetHeroAgi(TV,true)*20
call e8(TV,Td,Th)
endif
endif
if TY==$49304A4D then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",Td,"origin"))
call e9(TV,Tb,300,(GetHeroStr(TV,true)+GetHeroAgi(TV,true)+GetHeroInt(TV,true))*10,"Abilities\\Spells\\Other\\Volcano\\VolcanoMissile.mdl")
call fH(TV,500)
call RemoveLocation(Tb)
set Tb=null
endif
endif
if TY==$49304A50 then
if GetRandomInt(1,100)<=2 and GetUnitLevel(Td)<10 then
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl",Td,"origin"))
call e8(Pd[GetConvertedPlayerId(G4)],Td,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Td)/100*5+(GetHeroStr(TV,true)+GetHeroAgi(TV,true)+GetHeroInt(TV,true))*10)
endif
endif
if TY==$49304938 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
set Ty=GetUnitLoc(TV)
set Tc=CreateUnitAtLoc(G4,$6530304F,Ty,270)
call IssuePointOrderLoc(Tc,"carrionswarm",Tb)
call UnitApplyTimedLife(Tc,$42544C46,5)
call RemoveLocation(Tb)
call RemoveLocation(Ty)
set Tc=null
set Tb=null
endif
endif
if TY==$49304A43 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
set Ty=GetUnitLoc(TV)
set Tc=CreateUnitAtLoc(G4,$65303050,Ty,270)
call IssuePointOrderLoc(Tc,"carrionswarm",Tb)
call UnitApplyTimedLife(Tc,$42544C46,5)
call RemoveLocation(Tb)
call RemoveLocation(Ty)
set Tc=null
set Tb=null
endif
endif
if TY==$49304A52 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
set Ty=GetUnitLoc(TV)
call CreateNUnitsAtLoc(1,$65303039,GetOwningPlayer(TV),Ty,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",Tb)
call RemoveLocation(Tb)
call RemoveLocation(Ty)
endif
endif
if TY==$49304837 then
if GetUnitLevel(Td)<=4 then
if GetRandomInt(1,100)<=5 then
call fQ(G4,Td,$414E6368,"charm")
endif
endif
endif
if TY==$49304852 then
if GetRandomInt(1,100)<=10 then
if GetUnitLevel(Td)!=10 then
call e8(TV,Td,I2R(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD))*.25)
endif
endif
endif
if TY==$49304A4E then
if GetRandomInt(1,100)<=1 then
set Th=GetHeroStr(TV,true)*10+GetHeroAgi(TV,true)*10+GetHeroInt(TV,true)*10
call e8(TV,Td,Th)
call fO(Td,TV,.5)
call DestroyEffect(AddSpecialEffectTarget("abilities\\weapons\\catapult\\catapultmissile.mdl",Td,"chest"))
endif
endif
if TY==$49304943 then
if GetRandomInt(1,100)<=2 then
call e8(TV,Td,I2R(GetHeroStr(TV,true))*5+I2R(GetHeroAgi(TV,true))*5+66000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",Td,"origin"))
endif
endif
if TY==$49304A41 then
if GetRandomInt(1,100)<=1 then
call e8(TV,Td,I2R(GetHeroAgi(TV,true))*10+GetUnitState(Td,UNIT_STATE_MAX_LIFE)/100*5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",Td,"origin"))
endif
endif
if TY==$49304945 then
if GetRandomInt(1,100)<=1 then
if GetUnitLevel(Td)!=10 then
call e8(TV,Td,GetUnitState(Td,UNIT_STATE_MAX_LIFE)/100*3+I2R(GetHeroAgi(TV,true))*10)
call fH(TV,GetUnitState(TV,UNIT_STATE_MAX_LIFE)/100*2)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RockBoltMissile\\RockBoltMissile.mdl",Td,"origin"))
endif
endif
endif
if TY==$49304830 then
if GetRandomInt(1,100)<=5 then
if GetUnitLevel(Td)!=10 then
call e8(TV,Td,I2R(GetHeroInt(TV,true))*5)
endif
endif
endif
if TY==$49304851 then
if GetRandomInt(1,100)<=5 then
if GetUnitLevel(Td)!=10 then
call e8(TV,Td,I2R(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD))*10)
endif
endif
endif
if TY==$49303642 then
if GetRandomInt(1,100)<=5 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",TV,"chest"))
call fK(TV,300)
call fH(TV,2200)
endif
endif
if TY==$49304557 then
if GetRandomInt(1,100)<=50 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",TV,"chest"))
call fK(TV,170)
call fH(TV,200)
endif
endif
if TY==$49303935 then
if GetRandomInt(1,100)<=5 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",TV,"chest"))
call fH(TV,150)
call fK(TV,150)
endif
endif
if TY==$4930464F then
if GetRandomInt(1,100)<=5 then
call fS(TV,Td,$41304B38,"thunderbolt")
endif
endif
if TY==$4930494D then
if GetRandomInt(1,100)<=2 then
set Th=GetHeroAgi(TV,true)*5+4000
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl",Td,"origin"))
call e8(TV,Td,Th)
set My=0.
set QE=GetUnitLoc(Td)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+90.
set QI=PolarProjectionBJ(QE,200.,My)
call DestroyEffect(AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$65303054,QI,270),$42466967,15)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
endif
endif
if TY==$49304955 then
if GetRandomInt(1,100)<=2 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",Td,"origin"))
set My=0.
set QE=GetUnitLoc(Td)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+60.
set QI=PolarProjectionBJ(QE,150.,My)
call DestroyEffect(AddSpecialEffectLocBJ(QI,"Abilities\\Weapons\\Bolt\\BoltImpact.mdl"))
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$68303542,QI,270),$42466967,3)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
endif
endif
if TY==$49303633 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,400,null)
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(TV,Td,600)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
endif
if TY==$49304A33 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303631,Tb,270),$42466967,3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",TV,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A37 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$68303543,Tb,270),$42466967,3)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",Td,"chest"))
call RemoveLocation(Tb)
endif
endif
if TY==$49303635 then
if GetRandomInt(1,100)<=5 then
call e8(TV,Td,250)
call fK(Td,-500)
endif
endif
if TY==$49303634 then
if GetRandomInt(1,100)<=5 then
call e8(TV,Td,GetHeroAgi(TV,true))
endif
endif
if TY==$49304341 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,400,null)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",Td,"origin"))
call RemoveLocation(Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(QF[GetConvertedPlayerId(G4)],Q4,GetHeroInt(TV,true)*35)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
endif
if TY==$49304247 then
if GetRandomInt(1,100)<=30 then
call e8(TV,Td,GetHeroInt(TV,true))
endif
endif
if TY==$49304A38 then
if GetRandomInt(1,100)<=2 then
call fO(Td,TV,.5)
endif
endif
endloop
endif
if GetUnitTypeId(TV)==$65303046 then
set Mr=(200.+I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true)))*I2R(GetUnitAbilityLevelSwapped($41303057,Pd[GetConvertedPlayerId(G4)]))
call e8(Pd[GetConvertedPlayerId(G4)],Td,Mr)
if UnitHasBuffBJ(Td,$42626F66)==true then
set Tz=GetUnitAbilityLevelSwapped($41303058,Pd[GetConvertedPlayerId(G4)])*10
call fH(Pd[GetConvertedPlayerId(G4)],Tz)
endif
endif
if UnitHasBuffBJ(TV,$42726F61)==true then
if GetRandomInt(1,5)==1 then
call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin",TV,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl"))
call fH(TV,I2R(GetUnitLevel(Pd[GetConvertedPlayerId(G4)])))
endif
endif
if GetUnitTypeId(TV)==$65303033 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(G4)],true))*.1*I2R(GetUnitAbilityLevelSwapped($41304B51,Pd[GetConvertedPlayerId(G4)]))
call UnitDamageTargetBJ(Pd[GetConvertedPlayerId(G4)],Td,Lf,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if UnitHasBuffBJ(TV,$42556176)==true then
if GetRandomInt(1,100)<=5 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true))*.05*I2R(GetUnitAbilityLevelSwapped($41303141,Pd[GetConvertedPlayerId(G4)]))
call e8(QF[GetConvertedPlayerId(G4)],Td,Lf)
endif
endif
if GetUnitTypeId(TV)==$6F303030 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(G4)],true))*.1*I2R(GetUnitAbilityLevelSwapped($41303146,Pd[GetConvertedPlayerId(G4)]))
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$65303034 or GetUnitTypeId(TV)==$65303043 or GetUnitTypeId(TV)==$65303052 or GetUnitTypeId(TV)==$65303044 or GetUnitTypeId(TV)==$65303042 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true))*.05*I2R(GetUnitAbilityLevelSwapped($41303054,Pd[GetConvertedPlayerId(G4)]))
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$65303032 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true))*.05*I2R(GetUnitAbilityLevelSwapped($41305339,Pd[GetConvertedPlayerId(G4)]))
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
call fO(Td,TV,2)
endif
if GetUnitTypeId(TV)==$65303049 then
set Lf=GetHeroAgi(Pd[GetConvertedPlayerId(G4)],true)*.05*GetUnitAbilityLevelSwapped($41304353,Pd[GetConvertedPlayerId(G4)])
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$65303039 then
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true)+GetHeroStatBJ(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(G4)],true)+GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(G4)],true))*8
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$6530304F then
set Lf=47000
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$65303050 then
set Th=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(G4)],true)+GetHeroStatBJ(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(G4)],true)+GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(G4)],true))*10
call e8(Pd[GetConvertedPlayerId(G4)],Td,Th)
endif
if GetUnitTypeId(TV)==$68303539 then
set Lf=GetHeroStr(Pd[GetConvertedPlayerId(G4)],true)*10+40000
set Th=GetHeroInt(Pd[GetConvertedPlayerId(G4)],true)
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
call fM(TV,Th,500)
call fJ(TV,Th,500)
endif
if GetUnitTypeId(TV)==$6E303631 then
set Lf=GetHeroStr(Pd[GetConvertedPlayerId(G4)],true)*5+GetHeroAgi(Pd[GetConvertedPlayerId(G4)],true)*5+10000
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
endif
if GetUnitTypeId(TV)==$68303541 then
set Lf=GetHeroStr(Pd[GetConvertedPlayerId(G4)],true)*10
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
call fH(Pd[GetConvertedPlayerId(G4)],100)
endif
if GetUnitTypeId(TV)==$68303543 then
set Th=(GetHeroStr(Pd[GetConvertedPlayerId(G4)],true)+GetHeroAgi(Pd[GetConvertedPlayerId(G4)],true)+GetHeroInt(Pd[GetConvertedPlayerId(G4)],true))*5
call e8(Pd[GetConvertedPlayerId(G4)],Td,Th)
endif
if GetUnitTypeId(TV)==$6E303630 then
set Lf=GetHeroStr(Pd[GetConvertedPlayerId(G4)],true)+GetHeroAgi(Pd[GetConvertedPlayerId(G4)],true)+GetHeroInt(Pd[GetConvertedPlayerId(G4)],true)+10000
set Th=GetHeroInt(Pd[GetConvertedPlayerId(G4)],true)
call e8(Pd[GetConvertedPlayerId(G4)],Td,Lf)
call fJ(TV,Th,500)
endif
if GetUnitTypeId(TV)==$68303542 then
set Th=GetHeroAgi(Pd[GetConvertedPlayerId(G4)],true)*25
call e8(Pd[GetConvertedPlayerId(G4)],Td,Th)
endif
if UnitHasBuffBJ(Td,$42303535)==true then
if IsUnitAliveBJ(Td)==true then
if GetUnitTypeId(TV)==$48303035 then
if GetUnitLevel(Td)<10 then
set Lf=(I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(G4)],true))*.05+GetUnitStateSwap(UNIT_STATE_MAX_LIFE,Td)*.01)*I2R(GetUnitAbilityLevelSwapped($41305535,Pd[GetConvertedPlayerId(G4)]))
call e8(QF[GetConvertedPlayerId(G4)],Td,Lf)
else
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(G4)],true))*.05*I2R(GetUnitAbilityLevelSwapped($41305535,Pd[GetConvertedPlayerId(G4)]))
call e8(QF[GetConvertedPlayerId(G4)],Td,Lf)
endif
endif
endif
endif
if GetUnitTypeId(TV)==$48303032 then
if UnitHasBuffBJ(Td,$42303435)==true or UnitHasBuffBJ(Td,$42303644)==true then
set T0=GetUnitAbilityLevelSwapped($4130564A,TV)
if T0>0 then
if GetRandomInt(1,100)<=T0 then
call e8(TV,Td,100.*I2R(T0))
call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin",Td,"Abilities\\Spells\\Other\\AcidBomb\\BottleMissile.mdl"))
set Tb=GetUnitLoc(Td)
set Tj=GetUnitsInRangeOfLocAll(200,Tb)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
if Td!=Q4 then
set Ty=GetUnitLoc(Q4)
call CreateNUnitsAtLoc(1,$6830334B,GetOwningPlayer(TV),Ty,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305034,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305034,GetLastCreatedUnit(),T0)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",Q4)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
endif
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call RemoveLocation(Tb)
call DestroyGroup(Tj)
set Tb=null
set Ty=null
endif
endif
endif
endif
if UnitHasBuffBJ(TV,$42303630)==true then
call fH(TV,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,TV)/100*5)
call GroupAddGroup(Ir,Tj)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if Q4!=TV then
call fC(RH,Q4,0)
call DestroyEffect(AddSpecialEffectTargetUnitBJ("origin",Q4,"Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
endif
set Td=null
set TV=null
set Q4=null
set Tj=null
call DestroyGroup(Tj)
set Tb=null
call RemoveLocation(Tb)
set G4=null
endif
endfunction
function tl takes nothing returns nothing
set Tx=CreateTrigger()
call TriggerAddAction(Tx,function tk)
endfunction
function tm takes nothing returns nothing
local unit T2=GetKillingUnit()
local unit Td=GetTriggerUnit()
local unit Q4
local unit T7
local location Tb
local location Ty
local group Tj
local group T6
local player G4=GetOwningPlayer(T2)
local player TW=GetOwningPlayer(Td)
local real H9=0
local real Th=0
local integer TY
local integer TX=0
local boolexpr T4
if IsUnitType(T2,UNIT_TYPE_ANCIENT)==true then
set T2=Pd[GetConvertedPlayerId(GetOwningPlayer(T2))]
endif
if IsUnitType(T2,UNIT_TYPE_STRUCTURE)==true then
call ForGroupBJ(Ir,function gN)
endif
if IsUnitType(T2,UNIT_TYPE_HERO)==true and IsUnitIllusion(T2)==false then
if GetUnitAbilityLevelSwapped($41303058,T2)>=1 then
if GetRandomInt(1,10)<=2 then
set Th=0.+10.*I2R(GetUnitAbilityLevelSwapped($41303058,T2))
call fH(GetKillingUnit(),Th)
endif
endif
loop
exitwhen TX==6
set TY=GetItemTypeId(UnitItemInSlot(T2,TX))
set TX=TX+1
if TY==$49304942 then
call fM(T2,50,500)
endif
if TY==$49304338 then
if GetRandomInt(1,100)<=2 then
call fH(T2,GetHeroStr(T2,true)*1)
endif
endif
if TY==$49303947 then
if GetRandomInt(1,100)<=10 then
call fK(T2,GetHeroInt(T2,true)*1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304950 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
call e9(T2,Tb,200,GetHeroAgi(T2,true)*35,"Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",T2,"origin"))
set Tb=null
endif
endif
if TY==$49304848 then
if GetRandomInt(1,100)<=10 then
call fK(T2,2500)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49303757 then
if GetRandomInt(1,100)<=10 then
call fK(T2,GetHeroInt(T2,true)*1)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304443 then
if GetRandomInt(1,100)<=10 then
call fK(T2,GetHeroInt(T2,true)*2)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304B34 then
if GetRandomInt(1,100)<=5 then
call fK(T2,GetHeroInt(T2,true)*10)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304852 then
call fH(T2,.005*GetUnitState(T2,UNIT_STATE_MAX_LIFE))
endif
if TY==$49304A41 then
call fH(T2,100)
call fK(T2,20)
endif
if TY==$4930434A then
if GetRandomInt(1,100)<=1 then
call fJ(T2,35000,1000)
endif
endif
if TY==$49304A43 then
call fJ(T2,200,500)
call fM(T2,200,500)
call fH(T2,200)
call fK(T2,200)
endif
if TY==$49304A52 then
call fJ(T2,200,500)
call fM(T2,200,500)
call fH(T2,200)
call fK(T2,200)
endif
if TY==$49303751 then
call fH(T2,750)
endif
if TY==$4930484A then
call fH(T2,100)
call fK(T2,100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
if TY==$49304759 then
if GetRandomInt(1,100)<=5 then
call fH(T2,GetHeroStr(T2,true))
endif
endif
if TY==$4930475A then
if GetRandomInt(1,100)<=10 then
call fH(T2,GetHeroStr(T2,true)*.5)
endif
endif
if TY==$49304743 then
if GetRandomInt(1,100)<=10 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,700,null)
set H9=GetHeroInt(T2,true)*3
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(T2,Q4,200)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",Tb))
call RemoveLocation(Tb)
call DestroyGroup(Tj)
endif
endif
if TY==$49304845 then
if GetRandomInt(1,100)<=15 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,300,null)
set H9=GetHeroAgi(T2,true)*5
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(T2,Q4,H9)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",Tb))
call RemoveLocation(Tb)
call DestroyGroup(Tj)
endif
endif
if TY==$49304741 then
call fH(T2,50)
endif
if TY==$49304A42 then
call fH(T2,250)
endif
if TY==$49304259 then
if GetRandomInt(1,100)<=20 then
set T3=GetOwningPlayer(T2)
set T4=Condition(function e6)
set Tb=GetUnitLoc(Td)
set Rx=RectFromCenterSizeBJ(Tb,600.,600.)
set Tj=GetUnitsInRectMatching(Rx,T4)
call fQ(G4,GroupPickRandomUnit(Tj),$41304A57,"transmute")
call GroupClear(Tj)
call RemoveRect(Rx)
call RemoveLocation(Tb)
call DestroyBoolExpr(T4)
endif
endif
if TY==$49304834 then
if GetRandomInt(1,100)<=12 then
set T3=GetOwningPlayer(T2)
set T4=Condition(function e6)
set Tb=GetUnitLoc(Td)
set Rx=RectFromCenterSizeBJ(Tb,600.,600.)
set Tj=GetUnitsInRectMatching(Rx,T4)
call fQ(G4,GroupPickRandomUnit(Tj),$41304A57,"transmute")
call GroupClear(Tj)
call RemoveRect(Rx)
call RemoveLocation(Tb)
call DestroyBoolExpr(T4)
call fH(GetKillingUnit(),450)
call fK(GetKillingUnit(),450)
endif
endif
if TY==$49304838 then
if GetRandomInt(1,100)<=20 then
set T3=GetOwningPlayer(T2)
set T4=Condition(function e6)
set Tb=GetUnitLoc(Td)
set Rx=RectFromCenterSizeBJ(Tb,600.,600.)
set Tj=GetUnitsInRectMatching(Rx,T4)
call fQ(G4,GroupPickRandomUnit(Tj),$41304A57,"transmute")
call GroupClear(Tj)
call RemoveRect(Rx)
call RemoveLocation(Tb)
call DestroyBoolExpr(T4)
call fH(GetKillingUnit(),700)
call fK(GetKillingUnit(),700)
endif
endif
if TY==$49304944 then
if GetRandomInt(1,100)<=20 then
set T3=GetOwningPlayer(T2)
set T4=Condition(function e6)
set Tb=GetUnitLoc(Td)
set Rx=RectFromCenterSizeBJ(Tb,600.,600.)
set Tj=GetUnitsInRectMatching(Rx,T4)
call fQ(G4,GroupPickRandomUnit(Tj),$41304A57,"transmute")
call GroupClear(Tj)
call RemoveRect(Rx)
call RemoveLocation(Tb)
call DestroyBoolExpr(T4)
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetKillingUnitBJ()))/1000*2
call fH(GetKillingUnit(),Mt)
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetKillingUnitBJ()))/1000*2
call fK(GetKillingUnit(),Mt)
endif
endif
if TY==$49304956 then
call fH(T2,250)
call fK(T2,250)
endif
if TY==$4930385A then
if GetRandomInt(1,100)<=30 then
set Tb=GetUnitLoc(Td)
set Q4=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Q4,$4131344C)
call IssueImmediateOrder(Q4,"howlofterror")
call UnitApplyTimedLife(Q4,$42544C46,3)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TY==$49304630 then
if GetRandomInt(1,100)<=30 then
set Tb=GetUnitLoc(Td)
set Q4=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Q4,$4131354D)
call IssueImmediateOrder(Q4,"howlofterror")
call UnitApplyTimedLife(Q4,$42544C46,3)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TY==$49303646 or TY==$49304A51 then
if GetRandomInt(1,100)<=35 then
set Tb=GetUnitLoc(Td)
set Q4=CreateUnitAtLoc(G4,$6864756D,Tb,270)
call UnitAddAbility(Q4,$41313732)
call IssueImmediateOrder(Q4,"howlofterror")
call UnitApplyTimedLife(Q4,$42544C46,3)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TY==$4930484E then
call fJ(T2,150,500)
endif
if TY==$49304A33 then
call fJ(T2,50,500)
call fM(T2,50,500)
endif
if TY==$49304742 then
call fH(T2,50)
call fK(T2,50)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
if TY==$49304745 then
if GetRandomInt(1,100)<=30 then
call fS(T2,Td,$41305258,"carrionswarm")
endif
endif
if TY==$49304952 then
set Tb=GetUnitLoc(T2)
call fP(Tb,T2,300,.5,GetHeroStr(T2,true)*10,"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call RemoveLocation(Tb)
endif
if TY==$49304658 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303032,Tb,270),$42466967,30)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A49 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303559,Tb,270),$42466967,10)
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A4B then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E30355A,Tb,270),$42466967,3)
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304948 then
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303551,Tb,270),$42466967,15)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call fH(T2,.02*GetUnitState(T2,UNIT_STATE_MAX_LIFE))
call fK(T2,.02*GetUnitState(T2,UNIT_STATE_MAX_MANA))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A47 then
call fH(T2,1000)
call fK(T2,500)
if GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303558,Tb,270),$42466967,5)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",T2,"origin"))
call RemoveLocation(Tb)
endif
endif
if TY==$49304732 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303032,Tb,270),$42466967,60)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304730 then
if GetRandomInt(1,100)<=4 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303032,Tb,270),$42466967,120)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304B41 then
if GetRandomInt(1,100)<=8 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303032,Tb,270),$42466967,120)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304554 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",T2,"origin"))
call fH(T2,100)
endif
if TY==$49304345 then
if GetRandomInt(1,100)<=9 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303038,Tb,270),$42466967,40)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304843 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$68303338,Tb,270),$42544C46,3)
call RemoveLocation(Tb)
endif
if TY==$49304650 then
if GetRandomInt(1,100)<=4 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303438,Tb,270),$42466967,25)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A31 then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
set T6=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,700,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call GroupAddUnit(T6,Q4)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call RemoveLocation(Tb)
call DestroyGroup(Tj)
set T7=GroupPickRandomUnit(T6)
call UnitApplyTimedLifeBJ(35.,$42466967,T7)
call SetUnitOwner(T7,G4,true)
call DestroyGroup(T6)
set T7=null
endif
endif
if TY==$4930434C then
if GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
call fK(T2,GetUnitState(T2,UNIT_STATE_MANA)*.26)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"origin"))
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",Tb))
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303034,Tb,270),$42466967,40)
call RemoveLocation(Tb)
endif
endif
if TY==$4930364F then
call fH(T2,.003*GetUnitState(T2,UNIT_STATE_MAX_LIFE))
endif
if TY==$49304A48 then
call fH(T2,2000)
call fJ(T2,400,300)
endif
if TY==$49304A44 then
call fH(T2,400)
call fJ(T2,100,300)
endif
if TY==$4930494C and GetRandomInt(1,100)<=2 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$75303038,Tb,270),$42466967,40)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",T2,"origin"))
call fJ(T2,3000,300)
call fM(T2,1000,300)
call fH(T2,3000)
call fK(T2,1000)
call RemoveLocation(Tb)
endif
if TY==$49304A30 and GetRandomInt(1,100)<=1 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303553,Tb,270),$42466967,15)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",T2,"origin"))
call RemoveLocation(Tb)
endif
if TY==$49304953 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$68303541,Tb,270),$42544C46,3)
call RemoveLocation(Tb)
endif
if TY==$49304A38 then
call fH(T2,100)
call fK(T2,100)
endif
if TY==$49303753 then
call fH(T2,400)
endif
if TY==$4930434D then
call fH(T2,500)
endif
if TY==$49304449 then
call fH(T2,500)
endif
if TY==$49304B36 then
call fH(T2,1000)
endif
if TY==$49303649 then
call fH(T2,700)
endif
if TY==$49304331 then
set Tb=GetUnitLoc(Td)
call fP(Tb,T2,600,.5,400,"Abilities\\Weapons\\GyroCopter\\GyroCopterImpact.mdl")
call RemoveLocation(Tb)
endif
if TY==$49304258 then
if IsUnitType(Td,UNIT_TYPE_UNDEAD) then
call fK(T2,50)
call fH(T2,150)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",T2,"origin"))
endif
endif
if ee(T2,$49304A4A) then
if GetRandomInt(1,100)<=3 then
set Tb=GetUnitLoc(Td)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,600,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) and GetUnitState(Q4,UNIT_STATE_LIFE)>0 then
if GetUnitLevel(Q4)!=10 and Q4!=Td then
if GetUnitTypeId(Q4)==GetUnitTypeId(Td) then
set Ty=GetUnitLoc(Q4)
call KillUnit(Q4)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",Ty))
call RemoveLocation(Ty)
endif
endif
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
endif
if TY==$4930444E then
if IsUnitType(Td,UNIT_TYPE_UNDEAD) then
call fK(T2,200)
call fH(T2,500)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304B32 then
if IsUnitType(Td,UNIT_TYPE_UNDEAD) then
call fK(T2,700)
call fH(T2,3000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304253 then
if GetRandomInt(1,100)<=10 then
set Tb=GetUnitLoc(Td)
call UnitApplyTimedLife(CreateUnitAtLoc(G4,$6E303347,Tb,270),$42466967,30)
call RemoveLocation(Tb)
endif
endif
if TY==$49304A4C then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
set Th=GetHeroStr(T2,true)*10+GetHeroAgi(T2,true)*10+GetHeroInt(T2,true)*10
call fP(Tb,T2,300,.5,Th,"Abilities\\Spells\\Undead\\OrbOfDeath\\AnnihilationMissile.mdl")
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\OrbOfDeath\\AnnihilationMissile.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304A36 then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Td)
set Th=GetHeroStr(T2,true)*30+GetHeroAgi(T2,true)*30
call fP(Tb,T2,200,3,Th,"Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl")
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl",Tb))
call RemoveLocation(Tb)
endif
endif
if TY==$49304254 then
if GetRandomInt(1,100)<=2 then
call fH(T2,GetHeroStr(T2,true))
endif
endif
if TY==$49304A4A then
if GetRandomInt(1,100)<=1 then
call fH(T2,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,T2)/100*4)
endif
endif
if TY==$49304941 then
if GetRandomInt(1,2)<=1 then
set Tb=GetUnitLoc(Td)
call fK(T2,100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",T2,"origin"))
call fP(Tb,T2,300,3,0,"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
endif
endif
if TY==$49304242 then
call fH(T2,50)
endif
if TY==$49304243 then
if GetRandomInt(1,100)<=35 then
set Tb=GetUnitLoc(T2)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,400,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(T2,Q4,50)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl",Tb))
call RemoveLocation(Tb)
call DestroyGroup(Tj)
endif
endif
if TY==$49304733 then
call fH(T2,.002*GetUnitState(T2,UNIT_STATE_MAX_LIFE))
endif
if TY==$49304734 and GetRandomInt(1,100)<=1 then
call fH(T2,.1*GetUnitState(T2,UNIT_STATE_MAX_LIFE))
endif
if TY==$49304850 then
call fH(T2,GetHeroStr(T2,true))
call fK(T2,GetHeroInt(T2,true))
endif
if TY==$4930484D and GetRandomInt(1,100)<=20 then
call fH(T2,GetHeroStr(T2,true))
call fK(T2,GetHeroInt(T2,true))
endif
if TY==$49303637 then
if GetRandomInt(1,100)<=80 then
call fK(T2,100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49303847 then
if GetRandomInt(1,100)<=5 then
call fK(T2,500)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$4930384F then
if GetRandomInt(1,100)<=5 then
call fK(T2,1000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",T2,"chest"))
endif
endif
if TY==$49304259 or TY==$49303834 or TY==$49303837 or TY==$49304436 or TY==$49304834 or TY==$49304944 or TY==$49304838 or TY==$49304845 or TY==$49304845 then
call UnitAddItemById(T2,$49304937)
endif
if TY==$49304946 then
call UnitAddItemById(T2,$49304B43)
endif
if TY==$49304B31 then
call UnitAddItemById(T2,$49304B44)
endif
if TY==$4930424D then
if GetRandomInt(1,100)<=15 then
set Tb=GetUnitLoc(T2)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,500,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitAlly(Q4,G4) then
set Ty=GetUnitLoc(Q4)
call fK(Q4,60)
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",Ty))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call RemoveLocation(Tb)
call RemoveLocation(Ty)
call DestroyGroup(Tj)
endif
endif
if TY==$49303432 then
call fH(T2,100)
call fK(T2,100)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
if TY==$49304652 then
call fH(T2,200)
call fK(T2,200)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",T2,"chest"))
endif
if TY==$49304651 then
if GetRandomInt(1,100)<=50 then
call fH(T2,100)
endif
endif
endloop
endif
set T2=null
set Td=null
set Q4=null
set T7=null
set Tj=null
set T6=null
call DestroyGroup(Tj)
call DestroyGroup(T6)
call RemoveLocation(Tb)
set G4=null
endfunction
function tn takes nothing returns nothing
set T1=CreateTrigger()
call TriggerAddAction(T1,function tm)
endfunction
function to takes nothing returns nothing
call UnitShareVision(GetLastCreatedUnit(),GetEnumPlayer(),true)
endfunction
function tp takes nothing returns nothing
local unit TU=GetTriggerUnit()
local unit Td=GetSpellTargetUnit()
local integer TZ=GetSpellAbilityId()
local unit Q4
local unit T7
local group Tj
local group T6
local player G4=GetOwningPlayer(TU)
local location Tb
local location Ty
local location T9=GetSpellTargetLoc()
local real H9=0
local real Th=0
local integer Sj=0
if TZ==$41303658 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303443))
elseif TZ==$41303656 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303441))
elseif TZ==$41303657 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303442))
elseif TZ==$41304535 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303856))
elseif TZ==$4130364E then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303439))
elseif TZ==$41304252 then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303747))
endif
if TZ==$41313832 then
set QE=GetUnitLoc(GetTriggerUnit())
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303650))
call CreateNUnitsAtLoc(1,$68303345,GetOwningPlayer(GetTriggerUnit()),QE,GetRandomDirectionDeg())
call GroupAddUnitSimple(GetLastCreatedUnit(),Md)
call RemoveLocation(QE)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function to)
endif
if TZ==$41304935 or TZ==$41305A5A or TZ==$41313643 or TZ==$41314846 then
if IsUnitType(Td,UNIT_TYPE_HERO)==false and IsUnitType(Td,UNIT_TYPE_MECHANICAL)==false and GetUnitLevel(Td)!=10 and GetOwningPlayer(Td)!=Player(PLAYER_NEUTRAL_PASSIVE) and IsPlayerEnemy(GetOwningPlayer(TU),GetOwningPlayer(Td))==true then
call UnitRemoveAbilityBJ($41304641,Td)
if TZ==$41304935 then
call UnitApplyTimedLifeBJ(23.,$42466967,Td)
elseif TZ==$41305A5A then
call UnitApplyTimedLifeBJ(16.,$42466967,Td)
elseif TZ==$41313643 or TZ==$41314846 then
call UnitApplyTimedLifeBJ(25.,$42466967,Td)
endif
call SetUnitOwner(Td,GetOwningPlayer(TU),true)
if OB[GetConvertedPlayerId(GetOwningPlayer(TU))]>0 then
call UnitAddAbilityBJ($41304B59,Td)
call SetUnitAbilityLevelSwapped($41304B59,Td,OB[GetConvertedPlayerId(GetOwningPlayer(TU))])
endif
endif
endif
if TZ==$41303538 then
set Tb=GetUnitLoc(TU)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,1000,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitType(Q4,UNIT_TYPE_UNDEAD) and IsUnitEnemy(Q4,G4) then
if GetUnitLevel(Q4)<=5 then
call e8(TU,Q4,100000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl",Q4,"origin"))
endif
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
if TZ==$4130584D then
set Tb=GetUnitLoc(TU)
set H9=GetUnitState(TU,UNIT_STATE_MANA)*10
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,1000,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(TU,Q4,H9)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl",Q4,"origin"))
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
if TZ==$41313950 or TZ==$41305135 or TZ==$41314132 or TZ==$41313956 then
if ee(TU,$49304849) or ee(TU,$49304941) or ee(TU,$49304A39) or ee(TU,$49304A4F) then
if GetUnitAbilityLevel(TU,$41313957)!=0 then
set Sj=GetUnitAbilityLevel(TU,$41313957)
call UnitRemoveAbility(TU,$41313957)
call UnitAddAbility(TU,$41313957)
call SetUnitAbilityLevel(TU,$41313957,Sj)
endif
endif
endif
if TZ==$41305659 then
set Tb=GetUnitLoc(TU)
call SetItemCharges(CreateItemLoc($49304135,Tb),1)
call RemoveLocation(Tb)
endif
if TZ==$41305859 then
call fH(TU,GetUnitState(TU,UNIT_STATE_MANA))
endif
if ee(TU,$49304830) then
if GetRandomInt(1,100)<=30 then
call fK(TU,GetHeroInt(TU,true))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TU,"chest"))
endif
endif
if TZ==$41304944 then
set Tb=GetUnitLoc(TU)
set Th=GetUnitState(TU,UNIT_STATE_MANA)*.5
call e9(TU,Tb,800,Th,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call RemoveLocation(Tb)
endif
if TZ==$41304B52 or TZ==$41304556 or TZ==$41304636 or TZ==$41304632 or TZ==$4130455A or TZ==$41304651 or TZ==$4130575A or TZ==$41304630 or TZ==$41304633 or TZ==$41304634 or TZ==$41304635 or TZ==$41304631 then
if ee(TU,$4930424F) then
call fH(TU,GetHeroInt(TU,true))
endif
endif
if TZ==$41305455 then
if ee(TU,$49304344) then
call fS(TU,Td,$41304B46,"chainlightning")
endif
if ee(TU,$49304955) then
call fS(TU,Td,$41314A4E,"chainlightning")
endif
if ee(TU,$49303930) then
if GetRandomInt(1,100)<=50 then
call fQ(G4,TU,$41304542,"bloodlust")
endif
endif
if ee(TU,$49304558) then
if GetRandomInt(1,100)<=20 then
call fQ(G4,Td,$41304F50,"frostnova")
endif
endif
endif
if TZ==$41304B53 then
if RectContainsUnit(Gd,TU)==false then
call UnitRemoveBuffBJ($4276756C,TU)
set Tb=GetUnitLoc(TU)
set Q4=CreateUnitAtLoc(G4,$68303159,Tb,270)
call UnitAddItemById(Q4,$4930434F)
call UnitUseItemTarget(Q4,GetItemOfTypeFromUnitBJ(Q4,$4930434F),TU)
call UnitApplyTimedLife(Q4,$42544C46,5)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TZ==$41313538 then
if RectContainsUnit(Gd,TU)==false then
call UnitRemoveBuffBJ($4276756C,TU)
set Tb=GetUnitLoc(TU)
set Q4=CreateUnitAtLoc(G4,$68303159,Tb,270)
call UnitAddItemById(Q4,$49303244)
call UnitUseItemTarget(Q4,GetItemOfTypeFromUnitBJ(Q4,$49303244),TU)
call UnitApplyTimedLife(Q4,$42544C46,5)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TZ==$41314834 then
if RectContainsUnit(Gd,TU)==false then
call UnitRemoveBuffBJ($4276756C,TU)
set Tb=GetUnitLoc(TU)
set Q4=CreateUnitAtLoc(G4,$68303159,Tb,270)
call UnitAddItemById(Q4,$49304B45)
call UnitUseItemTarget(Q4,GetItemOfTypeFromUnitBJ(Q4,$49304B45),TU)
call UnitApplyTimedLife(Q4,$42544C46,5)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TZ==$41314646 then
if RectContainsUnit(Gd,TU)==false then
call UnitRemoveBuffBJ($4276756C,TU)
set Tb=GetUnitLoc(TU)
set Q4=CreateUnitAtLoc(G4,$68303159,Tb,270)
call UnitAddItemById(Q4,$49304B42)
call UnitUseItemTarget(Q4,GetItemOfTypeFromUnitBJ(Q4,$49304B42),TU)
call UnitApplyTimedLife(Q4,$42544C46,5)
call RemoveLocation(Tb)
set Q4=null
endif
endif
if TZ==$41314932 then
if RectContainsUnit(Gd,TU)==false then
call UnitRemoveBuffBJ($4276756C,TU)
set Tb=GetUnitLoc(TU)
set Q4=CreateUnitAtLoc(G4,$68303159,Tb,270)
call UnitAddItemById(Q4,$49304B46)
call UnitUseItemTarget(Q4,GetItemOfTypeFromUnitBJ(Q4,$49304B46),TU)
call UnitApplyTimedLife(Q4,$42544C46,5)
set Q4=null
call fK(TU,GetUnitState(TU,UNIT_STATE_MAX_MANA)*.3)
call fH(TU,GetUnitState(TU,UNIT_STATE_MAX_LIFE)*.2)
call fT(G4,Tb,$41314933,"silence")
call fR(G4,TU,600,$41314934,"curse")
call RemoveLocation(Tb)
endif
endif
if TZ==$41304A59 then
call fK(TU,GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*.25)
call fH(TU,GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*.25)
call SetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(GetOwningPlayer(TU),PLAYER_STATE_RESOURCE_GOLD)*.75))
endif
if TZ==$41313557 then
call fK(TU,GetUnitState(TU,UNIT_STATE_MAX_MANA)*.3)
call fH(TU,GetUnitState(TU,UNIT_STATE_MAX_LIFE)*.2)
endif
if TZ==$41304A58 or TZ==$41305150 then
if TZ==$41304A58 then
set H9=GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*.4
set Sj=R2I(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*.6)
else
set H9=GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*4
set Sj=R2I(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)*4)
endif
call e7(TU,-R2I(GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)-Sj),255,255,0)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,T9,400,null)
loop
set Q4=FirstOfGroup(Tj)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(TU,Q4,H9)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
endif
if TZ==$41304430 then
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030))
if Sj>=5 then
if Sj==5 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303030))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030),Sj-5)
endif
call UnitAddItemById(TU,$49303033)
endif
endif
if TZ==$4131464C then
call fI(TU,GetUnitState(Td,UNIT_STATE_MAX_LIFE)/100*5)
call fL(TU,GetUnitState(Td,UNIT_STATE_MAX_MANA)/100*5)
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030))
if Sj>=10 then
if Sj==10 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303030))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303031))
if Sj>=10 then
if Sj==10 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303031))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303031),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303032))
if Sj>=10 then
if Sj==10 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303032))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303032),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
endif
if TZ==$41314A39 then
call fH(TU,0-GetUnitState(Td,UNIT_STATE_MAX_LIFE)/100*5)
call fK(TU,0-GetUnitState(Td,UNIT_STATE_MAX_MANA)/100*5)
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030))
if Sj>=5 then
if Sj==5 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303030))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303030),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303031))
if Sj>=5 then
if Sj==5 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303031))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303031),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
set Sj=GetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303032))
if Sj>=5 then
if Sj==5 then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303032))
else
call SetItemCharges(GetItemOfTypeFromUnitBJ(TU,$49303032),Sj-10)
endif
call UnitAddItemById(TU,$49303033)
endif
endif
if TZ==$41314A34 then
set Th=(GetHeroStr(TU,true)+GetHeroAgi(TU,true)+GetHeroInt(TU,true))*50+25000
call e8(TU,Td,Th)
endif
if TZ==$41314A35 then
set Tb=GetUnitLoc(TU)
set Th=(GetHeroStr(TU,true)+GetHeroAgi(TU,true)+GetHeroInt(TU,true))*30+50000
set Q4=CreateUnitAtLoc(G4,$65303051,Tb,270)
call SetUnitVertexColorBJ(Q4,100,100,100,90.)
call UnitApplyTimedLife(Q4,$42544C46,2)
call IssueImmediateOrder(Q4,"thunderclap")
call e9(TU,Tb,1000,Th,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call RemoveLocation(Tb)
endif
if TZ==$41314A49 then
set Tb=GetUnitLoc(Td)
set Q4=CreateUnitAtLoc(G4,$68303539,Tb,270)
call UnitApplyTimedLife(Q4,$42544C46,5)
call IssueTargetOrder(Q4,"attack",Q4)
call RemoveLocation(Tb)
set Q4=null
endif
if TZ==$41304941 then
if GetUnitLevel(Td)<5 then
call SetUnitExploded(Td,true)
endif
endif
if TZ==$41313641 then
if GetUnitLevel(Td)<5 and GetRandomInt(1,100)<=5 then
call SetUnitExploded(Td,true)
endif
endif
if TZ==$41313644 then
if GetUnitLevel(Td)<5 and GetRandomInt(1,100)<=10 then
call SetUnitExploded(Td,true)
endif
endif
if TZ==$4131484A then
if GetUnitLevel(Td)<5 and GetRandomInt(1,100)<=50 then
call SetUnitExploded(Td,true)
endif
endif
if ee(TU,$49303947) then
if GetRandomInt(1,100)<=5 then
call fK(TU,GetHeroInt(TU,true)*1)
endif
endif
if ee(TU,$49303757) then
if GetRandomInt(1,100)<=5 then
call fK(TU,GetHeroInt(TU,true)*1)
endif
endif
if ee(TU,$49304443) then
if GetRandomInt(1,100)<=5 then
call fK(TU,GetHeroInt(TU,true)*2)
endif
endif
if ee(TU,$49304B34) then
if GetRandomInt(1,100)<=5 then
call fK(TU,GetHeroInt(TU,true)*10)
endif
endif
if ee(TU,$49304334) then
if GetRandomInt(1,100)<=5 then
call fK(TU,1000)
endif
endif
if TZ==$41303054 then
if ee(TU,$49303936) or ee(TU,$49304559) then
call fT(G4,Tb,$4130454C,"inferno")
endif
endif
if TZ==$4130424C then
if RectContainsUnit(Ce,TU) or RectContainsUnit(GG,TU) or RectContainsUnit(Cf,TU) or RectContainsUnit(GV,TU) or RectContainsUnit(GW,TU) or RectContainsUnit(Cg,TU) then
call RemoveItem(GetItemOfTypeFromUnitBJ(TU,$49303657))
call UnitAddItemById(TU,$49303658)
endif
endif
if TZ==$41304857 or TZ==$41305542 or TZ==$41314844 then
set Tb=GetUnitLoc(TU)
set Tj=CreateGroup()
set H9=.25
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,1000,null)
loop
set Q4=FirstOfGroup(Tj)
set Ty=GetUnitLoc(Q4)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
if GetUnitLevel(Q4)!=10 then
call e8(TU,Q4,GetUnitState(Q4,UNIT_STATE_MAX_LIFE)*H9)
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",Ty))
endif
call RemoveLocation(Ty)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
if TZ==$41304852 then
set Tb=GetUnitLoc(TU)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,1000,null)
loop
set Q4=FirstOfGroup(Tj)
set Ty=GetUnitLoc(Q4)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
if GetUnitLevel(Q4)!=10 then
call e8(TU,Q4,GetUnitState(Q4,UNIT_STATE_MAX_LIFE)*.4)
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",Ty))
endif
call RemoveLocation(Ty)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
if TZ==$41313449 then
set Tb=GetUnitLoc(TU)
set Tj=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(Tj,Tb,1000,null)
loop
set Q4=FirstOfGroup(Tj)
set Ty=GetUnitLoc(Q4)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
if GetUnitLevel(Q4)!=10 then
call e8(TU,Q4,GetUnitState(Q4,UNIT_STATE_MAX_LIFE)*.15)
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",Ty))
endif
call RemoveLocation(Ty)
endif
call GroupRemoveUnit(Tj,Q4)
set Q4=null
endloop
call DestroyGroup(Tj)
call RemoveLocation(Tb)
endif
if TZ==$41304858 then
call e8(TU,Td,GetPlayerState(G4,PLAYER_STATE_RESOURCE_GOLD)/2)
endif
call RemoveLocation(T9)
set T9=null
set TU=null
set Td=null
set Q4=null
set T7=null
set Tj=null
set T6=null
call DestroyGroup(Tj)
call DestroyGroup(T6)
set Tb=null
call RemoveLocation(Tb)
set G4=null
endfunction
function tq takes nothing returns nothing
set T8=CreateTrigger()
call TriggerAddAction(T8,function tp)
endfunction
function tr takes nothing returns nothing
set MP=40
endfunction
function ts takes nothing returns nothing
set UB=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(UB,PH)
call TriggerAddAction(UB,function tr)
endfunction
function tt takes nothing returns boolean
if not (IsUnitInGroup(GetTriggerUnit(),Ir)==true) then
return false
endif
return true
endfunction
function tu takes nothing returns nothing
local integer G4
local integer H9=0
set UD=GetOwningPlayer(GetTriggerUnit())
set G4=GetConvertedPlayerId(UD)
set MD[G4]=40
set MZ[G4]=0
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set H9=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),bj_forLoopAIndex))
if H9>0 then
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=10
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if H9==SG[bj_forLoopBIndex] then
set MZ[G4]=MZ[G4]+1
elseif H9==SG[bj_forLoopBIndex+100] then
set MZ[G4]=MZ[G4]+2
elseif H9==SG[bj_forLoopBIndex+200] then
set MZ[G4]=MZ[G4]+3
elseif H9==SG[bj_forLoopBIndex+300] then
set MZ[G4]=MZ[G4]+4
elseif H9==SG[bj_forLoopBIndex+400] then
set MZ[G4]=MZ[G4]+5
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set MD[G4]=40
call tr()
endfunction
function tv takes nothing returns nothing
set UC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UC,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerRegisterEnterRectSimple(UC,EQ)
call TriggerAddCondition(UC,Condition(function tt))
call TriggerAddAction(UC,function tu)
endfunction
function tw takes nothing returns boolean
if not (GetTriggerUnit()==QP) then
return false
endif
return true
endfunction
function tx takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303346) then
return false
endif
return true
endfunction
function ty takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true) then
return false
endif
return true
endfunction
function tz takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==4) then
return false
endif
return true
endfunction
function t0 takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetKillingUnitBJ()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function t1 takes nothing returns boolean
if not (GetUnitTypeId(GetKillingUnitBJ())==$48303031) then
return false
endif
return true
endfunction
function t2 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303244) then
return false
endif
return true
endfunction
function t3 takes nothing returns boolean
if not (IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function t4 takes nothing returns nothing
if t3() then
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit()))/20+0
call fH(GetEnumUnit(),Mt)
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit()))/20+0
call fK(GetEnumUnit(),Mt)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function t5 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30355A) then
return false
endif
return true
endfunction
function t6 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303555) then
return false
endif
return true
endfunction
function t7 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303051) then
return false
endif
return true
endfunction
function t8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303051) then
return false
endif
return true
endfunction
function t9 takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function uB takes nothing returns nothing
if t9() then
call UnitShareVisionBJ(true,GetEnumUnit(),GetOwningPlayer(GetKillingUnitBJ()))
else
endif
endfunction
function uC takes nothing returns boolean
if not (GetRandomInt(1,10)<=1) then
return false
endif
return true
endfunction
function uD takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304A50)==true) then
return false
endif
return true
endfunction
function uE takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function uF takes nothing returns nothing
if uE() then
call UnitShareVisionBJ(true,GetEnumUnit(),GetOwningPlayer(GetKillingUnitBJ()))
else
endif
endfunction
function uG takes nothing returns boolean
if not (GetRandomInt(1,100)<=1) then
return false
endif
return true
endfunction
function uH takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304A41)==true) then
return false
endif
return true
endfunction
function uI takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830304A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303130 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830314C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830305A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303257 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303337 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303056 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303259 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303057 then
return true
endif
return false
endfunction
function uJ takes nothing returns boolean
if not uI() then
return false
endif
return true
endfunction
function uK takes nothing returns nothing
if tw() then
call RemoveUnit(GetTriggerUnit())
call DestroyTextTag(TI)
else
endif
if tx() then
call GroupRemoveUnitSimple(GetTriggerUnit(),Og[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
endif
if t2() then
if tz() then
if ty() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
if t1() then
set RX=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304131,RX)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(GetLastCreatedItem())+KI[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call RemoveLocation(RX)
else
if t0() then
set RX=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304130,RX)
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(GetLastCreatedItem())+KI[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
call RemoveLocation(RX)
else
endif
endif
set RX=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),RX,bj_UNIT_FACING)
call RemoveLocation(RX)
else
endif
if t5() then
set QE=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(400.,QE),function t4)
set Mt=(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)+GetHeroStatBJ(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true)+GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true))*10
call e9(GetTriggerUnit(),QE,400,Mt,"Abilities\\Weapons\\GreenDragonMissile\\GreenDragonMissile.mdl")
call RemoveLocation(QE)
return
else
endif
if t6() then
call SetUnitLifePercentBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetUnitLifePercent(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+2.)
call SetUnitManaPercentBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetUnitLifePercent(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+2.)
call AddSpecialEffectTargetUnitBJ("origin",Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
return
else
endif
if t7() then
call RemoveUnit(GetTriggerUnit())
return
else
endif
if t8() then
set UF=Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set Lf=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,UF)/100.*2.
call fH(UF,Lf)
set Lf=GetUnitStateSwap(UNIT_STATE_MAX_MANA,UF)/100.*2.
call fK(UF,Lf)
return
else
endif
if uD() then
if uC() then
call AddSpecialEffectTargetUnitBJ("overhead",GetKillingUnitBJ(),"Abilities\\Spells\\Other\\Andt\\Andt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(ND,function uB)
else
endif
else
endif
if uH() then
if uG() then
call AddSpecialEffectTargetUnitBJ("overhead",GetKillingUnitBJ(),"Abilities\\Spells\\Other\\Andt\\Andt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(ND,function uF)
else
endif
else
endif
if uJ() then
call RemoveUnit(GetTriggerUnit())
return
else
endif
endfunction
function uL takes nothing returns nothing
set UE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(UE,function uK)
endfunction
function uM takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303335) then
return false
endif
return true
endfunction
function uN takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303048) then
return false
endif
return true
endfunction
function uO takes nothing returns boolean
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))<=10) then
return false
endif
return true
endfunction
function uP takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Player(10) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(11) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) then
return true
endif
return false
endfunction
function uQ takes nothing returns boolean
if not uP() then
return false
endif
return true
endfunction
function uR takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303555 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303558 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303559 then
return true
endif
return false
endfunction
function uS takes nothing returns boolean
if not uR() then
return false
endif
return true
endfunction
function uT takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303143) then
return false
endif
return true
endfunction
function uU takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)>14) then
return false
endif
return true
endfunction
function uV takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_FOOD_USED)>6) then
return false
endif
return true
endfunction
function uW takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])==$4E303030) then
return false
endif
return true
endfunction
function uX takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$68303244 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830314A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303347 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303147 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303148 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303237 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303149 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303059 then
return true
endif
return false
endfunction
function uY takes nothing returns boolean
if not uX() then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function uZ takes nothing returns boolean
if GetUnitTypeId(GetEnumUnit())==$68303059 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303131 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303132 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303133 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303134 then
return true
endif
return false
endfunction
function ua takes nothing returns boolean
if not (IsUnitOwnedByPlayer(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not uZ() then
return false
endif
return true
endfunction
function ub takes nothing returns nothing
if ua() then
set Ku[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=Ku[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
endif
endfunction
function uc takes nothing returns boolean
if not (Ku[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>4) then
return false
endif
return true
endfunction
function ud takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303059) then
return false
endif
return true
endfunction
function ue takes nothing returns boolean
if GetUnitTypeId(GetEnumUnit())==$68303044 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303049 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303047 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830304A then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303337 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303257 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830305A then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303048 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$6830314C then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303130 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303045 then
return true
endif
return false
endfunction
function uf takes nothing returns boolean
if not (IsUnitOwnedByPlayer(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not ue() then
return false
endif
return true
endfunction
function ug takes nothing returns nothing
if uf() then
set Kc[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=Kc[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]+1
else
endif
endfunction
function uh takes nothing returns boolean
if not (Kc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>10) then
return false
endif
return true
endfunction
function ui takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303044) then
return false
endif
return true
endfunction
function uj takes nothing returns nothing
if uM() then
call UnitApplyTimedLifeBJ(20.,$42544C46,GetTriggerUnit())
else
endif
if uN() then
call SetUnitVertexColorBJ(GetTriggerUnit(),80.,100,80.,35.)
else
endif
if uQ() then
call TriggerRegisterUnitEvent(Tx,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(T1,GetTriggerUnit(),EVENT_UNIT_DEATH)
else
if uO() then
call TriggerRegisterUnitEvent(TT,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(T8,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
else
endif
endif
if uS() then
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,50.)
return
else
endif
if uT() then
call SetUnitTimeScalePercent(GetTriggerUnit(),20.)
call IssueImmediateOrder(GetTriggerUnit(),"fanofknives")
call SetUnitAnimation(GetTriggerUnit(),"death")
call UnitApplyTimedLifeBJ(1.,$42544C46,GetTriggerUnit())
return
else
endif
if uY() then
if uW() then
if uU() then
call KillUnit(GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Вы превысили лимит возможных техно-юнитов и зданий!|r")
else
endif
else
if uV() then
call KillUnit(GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Вы превысили лимит возможных техно-юнитов и зданий!|r")
else
endif
endif
return
else
endif
if ud() then
set Ku[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerAll(GetTriggerPlayer()),function ub)
if uc() then
call KillUnit(GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Вы не можете построить больше 4 электробашен!|r")
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Построено электробашен: |r"+I2S(Ku[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
return
else
endif
if ui() then
set Kc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=0
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsOfPlayerAll(GetOwningPlayer(GetTriggerUnit())),function ug)
if uh() then
call KillUnit(GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Вы не можете построить больше 10 баррикад!|r")
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Построено баррикад: |r"+I2S(Kc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
endif
return
else
endif
endfunction
function uk takes nothing returns nothing
set UH=CreateTrigger()
call TriggerRegisterEnterRectSimple(UH,GetEntireMapRect())
call TriggerAddAction(UH,function uj)
endfunction
function ul takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$49304A44 or GetItemTypeId(GetManipulatedItem())==$49304A47 or GetItemTypeId(GetManipulatedItem())==$4930434D or GetItemTypeId(GetManipulatedItem())==$49303051 or GetItemTypeId(GetManipulatedItem())==$49303052 or GetItemTypeId(GetManipulatedItem())==$49303249 or GetItemTypeId(GetManipulatedItem())==$49303053 or GetItemTypeId(GetManipulatedItem())==$4930315A or GetItemTypeId(GetManipulatedItem())==$49303230 or GetItemTypeId(GetManipulatedItem())==$49303231 or GetItemTypeId(GetManipulatedItem())==$49303232 or GetItemTypeId(GetManipulatedItem())==$49303233 or GetItemTypeId(GetManipulatedItem())==$49303234 or GetItemTypeId(GetManipulatedItem())==$49303233 or GetItemTypeId(GetManipulatedItem())==$49303250 or GetItemTypeId(GetManipulatedItem())==$49303251 or GetItemTypeId(GetManipulatedItem())==$49303252 or GetItemTypeId(GetManipulatedItem())==$49303253 or GetItemTypeId(GetManipulatedItem())==$49303343 or GetItemTypeId(GetManipulatedItem())==$49303344 or GetItemTypeId(GetManipulatedItem())==$49303345 or GetItemTypeId(GetManipulatedItem())==$4930334B or GetItemTypeId(GetManipulatedItem())==$4930334C or GetItemTypeId(GetManipulatedItem())==$49303444 or GetItemTypeId(GetManipulatedItem())==$49303445 or GetItemTypeId(GetManipulatedItem())==$49303446 or GetItemTypeId(GetManipulatedItem())==$49303447 or GetItemTypeId(GetManipulatedItem())==$4930344A or GetItemTypeId(GetManipulatedItem())==$4930344E or GetItemTypeId(GetManipulatedItem())==$4930344F or GetItemTypeId(GetManipulatedItem())==$49303450 or GetItemTypeId(GetManipulatedItem())==$49303451 or GetItemTypeId(GetManipulatedItem())==$49303452 or GetItemTypeId(GetManipulatedItem())==$49303453 or GetItemTypeId(GetManipulatedItem())==$49303454 or GetItemTypeId(GetManipulatedItem())==$49303456 or GetItemTypeId(GetManipulatedItem())==$49303457 or GetItemTypeId(GetManipulatedItem())==$49303553 or GetItemTypeId(GetManipulatedItem())==$49303630 or GetItemTypeId(GetManipulatedItem())==$49303753 or GetItemTypeId(GetManipulatedItem())==$49303754 or GetItemTypeId(GetManipulatedItem())==$49303832 or GetItemTypeId(GetManipulatedItem())==$49303833 or GetItemTypeId(GetManipulatedItem())==$49303835 or GetItemTypeId(GetManipulatedItem())==$49303836 or GetItemTypeId(GetManipulatedItem())==$49303837 or GetItemTypeId(GetManipulatedItem())==$49303839 or GetItemTypeId(GetManipulatedItem())==$49303841 or GetItemTypeId(GetManipulatedItem())==$49303842 or GetItemTypeId(GetManipulatedItem())==$49303843 or GetItemTypeId(GetManipulatedItem())==$49303844 or GetItemTypeId(GetManipulatedItem())==$49303845 or GetItemTypeId(GetManipulatedItem())==$49303846 or GetItemTypeId(GetManipulatedItem())==$49303847 or GetItemTypeId(GetManipulatedItem())==$49303848 or GetItemTypeId(GetManipulatedItem())==$49303849 or GetItemTypeId(GetManipulatedItem())==$4930384A or GetItemTypeId(GetManipulatedItem())==$4930384B or GetItemTypeId(GetManipulatedItem())==$4930384C or GetItemTypeId(GetManipulatedItem())==$4930384D or GetItemTypeId(GetManipulatedItem())==$4930384E or GetItemTypeId(GetManipulatedItem())==$4930384F or GetItemTypeId(GetManipulatedItem())==$49303853 or GetItemTypeId(GetManipulatedItem())==$49303854 or GetItemTypeId(GetManipulatedItem())==$49303855 or GetItemTypeId(GetManipulatedItem())==$49303859 or GetItemTypeId(GetManipulatedItem())==$49303757 or GetItemTypeId(GetManipulatedItem())==$49303830 or GetItemTypeId(GetManipulatedItem())==$49303946 or GetItemTypeId(GetManipulatedItem())==$49303947 or GetItemTypeId(GetManipulatedItem())==$49304144 or GetItemTypeId(GetManipulatedItem())==$49304147 or GetItemTypeId(GetManipulatedItem())==$49304149 or GetItemTypeId(GetManipulatedItem())==$49303955 or GetItemTypeId(GetManipulatedItem())==$4930414C or GetItemTypeId(GetManipulatedItem())==$4930414D or GetItemTypeId(GetManipulatedItem())==$4930414E or GetItemTypeId(GetManipulatedItem())==$4930414F or GetItemTypeId(GetManipulatedItem())==$49304150 or GetItemTypeId(GetManipulatedItem())==$49304154 or GetItemTypeId(GetManipulatedItem())==$49304158 or GetItemTypeId(GetManipulatedItem())==$49304159 or GetItemTypeId(GetManipulatedItem())==$49304236 or GetItemTypeId(GetManipulatedItem())==$49304237 or GetItemTypeId(GetManipulatedItem())==$49304152 or GetItemTypeId(GetManipulatedItem())==$49304238 or GetItemTypeId(GetManipulatedItem())==$49304239 or GetItemTypeId(GetManipulatedItem())==$49304241 or GetItemTypeId(GetManipulatedItem())==$49304249 or GetItemTypeId(GetManipulatedItem())==$49304258 or GetItemTypeId(GetManipulatedItem())==$49304343 or GetItemTypeId(GetManipulatedItem())==$4930434D or GetItemTypeId(GetManipulatedItem())==$49304352 or GetItemTypeId(GetManipulatedItem())==$49304353 or GetItemTypeId(GetManipulatedItem())==$49304358 or GetItemTypeId(GetManipulatedItem())==$49304359 or GetItemTypeId(GetManipulatedItem())==$4930435A or GetItemTypeId(GetManipulatedItem())==$49304430 or GetItemTypeId(GetManipulatedItem())==$49304435 or GetItemTypeId(GetManipulatedItem())==$49304436 or GetItemTypeId(GetManipulatedItem())==$49304437 or GetItemTypeId(GetManipulatedItem())==$49304438 or GetItemTypeId(GetManipulatedItem())==$49304439 or GetItemTypeId(GetManipulatedItem())==$49304441 or GetItemTypeId(GetManipulatedItem())==$49304443 or GetItemTypeId(GetManipulatedItem())==$49304444 or GetItemTypeId(GetManipulatedItem())==$49304445 or GetItemTypeId(GetManipulatedItem())==$49304446 or GetItemTypeId(GetManipulatedItem())==$49304447 or GetItemTypeId(GetManipulatedItem())==$49304449 or GetItemTypeId(GetManipulatedItem())==$4930444A or GetItemTypeId(GetManipulatedItem())==$4930444B or GetItemTypeId(GetManipulatedItem())==$4930444C or GetItemTypeId(GetManipulatedItem())==$4930444D or GetItemTypeId(GetManipulatedItem())==$4930444E or GetItemTypeId(GetManipulatedItem())==$4930424B or GetItemTypeId(GetManipulatedItem())==$49304647 or GetItemTypeId(GetManipulatedItem())==$4930464C or GetItemTypeId(GetManipulatedItem())==$4930464D or GetItemTypeId(GetManipulatedItem())==$4930464E or GetItemTypeId(GetManipulatedItem())==$49304658 or GetItemTypeId(GetManipulatedItem())==$4930465A or GetItemTypeId(GetManipulatedItem())==$49304659 or GetItemTypeId(GetManipulatedItem())==$49304730 or GetItemTypeId(GetManipulatedItem())==$49304732 or GetItemTypeId(GetManipulatedItem())==$49304733 or GetItemTypeId(GetManipulatedItem())==$49304734 or GetItemTypeId(GetManipulatedItem())==$49304735 or GetItemTypeId(GetManipulatedItem())==$49304736 or GetItemTypeId(GetManipulatedItem())==$49304737 or GetItemTypeId(GetManipulatedItem())==$49304738 or GetItemTypeId(GetManipulatedItem())==$49304930 or GetItemTypeId(GetManipulatedItem())==$49304931 or GetItemTypeId(GetManipulatedItem())==$49304932 or GetItemTypeId(GetManipulatedItem())==$49303649 or GetItemTypeId(GetManipulatedItem())==$4930364F or GetItemTypeId(GetManipulatedItem())==$49303655 or GetItemTypeId(GetManipulatedItem())==$49303758 or GetItemTypeId(GetManipulatedItem())==$4930375A or GetItemTypeId(GetManipulatedItem())==$4930414A or GetItemTypeId(GetManipulatedItem())==$49304156 or GetItemTypeId(GetManipulatedItem())==$4930415A or GetItemTypeId(GetManipulatedItem())==$49304230 or GetItemTypeId(GetManipulatedItem())==$49304231 or GetItemTypeId(GetManipulatedItem())==$49304232 or GetItemTypeId(GetManipulatedItem())==$49304A53 or GetItemTypeId(GetManipulatedItem())==$49304A54 or GetItemTypeId(GetManipulatedItem())==$49304A55 or GetItemTypeId(GetManipulatedItem())==$49304A56 or GetItemTypeId(GetManipulatedItem())==$49304A57 or GetItemTypeId(GetManipulatedItem())==$49304A58 or GetItemTypeId(GetManipulatedItem())==$49304A59 or GetItemTypeId(GetManipulatedItem())==$49304A5A or GetItemTypeId(GetManipulatedItem())==$49304B30 or GetItemTypeId(GetManipulatedItem())==$49304B31 or GetItemTypeId(GetManipulatedItem())==$49304B32 or GetItemTypeId(GetManipulatedItem())==$49304B33 or GetItemTypeId(GetManipulatedItem())==$49304B34 or GetItemTypeId(GetManipulatedItem())==$49304B35 or GetItemTypeId(GetManipulatedItem())==$49304B36 or GetItemTypeId(GetManipulatedItem())==$49304B37 or GetItemTypeId(GetManipulatedItem())==$49304B38 or GetItemTypeId(GetManipulatedItem())==$49304B39 or GetItemTypeId(GetManipulatedItem())==$49304B41 or GetItemTypeId(GetManipulatedItem())==$49304642 or GetItemTypeId(GetManipulatedItem())==$49304644 or GetItemTypeId(GetManipulatedItem())==$49304648 or GetItemTypeId(GetManipulatedItem())==$49304649 or GetItemTypeId(GetManipulatedItem())==$4930464A or GetItemTypeId(GetManipulatedItem())==$4930464B or GetItemTypeId(GetManipulatedItem())==$49304746 or GetItemTypeId(GetManipulatedItem())==$49304748 or GetItemTypeId(GetManipulatedItem())==$49304749 or GetItemTypeId(GetManipulatedItem())==$4930324D or GetItemTypeId(GetManipulatedItem())==$4930324E or GetItemTypeId(GetManipulatedItem())==$49303255 or GetItemTypeId(GetManipulatedItem())==$49304A46 or GetItemTypeId(GetManipulatedItem())==$49304A45 then
return true
endif
return false
endfunction
function um takes nothing returns boolean
if not ul() then
return false
endif
return true
endfunction
function un takes nothing returns boolean
if not (GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),Kv))==UJ) then
return false
endif
return true
endfunction
function uo takes nothing returns boolean
if not (KP>=2) then
return false
endif
return true
endfunction
function up takes nothing returns nothing
set KP=0
set UJ=GetItemTypeId(GetManipulatedItem())
set Kv=1
loop
exitwhen Kv>6
if un() then
set KP=KP+1
else
endif
set Kv=Kv+1
endloop
if uo() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c000080FFВы не можете носить одновременно несколько таких предметов!|r")
else
endif
endfunction
function uq takes nothing returns nothing
set UI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(UI,Condition(function um))
call TriggerAddAction(UI,function up)
endfunction
function ur takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$49303658 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303659 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930365A then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303730 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303734 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303738 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303737 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303732 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303733 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303735 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303736 then
return true
endif
return false
endfunction
function us takes nothing returns boolean
if not ur() then
return false
endif
return true
endfunction
function ut takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304433) then
return false
endif
return true
endfunction
function uu takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304434) then
return false
endif
return true
endfunction
function uv takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303654) then
return false
endif
return true
endfunction
function uw takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930334A) then
return false
endif
return true
endfunction
function ux takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[12]) then
return false
endif
return true
endfunction
function uy takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[11]) then
return false
endif
return true
endfunction
function uz takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[10]) then
return false
endif
return true
endfunction
function u0 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[9]) then
return false
endif
return true
endfunction
function u1 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[8]) then
return false
endif
return true
endfunction
function u2 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[7]) then
return false
endif
return true
endfunction
function u3 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[6]) then
return false
endif
return true
endfunction
function u4 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[5]) then
return false
endif
return true
endfunction
function u5 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[4]) then
return false
endif
return true
endfunction
function u6 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[3]) then
return false
endif
return true
endfunction
function u7 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[2]) then
return false
endif
return true
endfunction
function u8 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SF[1]) then
return false
endif
return true
endfunction
function u9 takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==SF[1] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[2] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[3] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[4] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[5] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[6] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[7] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[8] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[9] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[10] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[11] then
return true
endif
if GetItemTypeId(GetManipulatedItem())==SF[12] then
return true
endif
return false
endfunction
function vB takes nothing returns boolean
if not u9() then
return false
endif
return true
endfunction
function vC takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303552) then
return false
endif
return true
endfunction
function vD takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303551) then
return false
endif
return true
endfunction
function vE takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354F) then
return false
endif
return true
endfunction
function vF takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303550) then
return false
endif
return true
endfunction
function vG takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354E) then
return false
endif
return true
endfunction
function vH takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354D) then
return false
endif
return true
endfunction
function vI takes nothing returns boolean
if not (Lz==false) then
return false
endif
if not (RectContainsUnit(DB,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function vJ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303552) then
return false
endif
return true
endfunction
function vK takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303551) then
return false
endif
return true
endfunction
function vL takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354F) then
return false
endif
return true
endfunction
function vM takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303550) then
return false
endif
return true
endfunction
function vN takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354E) then
return false
endif
return true
endfunction
function vO takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354D) then
return false
endif
return true
endfunction
function vP takes nothing returns boolean
if not (Jr==false) then
return false
endif
if not (RectContainsUnit(C9,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function vQ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303552) then
return false
endif
return true
endfunction
function vR takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303551) then
return false
endif
return true
endfunction
function vS takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354F) then
return false
endif
return true
endfunction
function vT takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303550) then
return false
endif
return true
endfunction
function vU takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354E) then
return false
endif
return true
endfunction
function vV takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354D) then
return false
endif
return true
endfunction
function vW takes nothing returns boolean
if not (Jq==false) then
return false
endif
if not (RectContainsUnit(C8,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function vX takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303552) then
return false
endif
return true
endfunction
function vY takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303551) then
return false
endif
return true
endfunction
function vZ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354F) then
return false
endif
return true
endfunction
function va takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303550) then
return false
endif
return true
endfunction
function vb takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354E) then
return false
endif
return true
endfunction
function vc takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930354D) then
return false
endif
return true
endfunction
function vd takes nothing returns boolean
if not (Jp==false) then
return false
endif
if not (RectContainsUnit(C7,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function ve takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$4930354D then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930354E then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303550 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930354F then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303551 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49303552 then
return true
endif
return false
endfunction
function vf takes nothing returns boolean
if not ve() then
return false
endif
return true
endfunction
function vg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$4E303030) then
return false
endif
return true
endfunction
function vh takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303033) then
return false
endif
return true
endfunction
function vi takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$48303031) then
return false
endif
return true
endfunction
function vj takes nothing returns boolean
if GetHeroLevel(GetTriggerUnit())==20 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==40 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==60 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==80 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==100 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==120 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==140 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==160 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==180 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==200 then
return true
endif
return false
endfunction
function vk takes nothing returns boolean
if not vj() then
return false
endif
return true
endfunction
function vl takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==1) then
return false
endif
return true
endfunction
function vm takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930394A) then
return false
endif
return true
endfunction
function vn takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())])==true) then
return false
endif
return true
endfunction
function vo takes nothing returns nothing
if vn() then
call UnitShareVisionBJ(false,Pd[GetConvertedPlayerId(GetEnumPlayer())],GetOwningPlayer(GetTriggerUnit()))
else
endif
endfunction
function vp takes nothing returns boolean
if not (GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexB()))>0) then
return false
endif
return true
endfunction
function vq takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function vr takes nothing returns nothing
if vq() then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),2000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_LIGHTNING)
else
endif
endfunction
function vs takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303436) then
return false
endif
return true
endfunction
function vt takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function vu takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==6) then
return false
endif
return true
endfunction
function vv takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$49303158 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304132 then
return true
endif
return false
endfunction
function vw takes nothing returns boolean
if not vv() then
return false
endif
return true
endfunction
function vx takes nothing returns boolean
if GetItemTypeId(GetManipulatedItem())==$49304349 then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$4930434B then
return true
endif
if GetItemTypeId(GetManipulatedItem())==$49304350 then
return true
endif
return false
endfunction
function vy takes nothing returns boolean
if not (L8<=150) then
return false
endif
return true
endfunction
function vz takes nothing returns boolean
if not (L8<=100) then
return false
endif
return true
endfunction
function v0 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304350) then
return false
endif
return true
endfunction
function v1 takes nothing returns boolean
if not (L8<=150) then
return false
endif
return true
endfunction
function v2 takes nothing returns boolean
if not (L8<=100) then
return false
endif
return true
endfunction
function v3 takes nothing returns boolean
if not (L8<=50) then
return false
endif
return true
endfunction
function v4 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930434B) then
return false
endif
return true
endfunction
function v5 takes nothing returns boolean
if not (L8<=150) then
return false
endif
return true
endfunction
function v6 takes nothing returns boolean
if not (L8<=100) then
return false
endif
return true
endfunction
function v7 takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304349) then
return false
endif
return true
endfunction
function v8 takes nothing returns boolean
if not vx() then
return false
endif
return true
endfunction
function v9 takes nothing returns boolean
if not (L6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<85) then
return false
endif
return true
endfunction
function wB takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304442) then
return false
endif
return true
endfunction
function wC takes nothing returns boolean
if not (L7[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<85) then
return false
endif
return true
endfunction
function wD takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304448) then
return false
endif
return true
endfunction
function wE takes nothing returns nothing
if us() then
call RemoveItem(GetManipulatedItem())
call UnitAddItemByIdSwapped($49303657,GetTriggerUnit())
return
else
endif
if ut() then
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
call RemoveItem(GetManipulatedItem())
return
else
endif
if uu() then
call RemoveItem(GetManipulatedItem())
return
else
endif
if uv() then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+I2R(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD))/5.)
return
else
endif
if uw() then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0080FF00В найденном свитке вы обнаруживате рецепт:|r")
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),Nw[GetRandomInt(1,119)])
return
else
endif
if vB() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if u8() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nw[GetRandomInt(1,120)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nw[GetRandomInt(1,120)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nw[GetRandomInt(1,120)])
else
if u7() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nx[GetRandomInt(1,42)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nx[GetRandomInt(1,42)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nx[GetRandomInt(1,42)])
else
if u6() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N0[GetRandomInt(1,30)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N0[GetRandomInt(1,30)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N0[GetRandomInt(1,30)])
else
if u5() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N1[GetRandomInt(1,23)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N1[GetRandomInt(1,23)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N1[GetRandomInt(1,23)])
else
if u4() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N2[GetRandomInt(1,38)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N2[GetRandomInt(1,38)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N2[GetRandomInt(1,38)])
else
if u3() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N3[GetRandomInt(1,20)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N3[GetRandomInt(1,20)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N3[GetRandomInt(1,20)])
else
if u2() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N4[GetRandomInt(1,30)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N4[GetRandomInt(1,30)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N4[GetRandomInt(1,30)])
else
if u1() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N5[GetRandomInt(1,25)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N5[GetRandomInt(1,25)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N5[GetRandomInt(1,25)])
else
if u0() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N6[GetRandomInt(1,26)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N6[GetRandomInt(1,26)])
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N6[GetRandomInt(1,26)])
else
if uz() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,N7[GetRandomInt(1,17)])
else
if uy() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Ny[GetRandomInt(1,34)])
else
if ux() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_ALWAYSHINT,Nz[GetRandomInt(1,34)])
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
return
else
endif
if vf() then
if vd() then
if vc() then
call CreateNUnitsAtLoc(1,$68303139,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
if vb() then
call CreateNUnitsAtLoc(1,$68303150,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
if va() then
call CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
if vZ() then
call CreateNUnitsAtLoc(1,$68303152,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
if vY() then
call CreateNUnitsAtLoc(1,$68303153,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
if vX() then
call CreateNUnitsAtLoc(1,$68303154,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C7),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
call SetDoodadAnimationRectBJ("stand work",$44303131,C7)
call RemoveItem(GetManipulatedItem())
set Jp=true
else
if vW() then
call DisableTrigger(GetTriggeringTrigger())
if vV() then
call CreateNUnitsAtLoc(1,$68303139,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
if vU() then
call CreateNUnitsAtLoc(1,$68303150,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
if vT() then
call CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
if vS() then
call CreateNUnitsAtLoc(1,$68303152,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
if vR() then
call CreateNUnitsAtLoc(1,$68303153,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
if vQ() then
call CreateNUnitsAtLoc(1,$68303154,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C8),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
call SetDoodadAnimationRectBJ("stand work",$44303131,C8)
call RemoveItem(GetManipulatedItem())
set Jq=true
else
if vP() then
call DisableTrigger(GetTriggeringTrigger())
if vO() then
call CreateNUnitsAtLoc(1,$68303139,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
if vN() then
call CreateNUnitsAtLoc(1,$68303150,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
if vM() then
call CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
if vL() then
call CreateNUnitsAtLoc(1,$68303152,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
if vK() then
call CreateNUnitsAtLoc(1,$68303153,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
if vJ() then
call CreateNUnitsAtLoc(1,$68303154,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(C9),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
call SetDoodadAnimationRectBJ("stand work",$44303131,C9)
call RemoveItem(GetManipulatedItem())
set Jr=true
else
if vI() then
call DisableTrigger(GetTriggeringTrigger())
if vH() then
call CreateNUnitsAtLoc(1,$68303139,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
if vG() then
call CreateNUnitsAtLoc(1,$68303150,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
if vF() then
call CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
if vE() then
call CreateNUnitsAtLoc(1,$68303152,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
if vD() then
call CreateNUnitsAtLoc(1,$68303153,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
if vC() then
call CreateNUnitsAtLoc(1,$68303154,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DB),bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
call SetDoodadAnimationRectBJ("stand work",$44303131,DB)
call RemoveItem(GetManipulatedItem())
set Lz=true
else
endif
endif
endif
endif
return
else
endif
if vm() then
if vl() then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000У вас 1й уровень, его нельзя сделать ещё меньше!|r")
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
set Kw[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call SetPlayerAbilityAvailableBJ(false,$41304351,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,$41304352,GetOwningPlayer(GetTriggerUnit()))
if vi() then
call SetUnitAbilityLevelSwapped($41305555,GetTriggerUnit(),1)
else
if vh() then
call SetUnitAbilityLevelSwapped($4132394F,GetTriggerUnit(),1)
else
if vg() then
call SetUnitAbilityLevelSwapped($41314C5A,GetTriggerUnit(),1)
call UnitRemoveAbilityBJ($41305041,GetTriggerUnit())
else
endif
endif
endif
if vk() then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FF0000Нельзя забывать уровни, кратные 20!|r")
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call SetHeroLevelBJ(GetTriggerUnit(),GetHeroLevel(GetTriggerUnit())-1,false)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set UL=UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())
call UnitRemoveItemSwapped(UL,GetTriggerUnit())
call UnitAddItemSwapped(UL,GetTriggerUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endif
return
else
endif
if vs() then
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function vo)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=6
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if vp() then
call UnitRemoveItemSwapped(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexB()),GetTriggerUnit())
else
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(RectFromCenterSizeBJ(GetUnitLoc(GetTriggerUnit()),800.,800.)),function vr)
return
else
endif
if vw() then
if vu() then
if vt() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
set OT[OO]=OT[OO]+1
call ff()
return
else
endif
else
endif
else
endif
if v8() then
set QE=GetUnitLoc(GetTriggerUnit())
set L8=GetRandomInt(1,200)
if v7() then
if v6() then
call CreateNUnitsAtLoc(1,$6E303457,Player(PLAYER_NEUTRAL_PASSIVE),QE,bj_UNIT_FACING)
else
if v5() then
call CreateNUnitsAtLoc(1,$6E303458,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,$6E303459,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
endif
endif
else
if v4() then
if v3() then
call CreateNUnitsAtLoc(1,$6E303530,Player(PLAYER_NEUTRAL_PASSIVE),QE,bj_UNIT_FACING)
else
if v2() then
call CreateNUnitsAtLoc(1,$75303039,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
else
if v1() then
call CreateNUnitsAtLoc(1,$6E303451,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
else
set QE=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$75303041,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
endif
endif
endif
else
if v0() then
if vz() then
call CreateNUnitsAtLoc(1,$6E303531,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
else
if vy() then
call CreateNUnitsAtLoc(1,$6E303532,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,$6E303533,Player(10),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60,$42466967,GetLastCreatedUnit())
call SetUnitUserData(GetLastCreatedUnit(),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
endif
endif
else
endif
endif
endif
call SetUnitVertexColorBJ(GetLastCreatedUnit(),80.,80.,80.,50.)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitUserData(GetLastCreatedUnit(),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
call RemoveLocation(QE)
return
else
endif
if wB() then
if v9() then
set L6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=L6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveItem(GetManipulatedItem())
call SetPlayerTechResearchedSwap($52303038,L6[GetConvertedPlayerId(GetTriggerPlayer())],GetTriggerPlayer())
else
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),10.,"|c00FF0000Вы достигли максимального улучшения|r")
endif
return
else
endif
if wD() then
if wC() then
set L7[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=L7[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveItem(GetManipulatedItem())
call SetPlayerTechResearchedSwap($52303039,L7[GetConvertedPlayerId(GetTriggerPlayer())],GetTriggerPlayer())
else
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),10.,"|c00FF0000Вы достигли максимального улучшения|r")
endif
return
else
endif
endfunction
function wF takes nothing returns nothing
set UK=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UK,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(UK,function wE)
endfunction
function wG takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())==$49304B58) then
return false
endif
return true
endfunction
function wH takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303654) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false) then
return false
endif
return true
endfunction
function wI takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304457) then
return false
endif
return true
endfunction
function wJ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())!=$49303155) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())!=$49303154) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())!=$49303156) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())!=$49303157) then
return false
endif
if not (GetItemTypeId(GetManipulatedItem())!=$49303636) then
return false
endif
return true
endfunction
function wK takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$68303052 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303135 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303136 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303137 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303138 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6F30304E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830325A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303330 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303237 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303244 then
return true
endif
return false
endfunction
function wL takes nothing returns boolean
if not wK() then
return false
endif
return true
endfunction
function wM takes nothing returns boolean
if GetUnitTypeId(GetManipulatingUnit())==$68303251 then
return true
endif
if GetUnitTypeId(GetManipulatingUnit())==$68303357 then
return true
endif
if GetUnitTypeId(GetManipulatingUnit())==$68303358 then
return true
endif
return false
endfunction
function wN takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930364E) then
return false
endif
if not (Mc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false) then
return false
endif
if not wM() then
return false
endif
return true
endfunction
function wO takes nothing returns boolean
if not (GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),Kv))==SE[GetForLoopIndexA()]) then
return false
endif
if not (UnitItemInSlotBJ(GetTriggerUnit(),Kv)!=GetManipulatedItem()) then
return false
endif
return true
endfunction
function wP takes nothing returns boolean
if not (KP==1) then
return false
endif
return true
endfunction
function wQ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SE[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function wR takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function wS takes nothing returns boolean
if GetItemUserData(GetManipulatedItem())==0 then
return true
endif
if GetItemUserData(GetManipulatedItem())==13 then
return true
endif
return false
endfunction
function wT takes nothing returns boolean
if not (GetItemUserData(GetManipulatedItem())!=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))) then
return false
endif
if not (GetItemUserData(GetManipulatedItem())!=0) then
return false
endif
return true
endfunction
function wU takes nothing returns boolean
if not wT() then
return false
endif
return true
endfunction
function wV takes nothing returns boolean
if not wS() then
return false
endif
return true
endfunction
function wW takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$68303147 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830314A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303148 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303149 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303347 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830324E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830324F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303250 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303251 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303357 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303358 then
return true
endif
return false
endfunction
function wX takes nothing returns boolean
if not wW() then
return false
endif
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function wY takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303651) then
return false
endif
return true
endfunction
function wZ takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303436) then
return false
endif
if not (GetHeroXP(GetTriggerUnit())>5) then
return false
endif
return true
endfunction
function wa takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=1) then
return false
endif
return true
endfunction
function wb takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303331) then
return false
endif
return true
endfunction
function wc takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=1) then
return false
endif
return true
endfunction
function wd takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303330) then
return false
endif
return true
endfunction
function we takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=1) then
return false
endif
return true
endfunction
function wf takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303256) then
return false
endif
return true
endfunction
function wg takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=1) then
return false
endif
return true
endfunction
function wh takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$4930324A) then
return false
endif
return true
endfunction
function wi takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1) then
return false
endif
return true
endfunction
function wj takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304B48) then
return false
endif
return true
endfunction
function wk takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1) then
return false
endif
return true
endfunction
function wl takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304B47) then
return false
endif
return true
endfunction
function wm takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1) then
return false
endif
return true
endfunction
function wn takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303334) then
return false
endif
return true
endfunction
function wo takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1) then
return false
endif
return true
endfunction
function wp takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303333) then
return false
endif
return true
endfunction
function wq takes nothing returns nothing
if wG() then
call SetItemUserData(GetManipulatedItem(),GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
return
else
endif
if wH() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
return
else
endif
if wI() then
call SetUnitVertexColorBJ(GetTriggerUnit(),50.,100,50.,50.)
return
else
endif
if wL() then
if wJ() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
return
else
endif
else
endif
if wN() then
set Mc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call UnitAddAbilityBJ($41313756,GetTriggerUnit())
call RemoveItem(GetManipulatedItem())
return
else
endif
if wR() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=89
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if wQ() then
set KP=0
set Kv=1
loop
exitwhen Kv>6
if wO() then
set KP=1
else
endif
set Kv=Kv+1
endloop
if wP() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,"|c00FF0000Вы не можете носить больше одного такого предмета!|r")
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if wX() then
if wV() then
else
if wU() then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetTriggerUnit())
call RemoveLocation(Tq)
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,"|c00FF0000Этот предмет принадлежит другому игроку.|r")
else
endif
endif
else
endif
if wY() then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())+5.)
call RemoveItem(GetManipulatedItem())
else
endif
if wZ() then
call RemoveItem(GetManipulatedItem())
else
endif
if wh() then
if wg() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)/4
call AdjustPlayerStateBJ(0-GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)/4,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЗолото для торговца: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UO)
return
else
endif
else
if wf() then
if we() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)/2
call AdjustPlayerStateBJ(0-GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)/2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЗолото для торговца: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UO)
return
else
endif
else
if wd() then
if wc() then
set No=No+R2I(I2R(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD))*.75)
call AdjustPlayerStateBJ(0-R2I(I2R(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD))*.75),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЗолото для торговца: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UO)
return
else
endif
else
if wb() then
if wa() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD,0)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЗолото для торговца: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UO)
return
else
endif
else
endif
endif
endif
endif
if wp() then
if wo() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)/4
call AdjustPlayerStateBJ(0-GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)/4,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЕда для кобольдов: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UP)
else
endif
else
if wn() then
if wm() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)/2
call AdjustPlayerStateBJ(0-GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)/2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЕда для кобольдов: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UP)
else
endif
else
if wl() then
if wk() then
set No=No+R2I(I2R(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER))*.75)
call AdjustPlayerStateBJ(0-R2I(I2R(GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER))*.75),GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЕда для кобольдов: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UP)
else
endif
else
if wj() then
if wi() then
set No=No+GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerStateBJ(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER,0)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|cffadff2fЕда для кобольдов: |r|cffffd700"+(I2S(No)+(" / "+I2S(Nn))))
call ConditionalTriggerExecute(UP)
else
endif
else
endif
endif
endif
endif
endfunction
function wr takes nothing returns nothing
set UM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UM,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(UM,function wq)
endfunction
function ws takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304457) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function wt takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==SG[GetForLoopIndexA()+GetForLoopIndexB()*100]) then
return false
endif
return true
endfunction
function wu takes nothing returns boolean
if not (IsUnitInGroup(GetTriggerUnit(),Ir)==true) then
return false
endif
return true
endfunction
function wv takes nothing returns nothing
local integer G4
if ws() then
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,0.)
return
else
endif
if wu() then
set UD=GetOwningPlayer(GetTriggerUnit())
set G4=GetConvertedPlayerId(UD)
set bj_forLoopBIndex=0
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if wt() then
set MD[G4]=40
set MZ[G4]=MZ[G4]-(GetForLoopIndexB()+1)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call StartTimerBJ(PH,false,.01)
else
endif
endfunction
function ww takes nothing returns nothing
set UQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UQ,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddAction(UQ,function wv)
endfunction
function wx takes nothing returns boolean
if not (GetSpellAbilityId()!=$41304551) then
return false
endif
if not (GetSpellAbilityId()!=$41304552) then
return false
endif
if not (GetSpellAbilityId()!=$41304553) then
return false
endif
if not (GetSpellAbilityId()!=$41304554) then
return false
endif
return true
endfunction
function wy takes nothing returns boolean
if not (GetSpellAbilityId()==$41304B30) then
return false
endif
return true
endfunction
function wz takes nothing returns boolean
if GetSpellAbilityId()==$41304935 then
return true
endif
if GetSpellAbilityId()==$41305A5A then
return true
endif
if GetSpellAbilityId()==$41313643 then
return true
endif
if GetSpellAbilityId()==$41314846 then
return true
endif
return false
endfunction
function w0 takes nothing returns boolean
if GetOwningPlayer(GetSpellTargetUnit())==Player(10) then
return true
endif
if GetOwningPlayer(GetSpellTargetUnit())==Player(11) then
return true
endif
return false
endfunction
function w1 takes nothing returns boolean
if not wz() then
return false
endif
if not w0() then
return false
endif
return true
endfunction
function w2 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellTargetUnit(),$49304533)==true) then
return false
endif
if not (IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function w3 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellTargetUnit(),$49304257)==true) then
return false
endif
if not (IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function w4 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellTargetUnit(),$4930484D)==true) then
return false
endif
if not (IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function w5 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellTargetUnit(),$49304850)==true) then
return false
endif
if not (IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function w6 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellTargetUnit(),$49304939)==true) then
return false
endif
if not (IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetSpellTargetUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function w7 takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Player(11) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(10) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) then
return true
endif
return false
endfunction
function w8 takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)<=600.) then
return false
endif
return true
endfunction
function w9 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEnumUnit(),$49304255)==true) then
return false
endif
return true
endfunction
function xB takes nothing returns nothing
if w9() then
set QE=GetUnitLoc(GetTriggerUnit())
set QI=GetUnitLoc(GetEnumUnit())
if w8() then
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call e8(GetEnumUnit(),GetTriggerUnit(),4000)
else
endif
call RemoveLocation(QE)
call RemoveLocation(QI)
else
endif
endfunction
function xC takes nothing returns boolean
if not w7() then
return false
endif
return true
endfunction
function xD takes nothing returns boolean
if not (GetItemTypeId(GetEnumItem())==GetItemTypeId(US)) then
return false
endif
return true
endfunction
function xE takes nothing returns nothing
if xD() then
call SetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()),GetItemCharges(UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA()))+GetItemCharges(GetEnumItem()))
call RemoveItem(GetEnumItem())
else
endif
endfunction
function xF takes nothing returns boolean
if not (GetItemType(US)==ITEM_TYPE_CHARGED) then
return false
endif
return true
endfunction
function xG takes nothing returns boolean
if not (GetSpellAbilityId()==$41313756) then
return false
endif
return true
endfunction
function xH takes nothing returns nothing
if wy() then
call SetUnitLifePercentBJ(GetSpellTargetUnit(),GetUnitLifePercent(GetSpellTargetUnit())+20.)
call UnitRemoveBuffBJ($42686561,GetSpellTargetUnit())
else
endif
if w1() then
set Iv=CountUnitsInGroup(ND)
else
endif
if w2() then
set QE=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303433,GetOwningPlayer(GetSpellTargetUnit()),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(40.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QE)
else
endif
if w3() then
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(GetSpellTargetUnit(),GetTriggerUnit(),I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,GetSpellTargetUnit(),true)),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_NORMAL)
else
endif
if w4() then
set QE=GetUnitLoc(GetSpellTargetUnit())
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",GetSpellTargetUnit(),"chest"))
call e9(GetSpellTargetUnit(),QE,600,17000,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call RemoveLocation(QE)
else
endif
if w5() then
set QE=GetUnitLoc(GetSpellTargetUnit())
set Mt=GetHeroStatBJ(bj_HEROSTAT_STR,GetSpellTargetUnit(),true)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",GetSpellTargetUnit(),"chest"))
call e9(GetSpellTargetUnit(),QE,600,Mt,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
set Mt=0
call RemoveLocation(QE)
else
endif
if w6() then
set QE=GetUnitLoc(GetSpellTargetUnit())
set Mt=GetHeroStatBJ(bj_HEROSTAT_INT,GetSpellTargetUnit(),true)*30+10000
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",GetSpellTargetUnit(),"chest"))
call e9(GetSpellTargetUnit(),QE,700,Mt,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call fM(GetSpellTargetUnit(),300,300)
set Mt=0
call RemoveLocation(QE)
else
endif
if xC() then
call ForGroupBJ(Ir,function xB)
else
endif
if xG() then
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,650.,650.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set US=UnitItemInSlotBJ(GetTriggerUnit(),GetForLoopIndexA())
if xF() then
call EnumItemsInRectBJ(Rx,function xE)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call RemoveRect(Rx)
else
endif
endfunction
function xI takes nothing returns nothing
set UR=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(UR,Condition(function wx))
call TriggerAddAction(UR,function xH)
endfunction
function xJ takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function xK takes nothing returns boolean
if not (GetSpellAbilityId()==$41303057) then
return false
endif
return true
endfunction
function xL takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$424E6266)==true) then
return false
endif
return true
endfunction
function xM takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function xN takes nothing returns nothing
if xM() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=2000.+.5*I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true)*GetUnitAbilityLevelSwapped($41303037,GetTriggerUnit()))
if xL() then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=Lf+1000.*I2R(GetUnitAbilityLevelSwapped($41303037,GetTriggerUnit()))
else
endif
call e8(GetTriggerUnit(),GetEnumUnit(),Lf)
set Oh=Oh+100.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
else
endif
endfunction
function xO takes nothing returns boolean
if not (GetSpellAbilityId()==$41303037) then
return false
endif
return true
endfunction
function xP takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function xQ takes nothing returns nothing
if xP() then
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call IssueTargetOrder(GetEnumUnit(),"attack",GetTriggerUnit())
else
endif
endfunction
function xR takes nothing returns boolean
if not (GetSpellAbilityId()==$41303056) then
return false
endif
return true
endfunction
function xS takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303936)==true) then
return false
endif
return true
endfunction
function xT takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304559)==true) then
return false
endif
return true
endfunction
function xU takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303647)==true) then
return false
endif
return true
endfunction
function xV takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304A4C)==true) then
return false
endif
return true
endfunction
function xW takes nothing returns boolean
if not (GetSpellAbilityId()==$41303054) then
return false
endif
return true
endfunction
function xX takes nothing returns boolean
if not (RectContainsUnit(GJ,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function xY takes nothing returns boolean
if not (GetSpellAbilityId()==$41305339) then
return false
endif
return true
endfunction
function xZ takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function xa takes nothing returns nothing
if xZ() then
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call IssueTargetOrder(GetEnumUnit(),"attack",GetTriggerUnit())
else
endif
endfunction
function xb takes nothing returns boolean
if not (GetSpellAbilityId()==$41304359) then
return false
endif
return true
endfunction
function xc takes nothing returns boolean
if not (GetSpellAbilityId()==$41304B51) then
return false
endif
return true
endfunction
function xd takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304739)==true) then
return false
endif
return true
endfunction
function xe takes nothing returns boolean
if not (GetUnitUserData(GetEnumUnit())<=16) then
return false
endif
return true
endfunction
function xf takes nothing returns boolean
if not (GetUnitUserData(GetEnumUnit())<=15) then
return false
endif
return true
endfunction
function xg takes nothing returns boolean
if not (GetUnitUserData(GetEnumUnit())<=12) then
return false
endif
return true
endfunction
function xh takes nothing returns boolean
if not (GetUnitUserData(GetEnumUnit())<=7) then
return false
endif
if not (GetUnitUserData(GetEnumUnit())>2) then
return false
endif
return true
endfunction
function xi takes nothing returns boolean
if not (GetRandomInt(1,100)<=2*GetUnitAbilityLevelSwapped($41305342,GetTriggerUnit())) then
return false
endif
return true
endfunction
function xj takes nothing returns boolean
if not (CountUnitsInGroup(Kg[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])<Ky) then
return false
endif
return true
endfunction
function xk takes nothing returns nothing
if xj() then
set Rv=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$65303035,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_LIGHT_GRAY)
if xi() then
if xh() then
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_LIGHT_GRAY)
else
if xg() then
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_LIGHT_BLUE)
else
if xf() then
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_PURPLE)
else
if xe() then
call SetUnitColor(GetLastCreatedUnit(),PLAYER_COLOR_ORANGE)
else
call SetUnitColor(GetLastCreatedUnit(),ConvertPlayerColor(12))
endif
endif
endif
endif
else
endif
call UnitApplyTimedLifeBJ(2.*I2R(GetUnitAbilityLevelSwapped($41305342,GetTriggerUnit())),$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"move",Rv)
call GroupAddUnitSimple(GetLastCreatedUnit(),Kg[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveLocation(Rv)
else
endif
endfunction
function xl takes nothing returns boolean
if not (GetSpellAbilityId()==$41305342) then
return false
endif
return true
endfunction
function xm takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303839)==true) then
return false
endif
return true
endfunction
function xn takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$4930384A)==true) then
return false
endif
return true
endfunction
function xo takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304248)==true) then
return false
endif
return true
endfunction
function xp takes nothing returns boolean
if not (GetSpellAbilityId()==$4130354E) then
return false
endif
return true
endfunction
function xq takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetEnumUnit()!=RI) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$68303836) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$68303837) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function xr takes nothing returns nothing
if xq() then
call SetUnitPositionLoc(GetEnumUnit(),RX)
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41304341,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41304341,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41304339,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
call IssueTargetOrder(GetEnumUnit(),"attack",GetTriggerUnit())
call e8(GetTriggerUnit(),GetEnumUnit(),Lf)
else
endif
endfunction
function xs takes nothing returns boolean
if not (GetSpellAbilityId()==$41304339) then
return false
endif
return true
endfunction
function xt takes nothing returns boolean
if not (GetSpellAbilityId()==$4130544D) then
return false
endif
return true
endfunction
function xu takes nothing returns boolean
if not (GetSpellAbilityId()==$4130544A) then
return false
endif
return true
endfunction
function xv takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function xw takes nothing returns nothing
if xv() then
call UnitShareVisionBJ(true,GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),UX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305453,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305453,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41305457,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",GetEnumUnit())
call UnitShareVisionBJ(false,GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()))
else
endif
endfunction
function xx takes nothing returns boolean
if not (GetSpellAbilityId()==$41305457) then
return false
endif
return true
endfunction
function xy takes nothing returns boolean
if not (GetSpellAbilityId()==$41305455) then
return false
endif
return true
endfunction
function xz takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(9)) then
return false
endif
return true
endfunction
function x0 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(8)) then
return false
endif
return true
endfunction
function x1 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(7)) then
return false
endif
return true
endfunction
function x2 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(6)) then
return false
endif
return true
endfunction
function x3 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(5)) then
return false
endif
return true
endfunction
function x4 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(4)) then
return false
endif
return true
endfunction
function x5 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(3)) then
return false
endif
return true
endfunction
function x6 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(2)) then
return false
endif
return true
endfunction
function x7 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(1)) then
return false
endif
return true
endfunction
function x8 takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(0)) then
return false
endif
return true
endfunction
function x9 takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function yB takes nothing returns nothing
if x9() then
call GroupAddUnitSimple(GetEnumUnit(),M2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set Mv=Mv+1
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if x8() then
set Uf[Mv]=GetUnitLoc(GetEnumUnit())
else
if x7() then
set Ug[Mv]=GetUnitLoc(GetEnumUnit())
else
if x6() then
set Uh[Mv]=GetUnitLoc(GetEnumUnit())
else
if x5() then
set Ui[Mv]=GetUnitLoc(GetEnumUnit())
else
if x4() then
set Uj[Mv]=GetUnitLoc(GetEnumUnit())
else
if x3() then
set Uk[Mv]=GetUnitLoc(GetEnumUnit())
else
if x2() then
set Ul[Mv]=GetUnitLoc(GetEnumUnit())
else
if x1() then
set Um[Mv]=GetUnitLoc(GetEnumUnit())
else
if x0() then
set Un[Mv]=GetUnitLoc(GetEnumUnit())
else
if xz() then
set Uo[Mv]=GetUnitLoc(GetEnumUnit())
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
endfunction
function yC takes nothing returns boolean
if not (GetSpellAbilityId()==$41313956) then
return false
endif
return true
endfunction
function yD takes nothing returns boolean
if not (GetSpellAbilityId()==$41314132) then
return false
endif
if not (RectContainsUnit(GJ,GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function yE takes nothing returns boolean
if not (GetSpellAbilityId()==$41313957) then
return false
endif
return true
endfunction
function yF takes nothing returns boolean
if not (Kw[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function yG takes nothing returns boolean
if not (GetSpellAbilityId()==$41313952) then
return false
endif
return true
endfunction
function yH takes nothing returns boolean
if not (GetSpellAbilityId()==$41304354) then
return false
endif
return true
endfunction
function yI takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function yJ takes nothing returns nothing
if yI() then
set QI=GetUnitLoc(GetEnumUnit())
call UnitAddAbilityBJ($41313958,GetEnumUnit())
call SetUnitAbilityLevelSwapped($41313959,GetEnumUnit(),Mt)
call ForceAddPlayerSimple(GetOwningPlayer(GetEnumUnit()),M6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call GroupAddUnitSimple(GetEnumUnit(),M7)
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetEnumUnit()),QI,bj_UNIT_FACING)
call UnitAddAbilityBJ($41314130,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41314130,GetLastCreatedUnit(),Mt)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"unholyfrenzy",GetEnumUnit())
call RemoveLocation(QI)
else
endif
endfunction
function yK takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())],$49303436)==false) then
return false
endif
return true
endfunction
function yL takes nothing returns nothing
if yK() then
call UnitShareVisionBJ(true,GetTriggerUnit(),GetEnumPlayer())
else
endif
endfunction
function yM takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(M7)==false) then
return false
endif
return true
endfunction
function yN takes nothing returns boolean
if not (GetSpellAbilityId()==$4131395A) then
return false
endif
return true
endfunction
function yO takes nothing returns boolean
if not (IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_MECHANICAL)==false) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function yP takes nothing returns nothing
if yO() then
set QI=GetUnitLoc(GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call GroupRemoveUnitSimple(GetEnumUnit(),Mn[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call GroupAddUnitSimple(GetEnumUnit(),Mn[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetEnumUnit()),QI,bj_UNIT_FACING)
call UnitAddAbilityBJ($4131394B,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"rejuvination",GetEnumUnit())
call UnitAddAbilityBJ($41313949,GetEnumUnit())
call SetUnitAbilityLevelSwapped($4131394A,GetEnumUnit(),GetUnitAbilityLevelSwapped($4131394C,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call RemoveLocation(QI)
else
endif
endfunction
function yQ takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(Mn[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])==false) then
return false
endif
return true
endfunction
function yR takes nothing returns boolean
if not (GetSpellAbilityId()==$4131394C) then
return false
endif
return true
endfunction
function yS takes nothing returns boolean
if not (GetSpellAbilityId()==$41313938) then
return false
endif
return true
endfunction
function yT takes nothing returns nothing
if xK() then
set QE=GetUnitLoc(GetTriggerUnit())
set Rv=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,$65303046,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",Rv)
call RemoveLocation(QE)
call RemoveLocation(Rv)
return
else
endif
if xO() then
set QE=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=0.
set Oh=0.
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function xN)
call fH(GetTriggerUnit(),Oh)
call RemoveLocation(QE)
call RemoveRect(Rx)
return
else
endif
if xR() then
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,1000.,1000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function xQ)
call RemoveLocation(QE)
call RemoveRect(Rx)
return
else
endif
if xW() then
set Rv=GetUnitLoc(GetTriggerUnit())
set UU=RectFromCenterSizeBJ(GetSpellTargetLoc(),300.,300.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,$65303034,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41303053,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if xS() then
call CreateNUnitsAtLoc(1,$65303044,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($4131365A,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
else
endif
if xT() then
call CreateNUnitsAtLoc(1,$65303042,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41313658,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
else
endif
if xU() then
call CreateNUnitsAtLoc(1,$65303043,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41313659,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
else
endif
if xV() then
call CreateNUnitsAtLoc(1,$65303052,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41314A37,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41303054,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
else
endif
call RemoveRect(UU)
call RemoveLocation(Rv)
return
else
endif
if xY() then
if xX() then
call IssueImmediateOrder(GetTriggerUnit(),"stop")
else
call RemoveRect(UV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set UV[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=RectFromCenterSizeBJ(GetSpellTargetLoc(),400.,400.)
set Kj[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=20
call EnableTrigger(UW)
endif
return
else
endif
if xb() then
call SetUnitAbilityLevelSwapped($4130574E,GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call StartTimerBJ(Oi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,.5)
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function xa)
call RemoveLocation(QE)
call RemoveRect(Rx)
return
else
endif
if xc() then
set Tq=GetUnitLoc(GetTriggerUnit())
set Rv=GetSpellTargetLoc()
set UU=RectFromCenterSizeBJ(Rv,200.,200.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,$65303033,GetOwningPlayer(GetTriggerUnit()),Tq,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($4130364F,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41304B51,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(4.,$42544C46,GetLastCreatedUnit())
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveRect(UU)
call RemoveLocation(QE)
call RemoveLocation(Rv)
call RemoveLocation(Tq)
return
else
endif
if xl() then
call GroupClear(Kg[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set QE=GetUnitLoc(GetTriggerUnit())
if xd() then
set Ky=13
else
set Ky=10
endif
call ForGroupBJ(GetRandomSubGroup(10,Kh),function xk)
call RemoveLocation(QE)
return
else
endif
if xp() then
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+5.)
call SetUnitLifePercentBJ(GetSpellTargetUnit(),GetUnitLifePercent(GetSpellTargetUnit())+I2R(GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit()))*.1)
if xm() then
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+4.*I2R(GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())))
else
endif
if xn() then
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+4.*I2R(GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())))
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+4.*I2R(GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())))
else
endif
if xo() then
call SetUnitLifeBJ(GetSpellTargetUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+16.*I2R(GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())))
else
endif
return
else
endif
if xs() then
set RX=GetUnitLoc(GetTriggerUnit())
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true))*.05*I2R(GetUnitAbilityLevelSwapped($41304339,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
set Rx=RectFromCenterSizeBJ(RX,2000.,2000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function xr)
call RemoveLocation(RX)
call RemoveRect(Rx)
return
else
endif
if xt() then
call fH(GetTriggerUnit(),100.*I2R(GetUnitAbilityLevelSwapped($4130544D,GetTriggerUnit())))
set Rv=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call UnitAddAbilityBJ($4130544E,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($4130544E,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($4130544D,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"howlofterror")
call RemoveLocation(Rv)
return
else
endif
if xu() then
set Mk=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,GetTriggerUnit(),true))*(.05*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
set Ml=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*(.02*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
call fH(GetTriggerUnit(),Mk+Ml)
set Rv=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305448,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305448,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($4130544A,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"antimagicshell",GetTriggerUnit())
call RemoveLocation(Rv)
set Mi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
return
else
endif
if xx() then
set UX=GetSpellTargetLoc()
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(75.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())),UX),function xw)
call RemoveLocation(UX)
return
else
endif
if xy() then
call fm(GetTriggerUnit(),GetSpellTargetUnit())
return
else
endif
if yC() then
set Mv=0
set QE=GetSpellTargetLoc()
set Ue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=RectFromCenterSizeBJ(QE,400.,400.)
set Mw=300.
set Mx=20
set My=360./I2R(Mx)
set Mz=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=Mx
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set M0=Mw*SinBJ(Mz)+GetLocationX(QE)
set M1=Mw*CosBJ(Mz)+GetLocationY(QE)
set QI=Location(M0,M1)
call CreateNUnitsAtLoc(1,$6830344C,GetOwningPlayer(GetTriggerUnit()),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.,$42544C46,GetLastCreatedUnit())
set Mz=Mz+My
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Ue[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),function yB)
set M3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=1.
call StartTimerBJ(M4[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,M3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set PO[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call RemoveLocation(QE)
return
else
endif
if yD() then
set Mt=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,100.)
call PauseUnitBJ(true,GetTriggerUnit())
call SetUnitInvulnerable(GetTriggerUnit(),true)
call ShowUnitHide(GetTriggerUnit())
set Up[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303451,GetOwningPlayer(GetTriggerUnit()),Up[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_UNIT_FACING)
set Uq[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
call StartTimerBJ(Ms[Mt],false,.2)
set PP[Mt]=true
set Mt=0
return
else
endif
if yE() then
call fl(GetTriggerUnit())
return
else
endif
if yG() then
call SetUnitAbilityLevelSwapped($41304351,GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call SetUnitAbilityLevelSwapped($41304352,GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
if yF() then
set Kw[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
call SetPlayerAbilityAvailableBJ(false,$41304351,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,$41304352,GetOwningPlayer(GetTriggerUnit()))
else
set Kw[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call SetPlayerAbilityAvailableBJ(true,$41304351,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,$41304352,GetOwningPlayer(GetTriggerUnit()))
endif
return
else
endif
if yH() then
set RX=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),RX,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305536,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305536,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41304354,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"innerfire",GetSpellTargetUnit())
call RemoveLocation(RX)
return
else
endif
if yN() then
set QE=GetUnitLoc(GetTriggerUnit())
set Mt=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(150.*I2R(Mt),QE),function yJ)
call RemoveLocation(QE)
if yM() then
call StartTimerBJ(M8,true,2.)
call ForForce(M6[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],function yL)
else
endif
return
else
endif
if yR() then
set QE=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(800.,QE),function yP)
if yQ() then
call StartTimerBJ(Mo[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,1.)
set PR[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
else
endif
call RemoveLocation(QE)
return
else
endif
if yS() then
set QE=GetUnitLoc(GetTriggerUnit())
set QI=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,$6830334A,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",GetSpellTargetLoc())
call RemoveLocation(QE)
call RemoveLocation(QI)
return
else
endif
endfunction
function yU takes nothing returns nothing
set UT=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(UT,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(UT,Condition(function xJ))
call TriggerAddAction(UT,function yT)
endfunction
function yV takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function yW takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($41303055,GetTriggerUnit())==1) then
return false
endif
if not (Oe[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false) then
return false
endif
return true
endfunction
function yX takes nothing returns boolean
if not (GetLearnedSkillBJ()==$41303055) then
return false
endif
if not (IsUnitInGroup(GetTriggerUnit(),Ol)==false) then
return false
endif
return true
endfunction
function yY takes nothing returns boolean
if not (GetLearnedSkillBJ()==$41303058) then
return false
endif
return true
endfunction
function yZ takes nothing returns boolean
if not (GetLearnedSkillBJ()==$41303137) then
return false
endif
return true
endfunction
function ya takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())==1) then
return false
endif
return true
endfunction
function yb takes nothing returns boolean
if not (GetLearnedSkillBJ()==$4130354E) then
return false
endif
return true
endfunction
function yc takes nothing returns boolean
if not (GetLearnedSkillBJ()==$4130544B) then
return false
endif
if not (GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit())==1) then
return false
endif
if not (Of[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false) then
return false
endif
return true
endfunction
function yd takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($41313952,GetTriggerUnit())==1) then
return false
endif
return true
endfunction
function ye takes nothing returns boolean
if not (GetLearnedSkillBJ()==$41313952) then
return false
endif
return true
endfunction
function yf takes nothing returns nothing
if yX() then
call TriggerSleepAction(.01)
if yW() then
call GroupAddUnitSimple(GetTriggerUnit(),Ol)
set Oe[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call TriggerRegisterUnitEvent(Uw,GetTriggerUnit(),EVENT_UNIT_ATTACKED)
else
endif
return
else
endif
if yY() then
call SetUnitAbilityLevelSwapped($41305555,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41303058,GetTriggerUnit())+1)
return
else
endif
if yZ() then
call TriggerSleepAction(.01)
call SetUnitAbilityLevelSwapped($4132394F,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41303137,GetTriggerUnit())+1)
return
else
endif
if yb() then
if ya() then
call UnitAddAbilityBJ($41305042,GetTriggerUnit())
else
endif
call SetUnitAbilityLevelSwapped($41314C5A,GetTriggerUnit(),GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit())+1)
call SetUnitAbilityLevelSwapped($41305041,GetTriggerUnit(),GetUnitAbilityLevelSwapped($4130354E,GetTriggerUnit()))
return
else
endif
if yc() then
call TriggerRegisterUnitEvent(Ux,GetTriggerUnit(),EVENT_UNIT_ATTACKED)
set Of[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
return
else
endif
if ye() then
call SetUnitAbilityLevelSwapped($41304351,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313952,GetTriggerUnit()))
call SetUnitAbilityLevelSwapped($41304352,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313952,GetTriggerUnit()))
if yd() then
set Kw[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call SetPlayerAbilityAvailableBJ(true,$41304351,GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,$41304352,GetOwningPlayer(GetTriggerUnit()))
else
endif
return
else
endif
endfunction
function yg takes nothing returns nothing
set Uv=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Uv,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(Uv,Condition(function yV))
call TriggerAddAction(Uv,function yf)
endfunction
function yh takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function yi takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303030) then
return false
endif
return true
endfunction
function yj takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303030) then
return false
endif
return true
endfunction
function yk takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303439) then
return false
endif
return true
endfunction
function yl takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$7530304A) then
return false
endif
return true
endfunction
function ym takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function yn takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$49304744)==true) then
return false
endif
return true
endfunction
function yo takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303032) then
return false
endif
return true
endfunction
function yp takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==false) then
return false
endif
return true
endfunction
function yq takes nothing returns boolean
if not yp() then
return false
endif
return true
endfunction
function yr takes nothing returns nothing
if yq() then
call UnitDamageTargetBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetEnumUnit(),1000.*I2R(GetUnitAbilityLevelSwapped($41313950,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function ys takes nothing returns boolean
if not (GetRandomInt(1,2)<=1) then
return false
endif
return true
endfunction
function yt takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetEnumUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function yu takes nothing returns nothing
if yt() then
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
endfunction
function yv takes nothing returns boolean
if not (GetRandomInt(1,2)<=2) then
return false
endif
return true
endfunction
function yw takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4930424C)==true) then
return false
endif
return true
endfunction
function yx takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830344B) then
return false
endif
return true
endfunction
function yy takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830334C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303355 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830335A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303430 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303431 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303432 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303433 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303434 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303435 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303436 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303437 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334D then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303438 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303439 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303441 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303442 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303443 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303444 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303445 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303446 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303447 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303448 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303449 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303350 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303351 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303352 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303353 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303354 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303738 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303739 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303741 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303742 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303743 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303744 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303745 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303746 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303747 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303748 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303749 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374B then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374D then
return true
endif
return false
endfunction
function yz takes nothing returns boolean
if not yy() then
return false
endif
return true
endfunction
function y0 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303331) then
return false
endif
return true
endfunction
function y1 takes nothing returns nothing
if yi() then
set RX=GetUnitLoc(GetTriggerUnit())
set Lf=I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true))*.05*I2R(GetUnitAbilityLevelSwapped($41305339,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call fP(Tq,GetTriggerUnit(),200,2,Lf,"Objects\\Spawnmodels\\Human\\FragmentationShards\\FragBoomSpawn.mdl")
call RemoveLocation(RX)
return
else
endif
if yj() then
call SetUnitAnimation(GetTriggerUnit(),"stand")
call gI(GetTriggerUnit(),Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],20,0,$41303146)
set LS=GetUnitAbilityLevelSwapped($41303146,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped($41303144,GetTriggerUnit(),LS)
call SetUnitAbilityLevelSwapped($41303145,GetTriggerUnit(),LS)
call UnitAddAbilityBJ($41305759,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41305759,GetTriggerUnit(),LS)
return
else
endif
if yk() then
call SetUnitAnimation(GetTriggerUnit(),"stand")
call SetUnitAbilityLevelSwapped($41305450,GetTriggerUnit(),GetUnitAbilityLevelSwapped($4130544F,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
return
else
endif
if yl() then
set QE=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49303651,QE)
call RemoveLocation(QE)
call RemoveUnit(GetTriggerUnit())
return
else
endif
if yo() then
call KillUnit(VF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set VF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetTriggerUnit()
call ForGroupBJ(Mu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],function ym)
call GroupClear(Mu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,600.,600.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830344A,GetOwningPlayer(GetTriggerUnit()),QI,bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),Mu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitAbilityLevelSwapped($41313951,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41313950,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
if yn() then
call UnitAddAbilityBJ($41305539,GetLastCreatedUnit())
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
return
else
endif
if yx() then
call KillUnit(GetTriggerUnit())
set QE=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(300.,QE),function yr)
call RemoveLocation(QE)
if yw() then
if ys() then
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41304A45,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.5,$42544C46,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
call RemoveLocation(QE)
else
endif
if yv() then
set QE=GetUnitLoc(GetTriggerUnit())
set KW=GetUnitsInRangeOfLocAll(200.,QE)
call ForGroupBJ(KW,function yu)
call RemoveLocation(QE)
call GroupClear(KW)
else
endif
else
endif
return
else
endif
if yz() then
call SetUnitAbilityLevelSwapped($41313943,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41313942,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41323946,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41323046,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41313945,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41313946,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call SetUnitAbilityLevelSwapped($41313947,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41313944,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
return
else
endif
if y0() then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Undead\\Darksummoning\\DarkSummonTarget.mdl")
call SetUnitVertexColorBJ(GetTriggerUnit(),0.,100,0.,50.)
call SetUnitAbilityLevelSwapped($41305644,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41305649,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call IssueImmediateOrder(GetTriggerUnit(),"tranquility")
call GroupAddUnitSimple(GetTriggerUnit(),Mm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call UnitApplyTimedLifeBJ(10.,$42544C46,GetTriggerUnit())
return
else
endif
endfunction
function y2 takes nothing returns nothing
set Uy=CreateTrigger()
call TriggerRegisterEnterRectSimple(Uy,GetPlayableMapRect())
call TriggerAddCondition(Uy,Condition(function yh))
call TriggerAddAction(Uy,function y1)
endfunction
function y3 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function y4 takes nothing returns nothing
if y3() then
call e8(GetTriggerUnit(),GetEnumUnit(),Lf)
else
endif
endfunction
function y5 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303035) then
return false
endif
return true
endfunction
function y6 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303451) then
return false
endif
return true
endfunction
function y7 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function y8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303032) then
return false
endif
return true
endfunction
function y9 takes nothing returns boolean
if IsPlayerAlly(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(GetKillingUnitBJ()))==true then
return true
endif
if GetOwningPlayer(GetKillingUnitBJ())==GetOwningPlayer(GetEnumUnit()) then
return true
endif
return false
endfunction
function zB takes nothing returns boolean
if not y9() then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function zC takes nothing returns nothing
if zB() then
set Lf=10.*I2R(GetUnitAbilityLevelSwapped($41304353,Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
call fK(GetEnumUnit(),Lf)
else
endif
endfunction
function zD takes nothing returns boolean
if UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],$42303359)==true then
return true
endif
if GetUnitTypeId(GetKillingUnitBJ())==$65303049 then
return true
endif
return false
endfunction
function zE takes nothing returns boolean
if not zD() then
return false
endif
return true
endfunction
function zF takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303331) then
return false
endif
return true
endfunction
function zG takes nothing returns nothing
if y5() then
set Rv=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
set Lf=500.*I2R(GetUnitAbilityLevelSwapped($41305342,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
call ForGroupBJ(GetUnitsInRangeOfLocAll(250.,Rv),function y4)
call AddSpecialEffectLocBJ(Rv,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(Rv)
return
else
endif
if y6() then
set QE=GetUnitLoc(GetTriggerUnit())
call SetUnitVertexColorBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100,100,100,0.)
call PauseUnitBJ(false,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call ShowUnitShow(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetUnitInvulnerable(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false)
call SelectUnitForPlayerSingle(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
call RemoveUnit(GetTriggerUnit())
call RemoveLocation(QE)
return
else
endif
if y8() then
call ForGroupBJ(Mu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],function y7)
call GroupClear(Mu[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveUnit(GetTriggerUnit())
return
else
endif
if zE() then
set Rv=GetUnitLoc(Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(450.,Rv),function zC)
call RemoveLocation(Rv)
return
else
endif
if zF() then
call GroupRemoveUnitSimple(GetTriggerUnit(),Mm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveUnit(GetTriggerUnit())
return
else
endif
endfunction
function zH takes nothing returns nothing
set VG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VG,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(VG,function zG)
endfunction
function zI takes nothing returns boolean
if not (IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)==true) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$4245696D)==true) then
return false
endif
return true
endfunction
function zJ takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Abilities\\Spells\\Other\\Incinerate\\IncinerateBuff.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=100.*I2R(GetUnitAbilityLevelSwapped($41303055,GetTriggerUnit()))
call e8(GetTriggerUnit(),GetAttacker(),Lf)
endfunction
function zK takes nothing returns nothing
set Uw=CreateTrigger()
call TriggerAddCondition(Uw,Condition(function zI))
call TriggerAddAction(Uw,function zJ)
endfunction
function zL takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($41305336,GetTriggerUnit())>0) then
return false
endif
if not (GetRandomInt(1,1000)<=50+GetUnitAbilityLevelSwapped($41305336,GetTriggerUnit())*5) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
return true
endfunction
function zM takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305337,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305337,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41305336,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetAttacker())
call RemoveLocation(QE)
endfunction
function zN takes nothing returns nothing
set SK=CreateTrigger()
call TriggerAddCondition(SK,Condition(function zL))
call TriggerAddAction(SK,function zM)
endfunction
function zO takes nothing returns boolean
if not (Kj[GetConvertedPlayerId(GetEnumPlayer())]==0) then
return false
endif
return true
endfunction
function zP takes nothing returns nothing
if zO() then
else
set Rv=GetUnitLoc(Pd[GetConvertedPlayerId(GetEnumPlayer())])
call CreateNUnitsAtLoc(1,$65303032,ConvertedPlayer(GetConvertedPlayerId(GetEnumPlayer())),Rv,bj_UNIT_FACING)
set VH[GetConvertedPlayerId(GetEnumPlayer())]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305341,VH[GetConvertedPlayerId(GetEnumPlayer())],GetUnitAbilityLevelSwapped($41305339,Pd[GetConvertedPlayerId(GetEnumPlayer())]))
set QE=GetRandomLocInRect(UV[GetConvertedPlayerId(GetEnumPlayer())])
call IssuePointOrderLoc(VH[GetConvertedPlayerId(GetEnumPlayer())],"attackground",QE)
set Kj[GetConvertedPlayerId(GetEnumPlayer())]=Kj[GetConvertedPlayerId(GetEnumPlayer())]-1
call RemoveLocation(QE)
call RemoveLocation(Rv)
endif
endfunction
function zQ takes nothing returns boolean
if not (Kj[GetConvertedPlayerId(Player(0))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(1))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(2))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(3))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(4))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(5))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(6))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(7))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(8))]==0) then
return false
endif
if not (Kj[GetConvertedPlayerId(Player(9))]==0) then
return false
endif
return true
endfunction
function zR takes nothing returns nothing
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function zP)
if zQ() then
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function zS takes nothing returns nothing
set UW=CreateTrigger()
call DisableTrigger(UW)
call TriggerRegisterTimerEventPeriodic(UW,.33)
call TriggerAddAction(UW,function zR)
endfunction
function zT takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303357)==false) then
return false
endif
return true
endfunction
function zU takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$48303033) then
return false
endif
return true
endfunction
function zV takes nothing returns nothing
if zU() then
if zT() then
call SetUnitAbilityLevelSwapped($4130574E,GetEnumUnit(),1)
else
call StartTimerBJ(Oi[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],false,.5)
endif
else
endif
endfunction
function zW takes nothing returns nothing
call ForGroupBJ(Ir,function zV)
endfunction
function zX takes nothing returns nothing
set VI=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(VI,Oi[1])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[2])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[3])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[4])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[5])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[6])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[7])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[8])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[9])
call TriggerRegisterTimerExpireEventBJ(VI,Oi[10])
call TriggerAddAction(VI,function zW)
endfunction
function zY takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
return true
endfunction
function zZ takes nothing returns boolean
if not (GetSpellAbilityId()==$41305059) then
return false
endif
return true
endfunction
function za takes nothing returns boolean
if not (GetSpellAbilityId()==$41305836) then
return false
endif
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=50000) then
return false
endif
return true
endfunction
function zb takes nothing returns boolean
if not (GetSpellAbilityId()==$41305835) then
return false
endif
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=5000) then
return false
endif
return true
endfunction
function zc takes nothing returns boolean
if not (GetSpellAbilityId()==$41304B56) then
return false
endif
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=200) then
return false
endif
return true
endfunction
function zd takes nothing returns boolean
if not (GetPlayerTechCountSimple($52303035,GetOwningPlayer(GetTriggerUnit()))==100) then
return false
endif
return true
endfunction
function ze takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303033)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303033))>=LS) then
return false
endif
return true
endfunction
function zf takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303032)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303032))>=LS) then
return false
endif
return true
endfunction
function zg takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303031)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303031))>=LS) then
return false
endif
return true
endfunction
function zh takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetSpellAbilityUnit(),$49303030)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetSpellAbilityUnit(),$49303030))>=LS) then
return false
endif
return true
endfunction
function zi takes nothing returns boolean
if not (Le==true) then
return false
endif
return true
endfunction
function zj takes nothing returns boolean
if not (GetSpellAbilityId()==$41305835) then
return false
endif
return true
endfunction
function zk takes nothing returns boolean
if not (GetSpellAbilityId()==$41304B56) then
return false
endif
return true
endfunction
function zl takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM))==0) then
return false
endif
return true
endfunction
function zm takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function zn takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==12) then
return false
endif
return true
endfunction
function zo takes nothing returns boolean
if not (GetPlayerTechCountSimple($52303035,GetEnumPlayer())>100-LS) then
return false
endif
return true
endfunction
function zp takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetEnumPlayer())])==$4E303030) then
return false
endif
return true
endfunction
function zq takes nothing returns nothing
if zo() then
call SetPlayerTechResearchedSwap($52303035,100,GetEnumPlayer())
else
call SetPlayerTechResearchedSwap($52303035,GetPlayerTechCountSimple($52303035,GetEnumPlayer())+LS,GetEnumPlayer())
endif
if zp() then
call DisplayTextToForce(GetForceOfPlayer(GetEnumPlayer()),"Уровень металлической защиты: "+I2S(GetPlayerTechCountSimple($52303035,GetOwningPlayer(GetTriggerUnit()))))
else
endif
endfunction
function zr takes nothing returns boolean
if not (Le==true) then
return false
endif
return true
endfunction
function zs takes nothing returns boolean
if GetSpellAbilityId()==$41304B56 then
return true
endif
if GetSpellAbilityId()==$41305835 then
return true
endif
return false
endfunction
function zt takes nothing returns boolean
if not zs() then
return false
endif
return true
endfunction
function zu takes nothing returns boolean
if not (GetSpellAbilityId()==$41303832) then
return false
endif
return true
endfunction
function zv takes nothing returns boolean
if not (GetSpellAbilityId()==$4131304C) then
return false
endif
return true
endfunction
function zw takes nothing returns boolean
if not (GetSpellAbilityId()==$41313043) then
return false
endif
return true
endfunction
function zx takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830314B then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303233 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303234 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303235 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303236 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303359 then
return true
endif
return false
endfunction
function zy takes nothing returns boolean
if not zx() then
return false
endif
return true
endfunction
function zz takes nothing returns boolean
if not (GetSpellAbilityId()==$4130314E) then
return false
endif
return true
endfunction
function z0 takes nothing returns nothing
if zZ() then
set Tq=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(Tq,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(Tq)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Здание успешно продано|r")
call AdjustPlayerStateBJ(GetUnitPointValue(GetTriggerUnit())/2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call KillUnit(GetTriggerUnit())
else
endif
if zt() then
set Le=true
if zc() then
set LS=1
else
if zb() then
set LS=10
else
if za() then
set LS=100
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Недостаточно золота.|r")
set Le=false
endif
endif
endif
if zd() then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Достигнут максимальный уровень улучшения.|r")
set Le=false
else
endif
if zi() then
if zh() then
set TM=$49303030
else
if zg() then
set TM=$49303031
set LS=LS*2
else
if zf() then
set TM=$49303032
set LS=LS*3
else
if ze() then
set TM=$49303033
set LS=LS*4
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c0000FF00Недостаточно руды.|r")
set Le=false
endif
endif
endif
endif
else
endif
if zr() then
if zk() then
call AdjustPlayerStateBJ(-200,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM),GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM))-1)
else
if zj() then
call AdjustPlayerStateBJ(-5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM),GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM))-10)
else
endif
endif
if zl() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),TM))
else
endif
if zn() then
if zm() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
set OT[OO]=OT[OO]+LS
call ff()
else
endif
else
endif
call ForForce(GetPlayersAll(),function zq)
else
endif
else
endif
if zy() then
if zu() then
call SetUnitManaPercentBJ(GetSpellTargetUnit(),GetUnitManaPercent(GetSpellTargetUnit())+1)
else
endif
if zv() then
call SetUnitManaPercentBJ(GetSpellTargetUnit(),GetUnitManaPercent(GetSpellTargetUnit())+10.)
else
endif
if zw() then
call SetUnitManaPercentBJ(GetSpellTargetUnit(),GetUnitManaPercent(GetSpellTargetUnit())+100.)
else
endif
else
endif
if zz() then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())-1.)
else
endif
endfunction
function z1 takes nothing returns nothing
set VJ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VJ,Condition(function zY))
call TriggerAddAction(VJ,function z0)
endfunction
function z2 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303035) then
return false
endif
if not (GetOwningPlayer(GetTriggerUnit())==GetTriggerPlayer()) then
return false
endif
return true
endfunction
function z3 takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function z4 takes nothing returns nothing
set VK=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(VK,Player(9),true)
call TriggerAddCondition(VK,Condition(function z2))
call TriggerAddAction(VK,function z3)
endfunction
function z5 takes nothing returns boolean
if not (IsUnitIllusionBJ(GetEventDamageSource())==false) then
return false
endif
return true
endfunction
function z6 takes nothing returns boolean
if not (GetRandomInt(1,50)<=GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())*3) then
return false
endif
return true
endfunction
function z7 takes nothing returns boolean
if not (GetUnitUserData(GetTriggerUnit())<=16) then
return false
endif
return true
endfunction
function z8 takes nothing returns boolean
if not (GetRandomInt(1,50)<=GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())*3) then
return false
endif
return true
endfunction
function z9 takes nothing returns boolean
if not (GetUnitUserData(GetTriggerUnit())<=15) then
return false
endif
return true
endfunction
function BBB takes nothing returns boolean
if not (GetRandomInt(1,50)<=GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())*3) then
return false
endif
return true
endfunction
function BBC takes nothing returns boolean
if not (GetUnitUserData(GetTriggerUnit())<=12) then
return false
endif
return true
endfunction
function BBD takes nothing returns boolean
if not (GetRandomInt(1,50)<=GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())*3) then
return false
endif
return true
endfunction
function BBE takes nothing returns boolean
if not (GetUnitUserData(GetTriggerUnit())<=7) then
return false
endif
return true
endfunction
function BBF takes nothing returns boolean
if not (GetRandomInt(1,50)<=GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())*3) then
return false
endif
return true
endfunction
function BBG takes nothing returns boolean
if not (GetUnitUserData(GetTriggerUnit())<=2) then
return false
endif
return true
endfunction
function BBH takes nothing returns boolean
if not (Jl==5) then
return false
endif
return true
endfunction
function BBI takes nothing returns boolean
if not (Jl==4) then
return false
endif
return true
endfunction
function BBJ takes nothing returns boolean
if not (Jl==3) then
return false
endif
return true
endfunction
function BBK takes nothing returns boolean
if not (Jl==2) then
return false
endif
return true
endfunction
function BBL takes nothing returns boolean
if not (Jl==1) then
return false
endif
return true
endfunction
function BBM takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($41303141,GetEventDamageSource())>0) then
return false
endif
return true
endfunction
function BBN takes nothing returns boolean
if not (GetRandomInt(1,100)<=10) then
return false
endif
return true
endfunction
function BBO takes nothing returns boolean
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A4E)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A38)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A53)==true then
return true
endif
return false
endfunction
function BBP takes nothing returns boolean
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304248)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304851)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304954)==true then
return true
endif
return false
endfunction
function BBQ takes nothing returns boolean
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$4930384A)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304355)==true then
return true
endif
return false
endfunction
function BBR takes nothing returns boolean
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49303839)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304739)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304446)==true then
return true
endif
return false
endfunction
function BBS takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEventDamageSource(),$49303251)==true) then
return false
endif
return true
endfunction
function BBT takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEventDamageSource(),$49303253)==true) then
return false
endif
return true
endfunction
function BBU takes nothing returns boolean
if not BBR() then
return false
endif
return true
endfunction
function BBV takes nothing returns boolean
if not BBQ() then
return false
endif
return true
endfunction
function BBW takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304851)==true) then
return false
endif
if not (Jl==1) then
return false
endif
return true
endfunction
function BBX takes nothing returns boolean
if not BBP() then
return false
endif
return true
endfunction
function BBY takes nothing returns boolean
if not BBO() then
return false
endif
return true
endfunction
function BBZ takes nothing returns boolean
if GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=0. then
return true
endif
if IsUnitDeadBJ(GetTriggerUnit())==true then
return true
endif
return false
endfunction
function BBa takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==true) then
return false
endif
return true
endfunction
function BBb takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]==11) then
return false
endif
return true
endfunction
function BBc takes nothing returns boolean
if not BBZ() then
return false
endif
return true
endfunction
function BBd takes nothing returns boolean
if not (GetUnitTypeId(GetEventDamageSource())==$4E303030) then
return false
endif
return true
endfunction
function BBe takes nothing returns nothing
if BBd() then
set VL=GetUnitLoc(GetEventDamageSource())
if BBG() then
if BBF() then
call UnitAddItemByIdSwapped($49303159,GetEventDamageSource())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddItemByIdSwapped($49303159,GetEventDamageSource())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
if BBE() then
if BBD() then
call CreateItemLoc($49303030,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303030,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
if BBC() then
if BBB() then
call CreateItemLoc($49303031,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303031,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
if z9() then
if z8() then
call CreateItemLoc($49303032,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303032,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
if z7() then
if z6() then
call CreateItemLoc($49303033,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303033,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
endif
endif
endif
endif
endif
if BBN() then
set Jl=GetRandomInt(1,6)
if BBM() then
if BBL() then
call CreateItemLoc($49303530,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303530,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BBK() then
call CreateItemLoc($49303459,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303459,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BBJ() then
call CreateItemLoc($49303532,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303532,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BBI() then
call CreateItemLoc($4930345A,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($4930345A,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BBH() then
call CreateItemLoc($49303531,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303531,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call CreateItemLoc($49303458,VL)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc($49303458,VL)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endif
endif
endif
endif
else
endif
else
endif
if BBY() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-3.)
else
if BBX() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-4.)
set Jl=GetRandomInt(1,6)
if BBW() then
call UnitAddItemByIdSwapped($49303159,GetEventDamageSource())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=KG[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddItemByIdSwapped($49303159,GetEventDamageSource())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
if BBV() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-5.)
else
if BBU() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-6.)
else
if BBT() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-8.)
else
if BBS() then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-9.)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-10.)
endif
endif
endif
endif
endif
endif
call RemoveLocation(VL)
if BBc() then
if BBb() then
if BBa() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
else
endif
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-30.)
endif
endfunction
function BBf takes nothing returns nothing
set Ru=CreateTrigger()
call TriggerAddCondition(Ru,Condition(function z5))
call TriggerAddAction(Ru,function BBe)
endfunction
function BBg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303549) then
return false
endif
if not (IsUnitIllusionBJ(GetEventDamageSource())==false) then
return false
endif
return true
endfunction
function BBh takes nothing returns boolean
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A4E)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A38)==true then
return true
endif
if UnitHasItemOfTypeBJ(GetEventDamageSource(),$49304A53)==true then
return true
endif
return false
endfunction
function BBi takes nothing returns boolean
if not (GetRandomInt(1,100)<=2+MD[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]) then
return false
endif
if not BBh() then
return false
endif
return true
endfunction
function BBj takes nothing returns boolean
if not (GetUnitTypeId(GetEventDamageSource())==$4E303030) then
return false
endif
return true
endfunction
function BBk takes nothing returns nothing
set VL=GetUnitLoc(GetEventDamageSource())
if BBj() then
if BBi() then
call CreateItemLoc($4930324B,VL)
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-3.)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-10.)
endif
call RemoveLocation(VL)
else
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-30.)
endif
endfunction
function BBl takes nothing returns nothing
set Rt=CreateTrigger()
call TriggerAddCondition(Rt,Condition(function BBg))
call TriggerAddAction(Rt,function BBk)
endfunction
function BBm takes nothing returns boolean
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303345)==true) then
return false
endif
if not (GetRandomInt(1,100)<=40) then
return false
endif
return true
endfunction
function BBn takes nothing returns boolean
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303345)==false) then
return false
endif
if not (GetRandomInt(1,100)<=20) then
return false
endif
return true
endfunction
function BBo takes nothing returns boolean
if BBm() then
return true
endif
if BBn() then
return true
endif
return false
endfunction
function BBp takes nothing returns boolean
if not (GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit())!=0) then
return false
endif
if not BBo() then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function BBq takes nothing returns boolean
if not (IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)==true) then
return false
endif
return true
endfunction
function BBr takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304846)==true) then
return false
endif
return true
endfunction
function BBs takes nothing returns nothing
if BBq() then
set Rv=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=50.*I2R(GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit()))
call e8(GetTriggerUnit(),GetAttacker(),Lf)
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305449,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305449,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"curse",GetAttacker())
call RemoveLocation(Rv)
else
set Rv=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetAttacker(),"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Lf=25.*I2R(GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit()))
call e8(GetTriggerUnit(),GetAttacker(),Lf)
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),Rv,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305449,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41305449,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($4130544B,GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"curse",GetAttacker())
call RemoveLocation(Rv)
endif
if BBr() then
set QE=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetAttackedUnitBJ()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305458,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.5,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetAttacker())
call RemoveLocation(QE)
else
endif
endfunction
function BBt takes nothing returns nothing
set Ux=CreateTrigger()
call TriggerAddCondition(Ux,Condition(function BBp))
call TriggerAddAction(Ux,function BBs)
endfunction
function BBu takes nothing returns boolean
if UnitHasBuffBJ(GetTriggerUnit(),$42303152)==true then
return true
endif
if UnitHasBuffBJ(GetTriggerUnit(),$42303341)==true then
return true
endif
return false
endfunction
function BBv takes nothing returns boolean
if not (GetIssuedOrderIdBJ()==String2OrderIdBJ("smart")) then
return false
endif
if not BBu() then
return false
endif
if not (Mi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function BBw takes nothing returns boolean
if not (RectContainsUnit(GJ,GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function BBx takes nothing returns nothing
if BBw() then
set VN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=GetOrderPointLoc()
call CreateNUnitsAtLoc(1,$68303349,GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"blink",GetOrderPointLoc())
else
endif
endfunction
function BBy takes nothing returns nothing
set VM=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VM,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(VM,Condition(function BBv))
call TriggerAddAction(VM,function BBx)
endfunction
function BBz takes nothing returns boolean
if not (GetSpellAbilityId()==$41313937) then
return false
endif
return true
endfunction
function BB0 takes nothing returns boolean
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$42656E61)==false) then
return false
endif
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$42656E67)==false) then
return false
endif
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$42656E73)==false) then
return false
endif
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$42505345)==false) then
return false
endif
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$424E6373)==false) then
return false
endif
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4253544E)==false) then
return false
endif
return true
endfunction
function BB1 takes nothing returns nothing
if BB0() then
call SetUnitPositionLoc(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetSpellTargetLoc())
set Mi[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=false
call StartTimerBJ(Mj[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],false,3.)
set PQ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
call IssuePointOrderLoc(Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],"move",VN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveLocation(VN[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call RemoveUnit(GetTriggerUnit())
else
endif
endfunction
function BB2 takes nothing returns nothing
set VO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VO,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(VO,Condition(function BBz))
call TriggerAddAction(VO,function BB1)
endfunction
function BB3 takes nothing returns boolean
if not (PQ[GetForLoopIndexA()]==true) then
return false
endif
if not (TimerGetRemaining(Mj[GetForLoopIndexA()])<=0.) then
return false
endif
return true
endfunction
function BB4 takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BB3() then
set PQ[GetForLoopIndexA()]=false
set Mi[GetForLoopIndexA()]=true
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BB5 takes nothing returns nothing
set VP=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(VP,Mj[1])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[2])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[3])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[4])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[5])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[6])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[7])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[8])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[9])
call TriggerRegisterTimerExpireEventBJ(VP,Mj[10])
call TriggerAddAction(VP,function BB4)
endfunction
function BB6 takes nothing returns boolean
return GetSpellAbilityId()==$4130554B
endfunction
function BB7 takes nothing returns nothing
local timer Hu=GetExpiredTimer()
local integer Hy=GetHandleId(Hu)
local unit HD=LoadUnitHandle(Rg,Hy,4)
local real VD=LoadReal(Rg,Hy,5)+.25
local unit VX=LoadUnitHandle(Rg,Hy,6)
local integer VY=LoadInteger(Rg,Hy,911)
local effect VZ=LoadEffectHandle(Rg,Hy,8)
call SaveReal(Rg,Hy,5,VD)
call PauseUnit(VX,true)
call UnitDamageTarget(HD,VX,25.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
if VD==2. or VD==4. or VD==6. or VD==8. then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",GetUnitX(VX),GetUnitY(VX)))
endif
if VD>=VY or GetUnitState(VX,UNIT_STATE_LIFE)<=0 then
call DestroyEffect(VZ)
call FlushChildHashtable(Rg,Hy)
call PauseTimer(Hu)
call DestroyTimer(Hu)
call PauseUnit(VX,false)
endif
set HD=null
set VX=null
set Hu=null
set VZ=null
endfunction
function BB8 takes nothing returns nothing
local timer Hu=GetExpiredTimer()
local timer Va
local integer Hy=GetHandleId(Hu)
local integer Vb
local unit HD=LoadUnitHandle(Rg,Hy,20)
local real VD=LoadReal(Rg,Hy,1)+60.
local unit Ts=LoadUnitHandle(Rg,Hy,2)
local real Tp=LoadReal(Rg,Hy,3)
local real VR=GetUnitX(Ts)+60.*Cos(Tp)
local real VS=GetUnitY(Ts)+60.*Sin(Tp)
local unit VX
local real Th=3000.*GetUnitAbilityLevel(HD,$4130554B)
local real VV=200.*GetUnitAbilityLevel(HD,$4130554B)
local real VW=.1*I2R(GetHeroStatBJ(bj_HEROSTAT_AGI,HD,true))*GetUnitAbilityLevel(HD,$4130554B)
local integer VY
local effect VZ
call SaveReal(Rg,Hy,1,VD)
if not IsTerrainPathable(VR,VS,PATHING_TYPE_FLYABILITY) then
call SetUnitX(Ts,VR)
call SetUnitY(Ts,VS)
endif
call GroupEnumUnitsInRange(Kz,GetUnitX(Ts),GetUnitY(Ts),100.,null)
loop
set VX=FirstOfGroup(Kz)
exitwhen VX==null
if IsUnitEnemy(HD,GetOwningPlayer(VX)) and not IsUnitInGroup(VX,K0[GetPlayerId(GetOwningPlayer(HD))]) and GetUnitState(VX,UNIT_STATE_LIFE)>0 and not IsUnitType(VX,UNIT_TYPE_MAGIC_IMMUNE) then
call GroupAddUnit(K0[GetPlayerId(GetOwningPlayer(HD))],VX)
call UnitDamageTarget(HD,VX,Th,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
if GetUnitAbilityLevel(VX,$42303348)>0 then
call UnitDamageTarget(HD,VX,VV,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
set VY=10
else
set VY=5
endif
if GetUnitAbilityLevel(VX,$42303347)>0 then
call UnitDamageTarget(HD,VX,VW,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)
endif
set VZ=AddSpecialEffectTarget("Abilities\\Spells\\Human\\Thunderclap\\ThunderclapTarget.mdl",VX,"origin")
set Va=CreateTimer()
set Vb=GetHandleId(Va)
call SaveAgentHandle(Rg,Vb,4,HD)
call SaveReal(Rg,Vb,5,0)
call SaveAgentHandle(Rg,Vb,6,VX)
call SaveInteger(Rg,Vb,911,VY)
call SaveEffectHandle(Rg,Vb,8,VZ)
call PauseUnit(VX,true)
call TimerStart(Va,.25,true,function BB7)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",GetUnitX(VX),GetUnitY(VX)))
endif
call GroupRemoveUnit(Kz,VX)
set VX=null
endloop
if VD>=1500. then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",GetUnitX(Ts),GetUnitY(Ts)))
call FlushChildHashtable(Rg,Hy)
call GroupClear(K0[GetPlayerId(GetOwningPlayer(HD))])
call PauseTimer(Hu)
call DestroyTimer(Hu)
endif
set HD=null
set VX=null
set Hu=null
set Va=null
set Ts=null
set VZ=null
endfunction
function BB9 takes nothing returns nothing
local unit HD=GetTriggerUnit()
local timer Hu=CreateTimer()
local integer Hy=GetHandleId(Hu)
local real VR=GetUnitX(HD)
local real VS=GetUnitY(HD)
local real VT=GetLocationX(GetSpellTargetLoc())
local real VU=GetLocationY(GetSpellTargetLoc())
local real Tp=Atan2(VU-VS,VT-VR)
local unit Ts=CreateUnit(GetOwningPlayer(HD),$68303255,VR,VS,57.186*Tp)
call SaveAgentHandle(Rg,Hy,20,HD)
call SaveReal(Rg,Hy,1,0)
call SaveAgentHandle(Rg,Hy,2,Ts)
call SaveReal(Rg,Hy,3,Tp)
call TimerStart(Hu,.03,true,function BB8)
set HD=null
set Hu=null
set Ts=null
endfunction
function BCB takes nothing returns nothing
set VQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(VQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(VQ,Condition(function BB6))
call TriggerAddAction(VQ,function BB9)
endfunction
function BCC takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==$68303255
endfunction
function BCD takes nothing returns nothing
local unit HD=GetTriggerUnit()
call TriggerSleepAction(6.)
call RemoveUnit(HD)
set HD=null
endfunction
function BCE takes nothing returns nothing
set Vc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Vc,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Vc,Condition(function BCC))
call TriggerAddAction(Vc,function BCD)
endfunction
function BCF takes nothing returns boolean
if not (GetForLoopIndexA()==10) then
return false
endif
return true
endfunction
function BCG takes nothing returns boolean
if not (GetForLoopIndexA()==9) then
return false
endif
return true
endfunction
function BCH takes nothing returns boolean
if not (GetForLoopIndexA()==8) then
return false
endif
return true
endfunction
function BCI takes nothing returns boolean
if not (GetForLoopIndexA()==7) then
return false
endif
return true
endfunction
function BCJ takes nothing returns boolean
if not (GetForLoopIndexA()==6) then
return false
endif
return true
endfunction
function BCK takes nothing returns boolean
if not (GetForLoopIndexA()==5) then
return false
endif
return true
endfunction
function BCL takes nothing returns boolean
if not (GetForLoopIndexA()==4) then
return false
endif
return true
endfunction
function BCM takes nothing returns boolean
if not (GetForLoopIndexA()==3) then
return false
endif
return true
endfunction
function BCN takes nothing returns boolean
if not (GetForLoopIndexA()==2) then
return false
endif
return true
endfunction
function BCO takes nothing returns boolean
if not (GetForLoopIndexA()==1) then
return false
endif
return true
endfunction
function BCP takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(Pd[GetForLoopIndexA()]),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitInGroup(GetEnumUnit(),M2[Mt])==false) then
return false
endif
if not (M5[Mt]==0) then
return false
endif
return true
endfunction
function BCQ takes nothing returns nothing
if BCP() then
call GroupAddUnitSimple(GetEnumUnit(),M2[Mt])
set Mv=CountUnitsInGroup(M2[Mt])
if BCO() then
set Uf[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCN() then
set Ug[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCM() then
set Uh[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCL() then
set Ui[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCK() then
set Uj[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCJ() then
set Uk[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCI() then
set Ul[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCH() then
set Um[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCG() then
set Un[Mv]=GetUnitLoc(GetEnumUnit())
else
if BCF() then
set Uo[Mv]=GetUnitLoc(GetEnumUnit())
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
endfunction
function BCR takes nothing returns boolean
if not (GetRandomInt(1,100)<=2) then
return false
endif
if not (GetUnitLevel(GetEnumUnit())<9) then
return false
endif
return true
endfunction
function BCS takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BCT takes nothing returns nothing
if BCS() then
if BCR() then
call ExplodeUnitBJ(GetEnumUnit())
else
set QE=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set QI=GetRandomLocInRect(Ue[Mt])
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitPositionLoc(GetEnumUnit(),QI)
set Lf=(2000.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[Mt],true))*.2)*I2R(GetUnitAbilityLevelSwapped($41313956,Pd[Mt]))
call e8(Pd[Mt],GetEnumUnit(),Lf)
call RemoveLocation(QE)
call RemoveLocation(QI)
endif
else
endif
endfunction
function BCU takes nothing returns boolean
if not (Mt==1) then
return false
endif
return true
endfunction
function BCV takes nothing returns boolean
if not (Mt==2) then
return false
endif
return true
endfunction
function BCW takes nothing returns boolean
if not (Mt==3) then
return false
endif
return true
endfunction
function BCX takes nothing returns boolean
if not (Mt==4) then
return false
endif
return true
endfunction
function BCY takes nothing returns boolean
if not (Mt==5) then
return false
endif
return true
endfunction
function BCZ takes nothing returns boolean
if not (Mt==6) then
return false
endif
return true
endfunction
function BCa takes nothing returns boolean
if not (Mt==7) then
return false
endif
return true
endfunction
function BCb takes nothing returns boolean
if not (Mt==8) then
return false
endif
return true
endfunction
function BCc takes nothing returns boolean
if not (Mt==9) then
return false
endif
return true
endfunction
function BCd takes nothing returns boolean
if not (Mt==10) then
return false
endif
return true
endfunction
function BCe takes nothing returns nothing
set QI=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
set Mv=Mv+1
if BCU() then
call SetUnitPositionLoc(GetEnumUnit(),Uf[Mv])
call RemoveLocation(Uf[Mv])
else
endif
if BCV() then
call SetUnitPositionLoc(GetEnumUnit(),Ug[Mv])
call RemoveLocation(Ug[Mv])
else
endif
if BCW() then
call SetUnitPositionLoc(GetEnumUnit(),Uh[Mv])
call RemoveLocation(Uh[Mv])
else
endif
if BCX() then
call SetUnitPositionLoc(GetEnumUnit(),Ui[Mv])
call RemoveLocation(Ui[Mv])
else
endif
if BCY() then
call SetUnitPositionLoc(GetEnumUnit(),Uj[Mv])
call RemoveLocation(Uj[Mv])
else
endif
if BCZ() then
call SetUnitPositionLoc(GetEnumUnit(),Uk[Mv])
call RemoveLocation(Uk[Mv])
else
endif
if BCa() then
call SetUnitPositionLoc(GetEnumUnit(),Ul[Mv])
call RemoveLocation(Ul[Mv])
else
endif
if BCb() then
call SetUnitPositionLoc(GetEnumUnit(),Um[Mv])
call RemoveLocation(Um[Mv])
else
endif
if BCc() then
call SetUnitPositionLoc(GetEnumUnit(),Un[Mv])
call RemoveLocation(Un[Mv])
else
endif
if BCd() then
call SetUnitPositionLoc(GetEnumUnit(),Uo[Mv])
call RemoveLocation(Uo[Mv])
else
endif
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call e8(Pd[Mt],GetEnumUnit(),Lf)
call RemoveLocation(QI)
endfunction
function BCf takes nothing returns boolean
if not (M5[Mt]==10) then
return false
endif
return true
endfunction
function BCg takes nothing returns boolean
if not (PO[GetForLoopIndexA()]==true) then
return false
endif
if not (TimerGetRemaining(M4[GetForLoopIndexA()])<=0.) then
return false
endif
return true
endfunction
function BCh takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BCg() then
set PO[GetForLoopIndexA()]=false
set Mt=GetForLoopIndexA()
set Mv=0
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Ue[GetForLoopIndexA()]),function BCQ)
set Mv=0
call ForGroupBJ(M2[Mt],function BCT)
if BCf() then
set M5[Mt]=0
set Lf=(2000.+I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[Mt],true))*.2)*I2R(GetUnitAbilityLevelSwapped($41313956,Pd[Mt]))
call ForGroupBJ(M2[Mt],function BCe)
call GroupClear(M2[Mt])
else
set QE=GetRectCenter(Ue[Mt])
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set M3[Mt]=M3[Mt]-.09
set M5[Mt]=M5[Mt]+1
call StartTimerBJ(M4[GetForLoopIndexA()],false,M3[Mt])
set PO[GetForLoopIndexA()]=true
call RemoveLocation(QE)
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BCi takes nothing returns nothing
set Vd=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Vd,M4[1])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[2])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[3])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[4])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[5])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[6])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[7])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[8])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[9])
call TriggerRegisterTimerExpireEventBJ(Vd,M4[10])
call TriggerAddAction(Vd,function BCh)
endfunction
function BCj takes nothing returns boolean
if not (L8<=16) then
return false
endif
return true
endfunction
function BCk takes nothing returns boolean
if not (L8<=8) then
return false
endif
return true
endfunction
function BCl takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function BCm takes nothing returns boolean
if not (IsUnitAliveBJ(Uq[Mt])==true) then
return false
endif
return true
endfunction
function BCn takes nothing returns boolean
if not (PP[GetForLoopIndexA()]==true) then
return false
endif
if not (TimerGetRemaining(Ms[GetForLoopIndexA()])<=0.) then
return false
endif
return true
endfunction
function BCo takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BCn() then
set PP[GetForLoopIndexA()]=false
set Mt=GetForLoopIndexA()
set QI=GetUnitLoc(Uq[Mt])
set Rx=RectFromCenterSizeBJ(QI,1000.,1000.)
if BCm() then
set L8=GetRandomInt(1,20)
if BCl() then
set QE=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303450,GetOwningPlayer(Uq[Mt]),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
else
if BCk() then
set QE=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830344E,GetOwningPlayer(Uq[Mt]),QI,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41313953,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41314132,Pd[Mt]))
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
else
if BCj() then
set QE=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830344F,GetOwningPlayer(Uq[Mt]),QI,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41305539,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41314132,Pd[Mt]))
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
else
set QE=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830344D,GetOwningPlayer(Uq[Mt]),QI,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41313954,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41314132,Pd[Mt]))
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
endif
endif
call RemoveLocation(QE)
endif
call StartTimerBJ(Ms[Mt],false,.2)
set PP[Mt]=true
else
endif
call RemoveLocation(QI)
call RemoveRect(Rx)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BCp takes nothing returns nothing
set Ve=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[1])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[2])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[3])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[4])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[5])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[6])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[7])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[8])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[9])
call TriggerRegisterTimerExpireEventBJ(Ve,Ms[10])
call TriggerAddAction(Ve,function BCo)
endfunction
function BCq takes nothing returns boolean
return GetSpellAbilityId()==$41305135
endfunction
function BCr takes nothing returns nothing
local timer Hu=GetExpiredTimer()
local integer Hy=GetHandleId(Hu)
local unit HD=LoadUnitHandle(Rg,Hy,0)
local unit Ts=LoadUnitHandle(Rg,Hy,1)
local lightning Uc=LoadLightningHandle(Rg,Hy,2)
local real Vg=LoadReal(Rg,Hy,3)
local real Vh=GetUnitX(Ts)
local real Vi=GetUnitY(Ts)
local real Vj=GetUnitX(HD)
local real Vk=GetUnitY(HD)
local integer Vl=GetUnitAbilityLevel(HD,$41305135)
local real Th=300*Vl
local group RK
local player G4=GetOwningPlayer(HD)
local location Tb=GetUnitLoc(HD)
local unit Q4
call SaveReal(Rg,Hy,3,Vg+.1)
if Vg>=.5 then
if Ts!=null and HD!=null and GetUnitTypeId(HD)!=$68303836 and GetUnitTypeId(HD)!=$68303837 and GetUnitTypeId(HD)!=$6E303643 then
call SetUnitX(Ts,Vj)
call SetUnitY(Ts,Vk)
call SetUnitX(HD,Vh)
call SetUnitY(HD,Vi)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",Vh,Vi))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",Vj,Vk))
endif
set Tb=GetUnitLoc(HD)
set RK=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(RK,Tb,300,null)
loop
set Q4=FirstOfGroup(RK)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(HD,Q4,Th)
call DestroyEffect(AddSpecialEffectTarget("AAbilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",Q4,"chest"))
endif
call GroupRemoveUnit(RK,Q4)
set Q4=null
endloop
set Tb=GetUnitLoc(Ts)
set RK=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(RK,Tb,300,null)
loop
set Q4=FirstOfGroup(RK)
exitwhen Q4==null
if IsUnitEnemy(Q4,G4) then
call e8(HD,Q4,Th)
endif
call GroupRemoveUnit(RK,Q4)
set Q4=null
endloop
call DestroyLightning(Uc)
call FlushChildHashtable(Rg,Hy)
call PauseTimer(Hu)
call DestroyTimer(Hu)
endif
set HD=null
set Hu=null
set Ts=null
set Uc=null
endfunction
function BCs takes nothing returns nothing
local unit HD=GetTriggerUnit()
local unit Ts=GetSpellTargetUnit()
local timer Hu=CreateTimer()
local integer Hy=GetHandleId(Hu)
local lightning Uc=AddLightningEx("AFOD",true,GetUnitX(HD),GetUnitY(HD),100,GetUnitX(Ts),GetUnitY(Ts),100)
call SaveAgentHandle(Rg,Hy,0,HD)
call SaveAgentHandle(Rg,Hy,1,Ts)
call SaveLightningHandle(Rg,Hy,2,Uc)
call SaveReal(Rg,Hy,3,0)
call TimerStart(Hu,.1,true,function BCr)
set HD=null
set Hu=null
set Ts=null
set Uc=null
endfunction
function BCt takes nothing returns nothing
set Vf=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Vf,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Vf,Condition(function BCq))
call TriggerAddAction(Vf,function BCs)
endfunction
function BCu takes nothing returns boolean
if not (IsUnitInGroup(GetTriggerUnit(),Kx)==false) then
return false
endif
if not (UnitHasBuffBJ(GetAttacker(),$42303359)==true) then
return false
endif
return true
endfunction
function BCv takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),Kx)
call TriggerRegisterUnitEvent(Vn,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function BCw takes nothing returns nothing
set Vm=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Vm,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Vm,Condition(function BCu))
call TriggerAddAction(Vm,function BCv)
endfunction
function BCx takes nothing returns boolean
if not (UnitHasBuffBJ(GetEventDamageSource(),$42303359)==true) then
return false
endif
return true
endfunction
function BCy takes nothing returns nothing
set QE=GetUnitLoc(GetEventDamageSource())
set Rv=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$65303049,GetOwningPlayer(GetEventDamageSource()),QE,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41304357,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41304353,GetEventDamageSource()))
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",Rv)
call RemoveLocation(QE)
call RemoveLocation(Rv)
endfunction
function BCz takes nothing returns nothing
set Vn=CreateTrigger()
call TriggerAddCondition(Vn,Condition(function BCx))
call TriggerAddAction(Vn,function BCy)
endfunction
function BC0 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetForLoopIndexA()],$49303436)==false) then
return false
endif
return true
endfunction
function BC1 takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303536)==true) then
return false
endif
return true
endfunction
function BC2 takes nothing returns nothing
if BC1() then
else
call GroupRemoveUnitSimple(GetEnumUnit(),M7)
call UnitRemoveAbilityBJ($41313958,GetEnumUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call ForceRemovePlayerSimple(GetOwningPlayer(GetEnumUnit()),M6[GetForLoopIndexA()])
if BC0() then
call UnitShareVisionBJ(false,GetEnumUnit(),ConvertedPlayer(GetForLoopIndexA()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endfunction
function BC3 takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(M7)==true) then
return false
endif
return true
endfunction
function BC4 takes nothing returns nothing
call ForGroupBJ(M7,function BC2)
if BC3() then
call PauseTimerBJ(true,M8)
else
endif
endfunction
function BC5 takes nothing returns nothing
set Vo=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Vo,M8)
call TriggerAddAction(Vo,function BC4)
endfunction
function BC6 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830334C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303355 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830335A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303430 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303431 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303432 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303433 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303434 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303435 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303436 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303437 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334D then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303438 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303439 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303441 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303442 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303443 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303444 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303445 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303446 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303447 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303448 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303449 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830334F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303350 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303351 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303352 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303353 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303354 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303738 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303739 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303741 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303742 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303743 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303744 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303745 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303746 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303747 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303748 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303749 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374B then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6830374D then
return true
endif
return false
endfunction
function BC7 takes nothing returns boolean
if not BC6() then
return false
endif
return true
endfunction
function BC8 takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function BC9 takes nothing returns nothing
set Vp=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Vp,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(Vp,Condition(function BC7))
call TriggerAddAction(Vp,function BC8)
endfunction
function BDB takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303531)==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BDC takes nothing returns nothing
if BDB() then
call SetUnitLifePercentBJ(GetEnumUnit(),GetUnitLifePercent(GetEnumUnit())+3.)
set Mp=GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())/100.*3.+Mq*I2R(GetUnitAbilityLevelSwapped($4131394C,Pd[I8]))*I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[I8],true))
call fH(GetEnumUnit(),Mp)
else
call GroupRemoveUnitSimple(GetEnumUnit(),Mn[I8])
call UnitRemoveAbilityBJ($41313949,GetEnumUnit())
endif
endfunction
function BDD takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(Mn[I8])==true) then
return false
endif
return true
endfunction
function BDE takes nothing returns boolean
if not (PR[GetForLoopIndexA()]==true) then
return false
endif
if not (TimerGetRemaining(Mo[GetForLoopIndexA()])<=0.) then
return false
endif
return true
endfunction
function BDF takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BDE() then
set PR[GetForLoopIndexA()]=false
set I8=GetForLoopIndexA()
if BDD() then
call PauseTimerBJ(true,Mo[I8])
else
call StartTimerBJ(Mo[I8],false,1.)
set PR[I8]=true
call ForGroupBJ(Mn[I8],function BDC)
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BDG takes nothing returns nothing
set Vq=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[1])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[2])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[3])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[4])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[5])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[6])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[7])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[8])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[9])
call TriggerRegisterTimerExpireEventBJ(Vq,Mo[10])
call TriggerAddAction(Vq,function BDF)
endfunction
function BDH takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303049) then
return false
endif
return true
endfunction
function BDI takes nothing returns nothing
local unit HD=Vs
local unit Hu=GetEnumUnit()
local integer Tu=GetUnitAbilityLevel(HD,$41313938)
local boolean Si=UnitHasItemOfTypeBJ(HD,$4930335A)
local boolean Sj=UnitHasItemOfTypeBJ(HD,$49303932)
local boolean Sk=UnitHasItemOfTypeBJ(HD,$4930474D)
local boolean Sl=UnitHasItemOfTypeBJ(HD,$49303641)
local boolean Sm=UnitHasItemOfTypeBJ(HD,$49304556)
local boolean Sn=UnitHasItemOfTypeBJ(HD,$49304847)
local boolean Ur=UnitHasItemOfTypeBJ(HD,$49304951)
local real Ts=300*Tu
local location Tb
if IsUnitAliveBJ(Hu) then
if Si then
set Ts=Ts*1.2
endif
if Sj then
set Ts=Ts*1.3
endif
if Sk then
set Ts=Ts*1.3
endif
if Sl then
set Ts=Ts*1.8
endif
if Sm then
set Ts=Ts*1.4
endif
if Ur then
if GetRandomInt(1,100)<=5 then
set Tb=GetUnitLoc(Hu)
call UnitApplyTimedLife(CreateUnitAtLoc(GetOwningPlayer(HD),$6E303554,Tb,270),$42544C46,60)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",Hu,"origin"))
call fT(GetOwningPlayer(HD),Tb,$41314A4D,"silence")
call RemoveLocation(Tb)
endif
endif
if IsUnitEnemy(Hu,GetOwningPlayer(HD)) then
if Sk then
if GetRandomInt(1,100)<=3 then
set Tb=GetUnitLoc(Hu)
call fT(GetOwningPlayer(HD),Tb,$41305855,"silence")
call RemoveLocation(Tb)
endif
endif
set Ts=Ts+GetHeroInt(Vs,true)/10*Tu
else
set Ts=Ts*.5+GetHeroInt(Vs,true)/25*Tu
if Sl then
call fQ(GetOwningPlayer(HD),Hu,$4130354A,"innerfire")
else
if Sn then
call fQ(GetOwningPlayer(HD),Hu,$41305851,"innerfire")
else
if Sm then
call fQ(GetOwningPlayer(HD),Hu,$41304F4A,"innerfire")
else
if Sj and GetRandomInt(1,100)<=20 then
call fQ(GetOwningPlayer(HD),Hu,$41304546,"innerfire")
endif
endif
endif
endif
endif
if IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(Hu))==true then
if IsUnitType(GetEnumUnit(),UNIT_TYPE_MECHANICAL)==false and IsUnitType(Hu,UNIT_TYPE_STRUCTURE)==false and IsUnitType(Hu,UNIT_TYPE_ANCIENT)==false then
call fH(Hu,Ts)
endif
else
call e8(Vs,GetEnumUnit(),Ts)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\GreenDragonMissile\\GreenDragonMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
endif
set HD=null
set Hu=null
endfunction
function BDJ takes nothing returns boolean
if not (DistanceBetweenPoints(QE,GetUnitLoc(GetEnumUnit()))<=150.) then
return false
endif
return true
endfunction
function BDK takes nothing returns nothing
if BDJ() then
set Vt=GetEnumUnit()
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ConditionalTriggerExecute(Vu)
else
endif
endfunction
function BDL takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
set Vs=Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set Rx=RectFromCenterSizeBJ(QE,300.,300.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BDI)
call ForGroupBJ(Mm[GetConvertedPlayerId(GetOwningPlayer(Vs))],function BDK)
call RemoveRect(Rx)
call RemoveLocation(QE)
endfunction
function BDM takes nothing returns nothing
set Vr=CreateTrigger()
call TriggerRegisterEnterRectSimple(Vr,GetPlayableMapRect())
call TriggerAddCondition(Vr,Condition(function BDH))
call TriggerAddAction(Vr,function BDL)
endfunction
function BDN takes nothing returns nothing
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(Vt),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41313939,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41313939,GetLastCreatedUnit(),GetUnitAbilityLevelSwapped($41305649,Pd[GetConvertedPlayerId(GetOwningPlayer(Vt))]))
call IssueTargetOrder(GetLastCreatedUnit(),"acidbomb",GetEnumUnit())
endfunction
function BDO takes nothing returns nothing
set QI=GetUnitLoc(Vt)
set Tt=RectFromCenterSizeBJ(QI,500.,500.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Tt),function BDN)
call RemoveRect(Tt)
call RemoveLocation(QI)
endfunction
function BDP takes nothing returns nothing
set Vu=CreateTrigger()
call TriggerAddAction(Vu,function BDO)
endfunction
function BDQ takes nothing returns boolean
if not (GetPlayerSlotState(GetOwningPlayer(GetTriggerUnit()))==PLAYER_SLOT_STATE_PLAYING) then
return false
endif
return true
endfunction
function BDR takes nothing returns boolean
if GetHeroLevel(GetTriggerUnit())==35 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==50 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==65 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==80 then
return true
endif
if GetHeroLevel(GetTriggerUnit())==95 then
return true
endif
return false
endfunction
function BDS takes nothing returns boolean
if not BDR() then
return false
endif
return true
endfunction
function BDT takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=10) then
return false
endif
if not (CountUnitsInGroup(KW)==0) then
return false
endif
return true
endfunction
function BDU takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=20) then
return false
endif
if not (CountUnitsInGroup(KW)==0) then
return false
endif
return true
endfunction
function BDV takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=30) then
return false
endif
if not (CountUnitsInGroup(KW)==0) then
return false
endif
return true
endfunction
function BDW takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=40) then
return false
endif
if not (CountUnitsInGroup(KW)==0) then
return false
endif
return true
endfunction
function BDX takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())>=50) then
return false
endif
if not (CountUnitsInGroup(KW)==0) then
return false
endif
return true
endfunction
function BDY takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$4E303030) then
return false
endif
return true
endfunction
function BDZ takes nothing returns boolean
if not (KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=1) then
return false
endif
return true
endfunction
function BDa takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==200) then
return false
endif
return true
endfunction
function BDb takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==180) then
return false
endif
return true
endfunction
function BDc takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==160) then
return false
endif
return true
endfunction
function BDd takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==140) then
return false
endif
return true
endfunction
function BDe takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==120) then
return false
endif
return true
endfunction
function BDf takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==100) then
return false
endif
return true
endfunction
function BDg takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==80) then
return false
endif
return true
endfunction
function BDh takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==60) then
return false
endif
return true
endfunction
function BDi takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==40) then
return false
endif
return true
endfunction
function BDj takes nothing returns boolean
if not (GetHeroLevel(GetTriggerUnit())==20) then
return false
endif
return true
endfunction
function BDk takes nothing returns boolean
if not (PS==true) then
return false
endif
return true
endfunction
function BDl takes nothing returns nothing
if BDS() then
call eo(GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))
else
endif
if BDY() then
call GroupClear(KW)
set KW=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$6830384B)
if BDX() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6830384B,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830384A,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
set KW=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$6830384A)
if BDW() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$6830384A,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
set KW=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$68303849)
if BDV() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303849,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
set KW=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$68303848)
if BDU() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303848,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
set KW=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$68303847)
if BDT() then
set QE=GetRectCenter(GZ)
call CreateNUnitsAtLoc(1,$68303847,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
endif
endif
endif
endif
endif
call GroupClear(KW)
else
endif
if BDk() then
if BDZ() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00У вас есть нераспределённые очки специализации! Вы можете потратить их, нажав ESC.|r")
else
endif
if BDj() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDi() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDh() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDg() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDf() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDe() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDd() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDc() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDb() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
if BDa() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Получено 1 очко специализации! Вы можете потратить его, нажав ESC|r")
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
endfunction
function BDm takes nothing returns nothing
set SW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(SW,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(SW,Condition(function BDQ))
call TriggerAddAction(SW,function BDl)
endfunction
function BDn takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==true) then
return false
endif
if not (On==false) then
return false
endif
return true
endfunction
function BDo takes nothing returns boolean
if not (OK[GetForLoopIndexA()]>0) then
return false
endif
return true
endfunction
function BDp takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),OM[1])==true) then
return false
endif
return true
endfunction
function BDq takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),OM[2])==true) then
return false
endif
return true
endfunction
function BDr takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),OM[3])==true) then
return false
endif
return true
endfunction
function BDs takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),OM[4])==true) then
return false
endif
return true
endfunction
function BDt takes nothing returns boolean
if not (IsPlayerInForce(GetTriggerPlayer(),OM[5])==true) then
return false
endif
return true
endfunction
function BDu takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$4E303030) then
return false
endif
return true
endfunction
function BDv takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303030) then
return false
endif
return true
endfunction
function BDw takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303033) then
return false
endif
return true
endfunction
function BDx takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303031) then
return false
endif
return true
endfunction
function BDy takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303032) then
return false
endif
return true
endfunction
function BDz takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303035) then
return false
endif
return true
endfunction
function BD0 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303036) then
return false
endif
return true
endfunction
function BD1 takes nothing returns boolean
if not (GetUnitTypeId(Pd[GetConvertedPlayerId(GetTriggerPlayer())])==$48303034) then
return false
endif
return true
endfunction
function BD2 takes nothing returns boolean
if not (KE[GetConvertedPlayerId(GetTriggerPlayer())]>0) then
return false
endif
if not (KE[GetConvertedPlayerId(GetTriggerPlayer())]<=11) then
return false
endif
return true
endfunction
function BD3 takes nothing returns nothing
set MG=GetConvertedPlayerId(GetTriggerPlayer())
set OK[1]=OH[MG]
set OK[2]=OF[MG]
set OK[3]=OE[MG]
set OK[4]=OG[MG]
set OK[5]=OI[MG]
set OK[6]=N9[MG]
set OK[7]=OB[MG]
set OK[8]=KM[MG]
set OK[9]=KL[MG]
set OK[10]=KO[MG]
set OK[11]=KH[MG]
set OK[12]=KI[MG]
set OK[13]=KG[MG]
set OK[14]=KF[MG]
set OK[15]=OC[MG]
set OK[16]=KK[MG]
set OK[17]=OD[MG]
set OK[18]=KJ[MG]
set MG=0
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BDo() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),OJ[GetForLoopIndexA()]+(" "+(I2S(OK[GetForLoopIndexA()])+("/"+I2S(OL[GetForLoopIndexA()])))))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set OO=GetConvertedPlayerId(GetTriggerPlayer())
call fg()
if BD2() then
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"|c0080FF00Доступно очков специализации: |r"+(I2S(KE[GetConvertedPlayerId(GetTriggerPlayer())])+"|c0080FF00.|r"))
call RemoveUnit(Vv[GetConvertedPlayerId(GetTriggerPlayer())])
set QE=GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())])
call CreateNUnitsAtLoc(1,$6830324D,GetTriggerPlayer(),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
set Vv[GetConvertedPlayerId(GetTriggerPlayer())]=GetLastCreatedUnit()
call SelectUnitForPlayerSingle(GetLastCreatedUnit(),GetTriggerPlayer())
if BDp() then
call UnitAddAbilityBJ($41304431,GetLastCreatedUnit())
else
endif
if BDq() then
call UnitAddAbilityBJ($41304432,GetLastCreatedUnit())
else
endif
if BDr() then
call UnitAddAbilityBJ($41303142,GetLastCreatedUnit())
else
endif
if BDs() then
call UnitAddAbilityBJ($41303051,GetLastCreatedUnit())
else
endif
if BDt() then
call UnitAddAbilityBJ($4130324A,GetLastCreatedUnit())
else
endif
if BDu() then
call UnitAddAbilityBJ($41304653,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304656,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304652,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
else
endif
if BDv() then
call UnitAddAbilityBJ($41304655,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304657,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304652,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
else
endif
if BDw() then
call UnitAddAbilityBJ($41304657,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304652,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304655,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
if BDx() then
call UnitAddAbilityBJ($41304654,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304652,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304657,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
if BDy() then
call UnitAddAbilityBJ($41304654,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304656,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304E,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130465A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
if BDz() then
call UnitAddAbilityBJ($41304654,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304658,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304D,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130465A,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
if BD0() then
call UnitAddAbilityBJ($41304656,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130465A,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304E,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304D,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
if BD1() then
call UnitAddAbilityBJ($41304652,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304658,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304F,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304655,GetLastCreatedUnit())
call UnitAddAbilityBJ($4130304E,GetLastCreatedUnit())
call UnitAddAbilityBJ($41304730,GetLastCreatedUnit())
call UnitAddAbilityBJ($41303050,GetLastCreatedUnit())
else
endif
else
endif
endfunction
function BD4 takes nothing returns nothing
set SX=CreateTrigger()
call DisableTrigger(SX)
call TriggerRegisterPlayerEventEndCinematic(SX,Player(0))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(1))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(2))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(3))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(4))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(5))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(6))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(7))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(8))
call TriggerRegisterPlayerEventEndCinematic(SX,Player(9))
call TriggerAddCondition(SX,Condition(function BDn))
call TriggerAddAction(SX,function BD3)
endfunction
function BD5 takes nothing returns boolean
if not (GetTriggerUnit()==Vv[GetConvertedPlayerId(GetTriggerPlayer())]) then
return false
endif
return true
endfunction
function BD6 takes nothing returns nothing
call RemoveUnit(Vv[GetConvertedPlayerId(GetTriggerPlayer())])
endfunction
function BD7 takes nothing returns nothing
set Vw=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(0),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(1),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(2),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(3),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(4),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(5),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(6),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(7),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(8),false)
call TriggerRegisterPlayerSelectionEventBJ(Vw,Player(9),false)
call TriggerAddCondition(Vw,Condition(function BD5))
call TriggerAddAction(Vw,function BD6)
endfunction
function BD8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830324D) then
return false
endif
return true
endfunction
function BD9 takes nothing returns boolean
if not (N9[MG]>=5) then
return false
endif
return true
endfunction
function BEB takes nothing returns boolean
if not (GetSpellAbilityId()==$4130304E) then
return false
endif
return true
endfunction
function BEC takes nothing returns boolean
if not (OB[MG]>=5) then
return false
endif
return true
endfunction
function BED takes nothing returns boolean
if not (GetSpellAbilityId()==$4130304D) then
return false
endif
return true
endfunction
function BEE takes nothing returns boolean
if not (OC[MG]>=5) then
return false
endif
return true
endfunction
function BEF takes nothing returns boolean
if not (GetSpellAbilityId()==$4130304F) then
return false
endif
return true
endfunction
function BEG takes nothing returns boolean
if not (OD[MG]>=5) then
return false
endif
return true
endfunction
function BEH takes nothing returns boolean
if not (GetSpellAbilityId()==$41303050) then
return false
endif
return true
endfunction
function BEI takes nothing returns boolean
if not (OH[MG]>=1) then
return false
endif
return true
endfunction
function BEJ takes nothing returns boolean
if not (GetSpellAbilityId()==$41304431) then
return false
endif
return true
endfunction
function BEK takes nothing returns boolean
if not (OE[MG]>=1) then
return false
endif
return true
endfunction
function BEL takes nothing returns boolean
if not (GetSpellAbilityId()==$41303051) then
return false
endif
return true
endfunction
function BEM takes nothing returns boolean
if not (OG[MG]>=1) then
return false
endif
return true
endfunction
function BEN takes nothing returns boolean
if not (GetSpellAbilityId()==$4130324A) then
return false
endif
return true
endfunction
function BEO takes nothing returns boolean
if not (OF[MG]>=1) then
return false
endif
return true
endfunction
function BEP takes nothing returns boolean
if not (GetSpellAbilityId()==$41303142) then
return false
endif
return true
endfunction
function BEQ takes nothing returns boolean
if not (OI[MG]>=1) then
return false
endif
return true
endfunction
function BER takes nothing returns boolean
if not (GetSpellAbilityId()==$41304432) then
return false
endif
return true
endfunction
function BES takes nothing returns boolean
if not (KF[MG]>=5) then
return false
endif
return true
endfunction
function BET takes nothing returns boolean
if not (GetSpellAbilityId()==$41304652) then
return false
endif
return true
endfunction
function BEU takes nothing returns boolean
if not (KH[MG]>=5) then
return false
endif
return true
endfunction
function BEV takes nothing returns boolean
if not (GetSpellAbilityId()==$41304654) then
return false
endif
return true
endfunction
function BEW takes nothing returns boolean
if not (KI[MG]>=5) then
return false
endif
return true
endfunction
function BEX takes nothing returns boolean
if not (GetSpellAbilityId()==$41304655) then
return false
endif
return true
endfunction
function BEY takes nothing returns boolean
if not (KJ[MG]>=5) then
return false
endif
return true
endfunction
function BEZ takes nothing returns boolean
if not (GetSpellAbilityId()==$41304657) then
return false
endif
return true
endfunction
function BEa takes nothing returns boolean
if not (KL[MG]>=5) then
return false
endif
return true
endfunction
function BEb takes nothing returns boolean
if not (GetSpellAbilityId()==$41304658) then
return false
endif
return true
endfunction
function BEc takes nothing returns boolean
if not (KM[MG]>=5) then
return false
endif
return true
endfunction
function BEd takes nothing returns boolean
if not (GetSpellAbilityId()==$41304656) then
return false
endif
return true
endfunction
function BEe takes nothing returns boolean
if not (KK[MG]>=5) then
return false
endif
return true
endfunction
function BEf takes nothing returns boolean
if not (GetSpellAbilityId()==$41304730) then
return false
endif
return true
endfunction
function BEg takes nothing returns boolean
if not (KG[MG]>=5) then
return false
endif
return true
endfunction
function BEh takes nothing returns boolean
if not (GetSpellAbilityId()==$41304653) then
return false
endif
return true
endfunction
function BEi takes nothing returns boolean
if not (KO[MG]>=5) then
return false
endif
return true
endfunction
function BEj takes nothing returns boolean
if not (GetSpellAbilityId()==$4130465A) then
return false
endif
return true
endfunction
function BEk takes nothing returns boolean
if not (KE[MG]>0) then
return false
endif
return true
endfunction
function BEl takes nothing returns boolean
if not (Le==true) then
return false
endif
return true
endfunction
function BEm takes nothing returns boolean
if not (KE[MG]>0) then
return false
endif
return true
endfunction
function BEn takes nothing returns nothing
set MG=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
if BEm() then
set Le=false
if BEB() then
set PG=5
if BD9() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set N9[MG]=N9[MG]+1
call SetUnitAbilityLevelSwapped($41304735,Pd[MG],N9[MG]+1)
set LS=N9[MG]
endif
else
endif
if BED() then
set PG=5
if BEC() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OB[MG]=OB[MG]+1
call SetPlayerTechResearchedSwap($52303042,OB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetOwningPlayer(GetTriggerUnit()))
set LS=OB[MG]
endif
else
endif
if BEF() then
set PG=5
if BEE() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OC[MG]=OC[MG]+1
set LS=OC[MG]
endif
else
endif
if BEH() then
set PG=5
if BEG() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OD[MG]=OD[MG]+1
set LS=OD[MG]
endif
else
endif
if BEJ() then
set PG=1
if BEI() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OH[MG]=1
set LS=OH[MG]
endif
else
endif
if BEL() then
set PG=1
if BEK() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OE[MG]=1
set LS=1
endif
else
endif
if BEN() then
set PG=1
if BEM() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OG[MG]=1
set LS=1
endif
else
endif
if BEP() then
set PG=1
if BEO() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set OF[MG]=1
set LS=1
endif
else
endif
if BER() then
set PG=1
if BEQ() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
call SetUnitAbilityLevelSwapped($41304435,Pd[MG],2)
set MD[MG]=MD[MG]+2
call ConditionalTriggerExecute(UB)
set OI[MG]=1
set LS=1
endif
else
endif
if BET() then
set PG=5
if BES() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set KF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1
set LS=KF[MG]
endif
else
endif
if BEV() then
set PG=5
if BEU() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set KH[MG]=KH[MG]+1
set LS=KH[MG]
endif
else
endif
if BEX() then
set PG=5
if BEW() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set KI[MG]=KI[MG]+1
set LS=KI[MG]
set Le=true
endif
else
endif
if BEZ() then
set PG=5
if BEY() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
call ModifyHeroStat(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,30)
set KJ[MG]=KJ[MG]+1
set LS=KJ[MG]
endif
else
endif
if BEb() then
set PG=5
if BEa() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
call ModifyHeroStat(bj_HEROSTAT_AGI,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,50)
set KL[MG]=KL[MG]+1
set LS=KL[MG]
endif
else
endif
if BEd() then
set PG=5
if BEc() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
call ModifyHeroStat(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,50)
set KM[MG]=KM[MG]+1
set LS=KM[MG]
endif
else
endif
if BEf() then
set PG=5
if BEe() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set KK[MG]=KK[MG]+1
set LS=KK[MG]
endif
else
endif
if BEh() then
set PG=5
if BEg() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set KG[MG]=KG[MG]+1
set LS=KG[MG]
endif
else
endif
if BEj() then
set PG=5
if BEi() then
call QuestMessageBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),bj_QUESTMESSAGE_WARNING,PL[4])
else
set Le=true
set KO[MG]=KO[MG]+1
set LS=KO[MG]
endif
else
endif
if BEl() then
set KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-1
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\Berserker\\Berserkertarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),GetAbilityName(GetSpellAbilityId())+(PL[5]+(I2S(LS)+("|c0080FFFF / |r"+I2S(PG)))))
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),PL[6]+(I2S(KE[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+"|c0080FF00.|r"))
if BEk() then
else
call RemoveUnit(GetSpellAbilityUnit())
endif
set LS=0
else
endif
set MG=0
else
endif
endfunction
function BEo takes nothing returns nothing
set Vx=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(Vx,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(Vx,Condition(function BD8))
call TriggerAddAction(Vx,function BEn)
endfunction
function BEp takes nothing returns boolean
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==true then
return true
endif
if UnitHasBuffBJ(GetTriggerUnit(),$42466967)==true then
return true
endif
return false
endfunction
function BEq takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
if not BEp() then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
if not (OB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0) then
return false
endif
return true
endfunction
function BEr takes nothing returns nothing
call UnitAddAbilityBJ($41304B59,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41304B59,GetTriggerUnit(),OB[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
endfunction
function BEs takes nothing returns nothing
set Vy=CreateTrigger()
call TriggerRegisterEnterRectSimple(Vy,GetPlayableMapRect())
call TriggerAddCondition(Vy,Condition(function BEq))
call TriggerAddAction(Vy,function BEr)
endfunction
function BEt takes nothing returns boolean
if not (GetRandomInt(1,100)<=KO[GetForLoopIndexA()]*20) then
return false
endif
if not (IsUnitAliveBJ(Pd[GetForLoopIndexA()])==true) then
return false
endif
return true
endfunction
function BEu takes nothing returns boolean
if not (KO[GetForLoopIndexA()]>0) then
return false
endif
return true
endfunction
function BEv takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BEu() then
if BEt() then
set QE=GetUnitLoc(Pd[GetForLoopIndexA()])
call AddSpecialEffectTargetUnitBJ("origin",Pd[GetForLoopIndexA()],"Abilities\\Spells\\Other\\StrongDrink\\BrewmasterMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BEw takes nothing returns nothing
set Vz=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(Vz,45.)
call TriggerAddAction(Vz,function BEv)
endfunction
function BEx takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BEy takes nothing returns nothing
if BEx() then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),8000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
else
endif
endfunction
function BEz takes nothing returns boolean
if not (GetSpellAbilityId()==$41313857) then
return false
endif
return true
endfunction
function BE0 takes nothing returns boolean
if not (GetRandomInt(1,10)<=8) then
return false
endif
return true
endfunction
function BE1 takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303456)==true) then
return false
endif
return true
endfunction
function BE2 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==false) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetTriggerUnit()!=GetEnumUnit()) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BE3 takes nothing returns nothing
if BE2() then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+5.)
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41313853,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"manaburn",GetEnumUnit())
call RemoveLocation(QE)
else
endif
endfunction
function BE4 takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303457)==true) then
return false
endif
return true
endfunction
function BE5 takes nothing returns boolean
if not (UnitHasBuffBJ(GetSpellTargetUnit(),$42303454)==true) then
return false
endif
return true
endfunction
function BE6 takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$6E303355) then
return false
endif
return true
endfunction
function BE7 takes nothing returns nothing
if BE6() then
call SetUnitPositionLocFacingLocBJ(GetEnumUnit(),Rv,Rv)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call IssueTargetOrder(GetEnumUnit(),"attack",GetTriggerUnit())
else
endif
endfunction
function BE8 takes nothing returns boolean
if not (GetRandomInt(1,10)<=2) then
return false
endif
return true
endfunction
function BE9 takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303246)==true) then
return false
endif
return true
endfunction
function BFB takes nothing returns boolean
if not (GetSpellAbilityId()==$41314B41) then
return false
endif
return true
endfunction
function BFC takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (IsPlayerAlly(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==false) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())==$6830354A) then
return false
endif
return true
endfunction
function BFD takes nothing returns boolean
if not BFC() then
return false
endif
return true
endfunction
function BFE takes nothing returns nothing
if BFD() then
call UnitAddAbilityBJ($41314B45,GetEnumUnit())
call IssueImmediateOrder(GetEnumUnit(),"defend")
else
endif
endfunction
function BFF takes nothing returns boolean
if not (GetSpellAbilityId()==$41314B44) then
return false
endif
return true
endfunction
function BFG takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetEnumUnit()))==MAP_CONTROL_USER) then
return false
endif
return true
endfunction
function BFH takes nothing returns nothing
if BFG() then
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41303557,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.5,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetEnumUnit())
else
endif
endfunction
function BFI takes nothing returns boolean
if not (GetSpellAbilityId()==$41304241) then
return false
endif
return true
endfunction
function BFJ takes nothing returns nothing
if BEz() then
set Rv=GetUnitLoc(GetSpellTargetUnit())
call AddSpecialEffectLocBJ(Rv,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set KW=GetUnitsInRangeOfLocAll(300.,Rv)
call ForGroupBJ(KW,function BEy)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),10000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call RemoveLocation(Rv)
else
endif
if BE1() then
if BE0() then
set QE=GetUnitLoc(GetSpellAbilityUnit())
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41305458,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(.5,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"thunderbolt",GetTriggerUnit())
call RemoveLocation(QE)
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())-10.)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
else
endif
if BE4() then
set Rv=GetUnitLoc(GetSpellTargetUnit())
set KW=GetUnitsInRangeOfLocAll(600.,Rv)
call ForGroupBJ(KW,function BE3)
call RemoveLocation(Rv)
else
endif
if BE5() then
set QE=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetSpellTargetUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41313853,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"manaburn",GetTriggerUnit())
call RemoveLocation(QE)
else
endif
if BE9() then
if BE8() then
set Rv=GetUnitLoc(GetTriggerUnit())
set KW=GetUnitsInRangeOfLocAll(900.,Rv)
set bj_wantDestroyGroup=true
call ForGroupBJ(KW,function BE7)
call RemoveLocation(Rv)
else
endif
else
endif
if BFB() then
call e8(GetTriggerUnit(),GetSpellTargetUnit(),50000)
else
endif
if BFF() then
set bj_wantDestroyGroup=true
set QE=GetUnitLoc(GetSpellTargetUnit())
call ForGroupBJ(GetUnitsInRangeOfLocAll(600.,QE),function BFE)
call RemoveLocation(QE)
else
endif
if BFI() then
set QE=GetUnitLoc(GetTriggerUnit())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(900.,QE),function BFH)
call RemoveLocation(QE)
else
endif
endfunction
function BFK takes nothing returns nothing
set V0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V0,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddAction(V0,function BFJ)
endfunction
function BFL takes nothing returns boolean
if not (GetRandomInt(1,20)==1) then
return false
endif
return true
endfunction
function BFM takes nothing returns boolean
if not (UnitHasBuffBJ(GetAttackedUnitBJ(),$42303458)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
return true
endfunction
function BFN takes nothing returns boolean
if not (UnitHasBuffBJ(GetAttacker(),$42303459)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BFO takes nothing returns boolean
if not (GetRandomInt(1,30)==1) then
return false
endif
return true
endfunction
function BFP takes nothing returns boolean
if not (UnitHasBuffBJ(GetAttackedUnitBJ(),$42303455)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
return true
endfunction
function BFQ takes nothing returns boolean
if not (GetRandomInt(1,20)==1) then
return false
endif
return true
endfunction
function BFR takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303357) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
return true
endfunction
function BFS takes nothing returns boolean
if not (GetRandomInt(1,10)==1) then
return false
endif
return true
endfunction
function BFT takes nothing returns boolean
if not (UnitHasBuffBJ(GetAttacker(),$4230345A)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BFU takes nothing returns boolean
if not (GetRandomInt(1,20)==1) then
return false
endif
return true
endfunction
function BFV takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303352 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303649 then
return true
endif
return false
endfunction
function BFW takes nothing returns boolean
if not BFV() then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
return true
endfunction
function BFX takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
return true
endfunction
function BFY takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
return true
endfunction
function BFZ takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
return true
endfunction
function BFa takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
return true
endfunction
function BFb takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303351) then
return false
endif
return true
endfunction
function BFc takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==false) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetTriggerUnit()!=GetEnumUnit()) then
return false
endif
return true
endfunction
function BFd takes nothing returns nothing
if BFc() then
call SetUnitLifeBJ(GetEnumUnit(),100.)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BFe takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303353) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttackedUnitBJ()),GetOwningPlayer(GetAttacker()))==true) then
return false
endif
return true
endfunction
function BFf takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303056) then
return false
endif
return true
endfunction
function BFg takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=Iu*100) then
return false
endif
return true
endfunction
function BFh takes nothing returns boolean
if not (GetRandomInt(1,100)==1) then
return false
endif
return true
endfunction
function BFi takes nothing returns boolean
if not (GetUnitTypeId(GetAttacker())==$6E30314E) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BFj takes nothing returns nothing
if BFM() then
if BFL() then
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetAttackedUnitBJ()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($4131385A,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"acidbomb",GetAttacker())
call RemoveLocation(QE)
else
endif
else
endif
if BFN() then
call AdjustPlayerStateBJ(-500,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
if BFP() then
if BFO() then
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetAttackedUnitBJ()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41313856,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"invisibility",GetAttackedUnitBJ())
call RemoveLocation(QE)
else
endif
else
endif
if BFR() then
if BFQ() then
set QE=GetUnitLoc(GetTriggerUnit())
set UU=RectFromCenterSizeBJ(QE,500.,500.)
call CreateNUnitsAtLoc(1,$65303045,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
set QE=GetRandomLocInRect(UU)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QE)
call RemoveLocation(QE)
else
endif
else
endif
if BFT() then
if BFS() then
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetAttackedUnitBJ()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41313936,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"slow",GetAttackedUnitBJ())
call RemoveLocation(QE)
else
endif
else
endif
if BFW() then
if BFU() then
call SetUnitAbilityLevelSwapped($41304C57,GetTriggerUnit(),GetUnitAbilityLevelSwapped($41304C57,GetTriggerUnit())+1)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
else
endif
if BFb() then
if BFa() then
call SetUnitAbilityLevelSwapped($41313933,GetTriggerUnit(),2)
else
if BFZ() then
call SetUnitAbilityLevelSwapped($41313933,GetTriggerUnit(),3)
else
if BFY() then
call SetUnitAbilityLevelSwapped($41313933,GetTriggerUnit(),4)
else
if BFX() then
call SetUnitAbilityLevelSwapped($41313933,GetTriggerUnit(),5)
else
endif
endif
endif
endif
else
endif
if BFe() then
set Rv=GetUnitLoc(GetTriggerUnit())
set KW=GetUnitsInRangeOfLocAll(600.,Rv)
call ForGroupBJ(KW,function BFd)
call RemoveLocation(Rv)
else
endif
if BFf() then
call IssueImmediateOrder(GetTriggerUnit(),"fanofknives")
else
endif
if BFi() then
if BFh() then
if BFg() then
set Mg=Iu*100
else
set Mg=GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),I2R(Mg),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"UI\\Feedback\\GoldCredit\\GoldCredit.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
else
endif
endfunction
function BFk takes nothing returns nothing
set V1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(V1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(V1,function BFj)
endfunction
function BFl takes nothing returns boolean
if not (PD>100) then
return false
endif
return true
endfunction
function BFm takes nothing returns boolean
if not (O3!=L1) then
return false
endif
return true
endfunction
function BFn takes nothing returns boolean
if not (Ln>0) then
return false
endif
return true
endfunction
function BFo takes nothing returns boolean
if not (PC==true) then
return false
endif
if not (IsQuestCompleted(QQ)==false) then
return false
endif
return true
endfunction
function BFp takes nothing returns boolean
if not (Jy>=60) then
return false
endif
return true
endfunction
function BFq takes nothing returns boolean
if not (Jw>=60) then
return false
endif
return true
endfunction
function BFr takes nothing returns boolean
if not (Jx<10) then
return false
endif
return true
endfunction
function BFs takes nothing returns boolean
if not (Jw<10) then
return false
endif
return true
endfunction
function BFt takes nothing returns boolean
if not (Jy<10) then
return false
endif
return true
endfunction
function BFu takes nothing returns nothing
local integer H9=1
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if O5[bj_forLoopAIndex] then
set H9=H9+1
if GetPlayerSlotState(ConvertedPlayer(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING then
call MultiboardSetItemValueBJ(MY,2,H9,GetPlayerName(ConvertedPlayer(bj_forLoopAIndex)))
else
call MultiboardSetItemValueBJ(MY,2,H9,"|c00C0C0C0"+(GetPlayerName(ConvertedPlayer(bj_forLoopAIndex))+"|r"))
endif
call MultiboardSetItemValueBJ(MY,3,H9,I2S(GetHeroLevel(Pd[bj_forLoopAIndex])))
call DoNothing()
if GetUnitLifePercent(Pd[bj_forLoopAIndex])>50. then
call MultiboardSetItemValueBJ(MY,4,H9,"|c0000FF00"+(I2S(R2I(GetUnitLifePercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitLifePercent(Pd[bj_forLoopAIndex])>20. then
call MultiboardSetItemValueBJ(MY,4,H9,"|c00FFFF00"+(I2S(R2I(GetUnitLifePercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitLifePercent(Pd[bj_forLoopAIndex])>0. then
call MultiboardSetItemValueBJ(MY,4,H9,"|c00FF0000"+(I2S(R2I(GetUnitLifePercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitLifePercent(Pd[bj_forLoopAIndex])==0. or IsUnitDeadBJ(Pd[bj_forLoopAIndex])==true then
call MultiboardSetItemValueBJ(MY,4,H9,"|c00C0C0C0"+"0%|r")
endif
call DoNothing()
if GetUnitManaPercent(Pd[bj_forLoopAIndex])>50. then
call MultiboardSetItemValueBJ(MY,5,H9,"|c000080FF"+(I2S(R2I(GetUnitManaPercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitManaPercent(Pd[bj_forLoopAIndex])>20. then
call MultiboardSetItemValueBJ(MY,5,H9,"|c00FFFF00"+(I2S(R2I(GetUnitManaPercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitManaPercent(Pd[bj_forLoopAIndex])>0. then
call MultiboardSetItemValueBJ(MY,5,H9,"|c00FF0000"+(I2S(R2I(GetUnitManaPercent(Pd[bj_forLoopAIndex])))+"%|r"))
elseif GetUnitManaPercent(Pd[bj_forLoopAIndex])==0. or IsUnitDeadBJ(Pd[bj_forLoopAIndex])==true then
call MultiboardSetItemValueBJ(MY,5,H9,"|c00C0C0C0"+"0%|r")
endif
call DoNothing()
call MultiboardSetItemValueBJ(MY,6,H9,"|c00FF8080"+(I2S(GetPlayerState(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER))+"|r"))
call DoNothing()
if MD[bj_forLoopAIndex]>25 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c0020FF20"+(I2S(MD[bj_forLoopAIndex])+"|r"))
elseif MD[bj_forLoopAIndex]>0 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c00FFFF00"+(I2S(MD[bj_forLoopAIndex])+"|r"))
elseif MD[bj_forLoopAIndex]==0 then
call MultiboardSetItemValueBJ(MY,7,H9,"|c00BBBBBB"+(I2S(MD[bj_forLoopAIndex])+"|r"))
else
call MultiboardSetItemValueBJ(MY,7,H9,"|c00FF2000"+(I2S(MD[bj_forLoopAIndex])+"|r"))
endif
endif
call DoNothing()
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DoNothing()
if Iv==0 then
call MultiboardSetItemValueBJ(MY,1,Is+3,"|c00FF0000Врагов: |r|c0080FF80"+I2S(Iv))
elseif Iv<=30 then
call MultiboardSetItemValueBJ(MY,1,Is+3,"|c00FF0000Врагов: |r|c00FFFF80"+I2S(Iv))
elseif Iv<=90 then
call MultiboardSetItemValueBJ(MY,1,Is+3,"|c00FF0000Врагов: |r|c00FF8000"+I2S(Iv))
else
call MultiboardSetItemValueBJ(MY,1,Is+3,"|c00FF0000Врагов: |r|c00FF0000"+I2S(Iv))
endif
call DoNothing()
if BFn() then
call MultiboardSetItemValueBJ(MY,2,Is+3,I2S(Ln)+"|c00AAFF00с. до волны |r "+I2S(O3))
else
if BFm() then
call MultiboardSetItemValueBJ(MY,2,Is+3,"|c0000FF00Волна : |r "+(I2S(O3)+("  >>> "+I2S(L1))))
else
set PD=R2I(I2R(J0)/I2R(Lv[O3])*100)
if BFl() then
set PD=100
else
endif
call MultiboardSetItemValueBJ(MY,2,Is+3,"|c00FF0000Волна: |r|c0080FF80"+(I2S(O3)+(" ("+(I2S(PD)+"%)"))))
endif
endif
call MultiboardSetItemValueBJ(MY,1,Is+4,"|c00FF0000Сложность: |r"+I2S(Iu))
call MultiboardSetItemValueBJ(MY,2,Is+4,"|c00FF8000Удача команды: |r"+I2S(MP))
if BFo() then
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8080Квест: |r"+O6[MW])
else
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8080Квест: |r-")
endif
set Me=Me+1
set Jy=Jy+1
set Jz="|c00FF8000Экспедиция гоблинов |r"
if BFp() then
set Jy=0
set Jw=Jw+1
else
endif
if BFq() then
set Jw=0
set Jx=Jx+1
else
endif
if BFr() then
set Jz=Jz+("0"+I2S(Jx))
else
set Jz=Jz+I2S(Jx)
endif
if BFs() then
set Jz=Jz+(":0"+I2S(Jw))
else
set Jz=Jz+(":"+I2S(Jw))
endif
if BFt() then
set Jz=Jz+(":0"+I2S(Jy))
else
set Jz=Jz+(":"+I2S(Jy))
endif
call MultiboardSetTitleText(MY,Jz)
endfunction
function BFv takes nothing returns nothing
set Sd=CreateTrigger()
call DisableTrigger(Sd)
call TriggerRegisterTimerEventPeriodic(Sd,1.)
call TriggerAddAction(Sd,function BFu)
endfunction
function BFw takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BFx takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BFy takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BFz takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BF0 takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BF1 takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BF2 takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BF3 takes nothing returns boolean
if not (GetRandomInt(0,1)==1) then
return false
endif
return true
endfunction
function BF4 takes nothing returns nothing
if BFw() then
set QE=GetRandomLocInRect(C1)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BFx() then
set QE=GetRandomLocInRect(C2)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BFy() then
set QE=GetRandomLocInRect(C3)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BFz() then
set QE=GetRandomLocInRect(C4)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BF0() then
set QE=GetRandomLocInRect(C5)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BF1() then
set QE=GetRandomLocInRect(Fe)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BF2() then
set QE=GetRandomLocInRect(C6)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
if BF3() then
set QE=GetRandomLocInRect(Fd)
call CreateItemLoc($49303158,QE)
call RemoveLocation(QE)
else
endif
endfunction
function BF5 takes nothing returns nothing
set V2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(V2,160.)
call TriggerAddAction(V2,function BF4)
endfunction
function BF6 takes nothing returns boolean
if not (Jl<=20+40*(ME-1)) then
return false
endif
if not (Le==false) then
return false
endif
return true
endfunction
function BF7 takes nothing returns boolean
if not (V5==$49304B43) then
return false
endif
return true
endfunction
function BF8 takes nothing returns boolean
if not (Jl<=MC) then
return false
endif
return true
endfunction
function BF9 takes nothing returns nothing
set QE=GetUnitLoc(V4)
set V5=$49304B43
set Jl=GetRandomInt(1,20+40*(MF-1))
set MC=20+MP
set ME=0
set Le=false
if BF8() then
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateItemLoc(V6[1],QE)
else
set ME=2
loop
exitwhen ME>MF
if BF6() then
set V5=V6[ME]
set Le=true
else
endif
set ME=ME+1
endloop
if BF7() then
set V5=V6[MF]
else
endif
call CreateItemLoc(V5,QE)
endif
call e5(GetLastCreatedItem(),QE)
call RemoveLocation(QE)
endfunction
function BGB takes nothing returns nothing
set V3=CreateTrigger()
call TriggerAddAction(V3,function BF9)
endfunction
function BGC takes nothing returns boolean
if not (O3==66) then
return false
endif
return true
endfunction
function BGD takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())!=$6E303341) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$6E303339) then
return false
endif
return true
endfunction
function BGE takes nothing returns nothing
if BGD() then
call IssuePointOrderLoc(GetEnumUnit(),"attack",QE)
else
endif
endfunction
function BGF takes nothing returns boolean
if not (Iv<0) then
return false
endif
return true
endfunction
function BGG takes nothing returns boolean
if not (Iv<240) then
return false
endif
return true
endfunction
function BGH takes nothing returns nothing
if BGC() then
set QE=GetRectCenter(DK)
else
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
endif
call ForGroupBJ(ND,function BGE)
call RemoveLocation(QE)
if BGG() then
if BGF() then
set Iv=0
else
call SetPlayerAbilityAvailableBJ(false,$41304330,Player(11))
endif
else
endif
endfunction
function BGI takes nothing returns nothing
set V9=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(V9,10.)
call TriggerAddAction(V9,function BGH)
endfunction
function BGJ takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Player(11) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(10) then
return true
endif
return false
endfunction
function BGK takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())!=$68303158) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303238) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303239) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303154) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303153) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303150) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303152) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303139) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$68303151) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$6E303335) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
if not BGJ() then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetUnitAbilityLevelSwapped($41556C73,GetTriggerUnit())!=1) then
return false
endif
return true
endfunction
function BGL takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())==Player(11)) then
return false
endif
return true
endfunction
function BGM takes nothing returns boolean
if not (Iv>=220) then
return false
endif
return true
endfunction
function BGN takes nothing returns boolean
if not (Iv>110) then
return false
endif
if not (Iv<220) then
return false
endif
return true
endfunction
function BGO takes nothing returns boolean
if not (O3==66) then
return false
endif
return true
endfunction
function BGP takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())!=$6E303341) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())!=$6E303339) then
return false
endif
return true
endfunction
function BGQ takes nothing returns nothing
call GroupAddUnitSimple(GetTriggerUnit(),ND)
set Iv=CountUnitsInGroup(ND)
if BGN() then
if BGL() then
call SetUnitOwner(GetTriggerUnit(),Player(10),false)
else
call SetUnitOwner(GetTriggerUnit(),Player(11),false)
endif
else
if BGM() then
call SetPlayerAbilityAvailableBJ(true,$41304330,Player(11))
call SetUnitPathing(GetTriggerUnit(),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(10))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(10))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(10))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(10))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(10))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(11))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(11))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(11))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(11))),false)
call SetUnitPathing(GroupPickRandomUnit(GetUnitsOfPlayerAll(Player(11))),false)
else
endif
endif
if BGO() then
set QE=GetRectCenter(DK)
else
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
endif
if BGP() then
call IssuePointOrderLoc(GetTriggerUnit(),"attack",QE)
else
endif
call RemoveLocation(QE)
endfunction
function BGR takes nothing returns nothing
set WB=CreateTrigger()
call TriggerRegisterEnterRectSimple(WB,GetPlayableMapRect())
call TriggerAddCondition(WB,Condition(function BGK))
call TriggerAddAction(WB,function BGQ)
endfunction
function BGS takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Player(10) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(11) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) then
return true
endif
return false
endfunction
function BGT takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not BGS() then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
if not (GetUnitAbilityLevelSwapped($41556C73,GetTriggerUnit())!=1) then
return false
endif
return true
endfunction
function BGU takes nothing returns boolean
if GetUnitAbilityLevelSwapped($416C6F63,GetKillingUnitBJ())==1 then
return true
endif
if IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==true then
return true
endif
return false
endfunction
function BGV takes nothing returns boolean
if not (OC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>0) then
return false
endif
if not BGU() then
return false
endif
return true
endfunction
function BGW takes nothing returns boolean
if not (OD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>0) then
return false
endif
return true
endfunction
function BGX takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true) then
return false
endif
return true
endfunction
function BGY takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==3) then
return false
endif
return true
endfunction
function BGZ takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true) then
return false
endif
return true
endfunction
function BGa takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==10) then
return false
endif
return true
endfunction
function BGb takes nothing returns boolean
if not (OE[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]>0) then
return false
endif
if not (IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BGc takes nothing returns boolean
if not (Ix<=L9) then
return false
endif
return true
endfunction
function BGd takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==R9[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function BGe takes nothing returns boolean
if GetOwningPlayer(GetTriggerUnit())==Player(11) then
return true
endif
if GetOwningPlayer(GetTriggerUnit())==Player(10) then
return true
endif
return false
endfunction
function BGf takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not BGe() then
return false
endif
if not (GetUnitLevel(GetTriggerUnit())==10) then
return false
endif
return true
endfunction
function BGg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303341) then
return false
endif
return true
endfunction
function BGh takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303339) then
return false
endif
return true
endfunction
function BGi takes nothing returns boolean
if not (GetUnitTypeId(GetKillingUnitBJ())==$48303031) then
return false
endif
return true
endfunction
function BGj takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303044 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303043 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303045 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303046 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303245 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303246 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303247 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303248 then
return true
endif
return false
endfunction
function BGk takes nothing returns boolean
if not BGj() then
return false
endif
return true
endfunction
function BGl takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303049 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30304A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30304B then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303055 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303144 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30314B then
return true
endif
return false
endfunction
function BGm takes nothing returns boolean
if not BGl() then
return false
endif
return true
endfunction
function BGn takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303047) then
return false
endif
return true
endfunction
function BGo takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303243) then
return false
endif
return true
endfunction
function BGp takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303050) then
return false
endif
return true
endfunction
function BGq takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304A4E)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304A38)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304A53)==true) then
return false
endif
return true
endfunction
function BGr takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$65303055 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$65303056 then
return true
endif
return false
endfunction
function BGs takes nothing returns boolean
if not BGr() then
return false
endif
return true
endfunction
function BGt takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303636) then
return false
endif
return true
endfunction
function BGu takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303055) then
return false
endif
return true
endfunction
function BGv takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303056) then
return false
endif
return true
endfunction
function BGw takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303138 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303141 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303150 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303152 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303237 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303238 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303239 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303241 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30324E then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303250 then
return true
endif
return false
endfunction
function BGx takes nothing returns boolean
if not BGw() then
return false
endif
return true
endfunction
function BGy takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303133 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303134 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303136 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303154 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303156 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303159 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303357 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303354 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303358 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303352 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303355 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303353 then
return true
endif
return false
endfunction
function BGz takes nothing returns boolean
if not BGy() then
return false
endif
return true
endfunction
function BG0 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303336 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30314F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303253 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303143 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303339 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303252 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303241 then
return true
endif
return false
endfunction
function BG1 takes nothing returns boolean
if not BG0() then
return false
endif
return true
endfunction
function BG2 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303533) then
return false
endif
return true
endfunction
function BG3 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303532) then
return false
endif
return true
endfunction
function BG4 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303531) then
return false
endif
return true
endfunction
function BG5 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303530) then
return false
endif
return true
endfunction
function BG6 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303041) then
return false
endif
return true
endfunction
function BG7 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303451) then
return false
endif
return true
endfunction
function BG8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303039) then
return false
endif
return true
endfunction
function BG9 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303457) then
return false
endif
return true
endfunction
function BHB takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303458) then
return false
endif
return true
endfunction
function BHC takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303459) then
return false
endif
return true
endfunction
function BHD takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303457 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303459 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303458 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$75303039 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303451 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$75303041 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303530 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303532 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303533 then
return true
endif
return false
endfunction
function BHE takes nothing returns boolean
if not BHD() then
return false
endif
return true
endfunction
function BHF takes nothing returns nothing
if BGV() then
call AdjustPlayerStateBJ(5*OC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]*O3,GetOwningPlayer(Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]),PLAYER_STATE_RESOURCE_GOLD)
else
endif
if BGW() then
call SetUnitManaBJ(Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))],5.*I2R(OD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))])+GetUnitStateSwap(UNIT_STATE_MANA,Pd[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]))
else
endif
call AddHeroXPSwapped(KK[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]*50,GetKillingUnitBJ(),true)
if BGY() then
if BGX() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
if BGf() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=80
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BGd() then
if BGa() then
if BGZ() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
set Ix=GetRandomInt(1,100)
set QE=GetUnitLoc(GetTriggerUnit())
if BGb() then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AdjustPlayerStateBJ(1000,GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call CreateItemLoc(SC[GetForLoopIndexA()],QE)
else
endif
if BGc() then
call CreateItemLoc(SC[GetForLoopIndexA()],QE)
else
call CreateItemLoc(SB[GetForLoopIndexA()],QE)
endif
call RemoveLocation(QE)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if BGg() then
call eb(100,GetKillingUnit(),GetTriggerUnit(),$49304858)
else
endif
if BGh() then
call eb(100,GetKillingUnit(),GetTriggerUnit(),$4930394E)
else
endif
if BGk() then
if BGi() then
call eb(4,GetKillingUnit(),GetTriggerUnit(),$49304143)
else
call eb(4,GetKillingUnit(),GetTriggerUnit(),$49304142)
endif
else
endif
if BGm() then
call eb(2,GetKillingUnit(),GetTriggerUnit(),$49304351)
else
endif
if BGn() then
call eb(80,GetKillingUnit(),GetTriggerUnit(),$4930434E)
call eb(100,GetKillingUnit(),GetTriggerUnit(),$49303355)
else
endif
if BGo() then
call eb(100,GetKillingUnit(),GetTriggerUnit(),$49303831)
else
endif
if BGp() then
call eb(25,GetKillingUnit(),GetTriggerUnit(),$49303349)
else
endif
if BGs() then
if BGq() then
call eb(25,GetKillingUnit(),GetTriggerUnit(),$49303242)
else
endif
else
endif
if BGt() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49303245)
else
endif
if BGu() then
call eb(17,GetKillingUnit(),GetTriggerUnit(),$49303033)
call eb(17,GetKillingUnit(),GetTriggerUnit(),$49303032)
call eb(17,GetKillingUnit(),GetTriggerUnit(),$49303031)
call eb(17,GetKillingUnit(),GetTriggerUnit(),$49303030)
else
endif
if BGv() then
call eb(2,GetKillingUnit(),GetTriggerUnit(),$49303338)
else
endif
if BGx() then
call eb(2,GetKillingUnit(),GetTriggerUnit(),$49303631)
else
endif
if BGz() then
call eb(33,GetKillingUnit(),GetTriggerUnit(),$49303631)
else
endif
if BG1() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=GetRandomInt(1,8)
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call eb(80,GetKillingUnit(),GetTriggerUnit(),$49303631)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if BHE() then
if BG2() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304643)
else
endif
if BG3() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304432)
else
endif
if BG4() then
call eb(50,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304431)
else
endif
if BG5() then
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304432)
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304643)
else
endif
if BG6() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304432)
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304643)
else
endif
if BG7() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304431)
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304643)
else
endif
if BG8() then
call eb(60,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304643)
else
endif
if BG9() then
call eb(40,GetKillingUnit(),GetTriggerUnit(),$49304645)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49304431)
else
endif
if BHB() then
call eb(70,GetKillingUnit(),GetTriggerUnit(),$49304643)
call eb(70,GetKillingUnit(),GetTriggerUnit(),$49304645)
else
endif
if BHC() then
call eb(70,GetKillingUnit(),GetTriggerUnit(),$49303033)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303533)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303458)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303531)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303459)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303530)
call eb(30,GetKillingUnit(),GetTriggerUnit(),$49303532)
else
endif
else
endif
endfunction
function BHG takes nothing returns nothing
set WC=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(WC,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(WC,Condition(function BGT))
call TriggerAddAction(WC,function BHF)
endfunction
function BHH takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHI takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHJ takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHK takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHL takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHM takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHN takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHO takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHP takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHQ takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHR takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHS takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHT takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHU takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHV takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHW takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHX takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHY takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHZ takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHa takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHb takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHc takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHd takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHe takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHf takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHg takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHh takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHi takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHj takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHk takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHl takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHm takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHn takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHo takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHp takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHq takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHr takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHs takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHt takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHu takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHv takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHw takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHx takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHy takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BHz takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH0 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH1 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH2 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH3 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH4 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH5 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH6 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH7 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH8 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BH9 takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIB takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIC takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BID takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIE takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIF takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIG takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIH takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BII takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIJ takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIK takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIL takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIM takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIN takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIO takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIP takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIQ takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIR takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIS takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIT takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIU takes nothing returns boolean
if not true then
return false
endif
return true
endfunction
function BIV takes nothing returns nothing
if BHH() then
set L0=1
set Ls[L0]=1
set WH[L0]=$6E303044
set WI[L0]=$6E303031
set Lu[L0]=Oo-Iu
set WJ[L0]=m
set ML[L0]=4
set Lt[L0]=7
set Lx[L0]=6.
set Lv[L0]=20
else
endif
if BHI() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303043
set WI[L0]=$6E303032
set Lu[L0]=Oo-Iu
set WJ[L0]=n
set ML[L0]=5
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=28
else
endif
if BHJ() then
set L0=L0+1
set Ls[L0]=1
set WH[3]=$6E303045
set WI[3]=$6E303033
set Lu[L0]=Oo-Iu
set WJ[L0]=n
set ML[L0]=5
set Lt[L0]=7
set Lx[L0]=4.
set Lv[L0]=30
else
endif
if BHK() then
set L0=L0+1
set Ls[L0]=1
set WH[4]=$6E303046
set WI[4]=$6E303034
set Lu[L0]=Oo-Iu
set WJ[L0]=n
set ML[L0]=4
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=25
else
endif
if BHL() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHM() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303048
set WI[L0]=$6E303035
set Lu[L0]=Oo-Iu
set WJ[L0]=o
set ML[L0]=5
set Lt[L0]=9
set Lx[L0]=4.
set Lv[L0]=30
else
endif
if BHN() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303049
set WI[L0]=$6E303036
set Lu[L0]=Oo-Iu
set WJ[L0]=p
set ML[L0]=7
set Lt[L0]=9
set Lx[L0]=4.
set Lv[L0]=36
else
endif
if BHO() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30304A
set WI[L0]=$6E303037
set Lu[L0]=Oo-Iu
set WJ[L0]=q
set ML[L0]=6
set Lt[L0]=10
set Lx[L0]=4.
set Lv[L0]=36
else
endif
if BHP() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30304B
set WI[L0]=$6E303038
set Lu[L0]=Oo-Iu
set WJ[L0]=r
set ML[L0]=2
set Lt[L0]=5
set Lx[L0]=8.
set Lv[L0]=18
else
endif
if BHQ() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHR() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30304D
set WI[L0]=$6E303039
set Lu[L0]=Oo-Iu
set WJ[L0]=s
set ML[L0]=3
set Lt[L0]=5
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHS() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30304E
set WI[L0]=$6E303041
set Lu[L0]=Oo-Iu
set WJ[L0]=t
set ML[L0]=6
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHT() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30304F
set WI[L0]=$6E303058
set Lu[L0]=Oo-Iu
set WJ[L0]=u
set ML[L0]=8
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHU() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303050
set WI[L0]=$6E303059
set Lu[L0]=Oo-Iu
set WJ[L0]=v
set ML[L0]=2
set Lt[L0]=5
set Lx[L0]=8.
set Lv[L0]=18
else
endif
if BHV() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHW() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303054
set WI[L0]=$6E30305A
set Lu[L0]=Oo-Iu
set WJ[L0]=w
set ML[L0]=4
set Lt[L0]=5
set Lx[L0]=6.
set Lv[L0]=20
else
endif
if BHX() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303053
set WI[L0]=$6E303130
set Lu[L0]=Oo-Iu
set WJ[L0]=x
set ML[L0]=6
set Lt[L0]=9
set Lx[L0]=6.
set Lv[L0]=25
else
endif
if BHY() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303055
set WI[L0]=$6E303131
set Lu[L0]=Oo-Iu
set WJ[L0]=y
set ML[L0]=7
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHZ() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303056
set WI[L0]=$6E303132
set Lu[L0]=Oo-Iu
set WJ[L0]=z
set ML[L0]=3
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHa() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHb() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303138
set WI[L0]=$6E303133
set Lu[L0]=Oo-Iu
set WJ[L0]=BB
set ML[L0]=7
set Lt[L0]=9
set Lx[L0]=4.
set Lv[L0]=30
else
endif
if BHc() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303139
set WI[L0]=$6E303134
set Lu[L0]=Oo-Iu
set WJ[L0]=BC
set ML[L0]=8
set Lt[L0]=9
set Lx[L0]=4.
set Lv[L0]=30
else
endif
if BHd() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303141
set WI[L0]=$6E303136
set WJ[L0]=BD
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=5
set Lx[L0]=7.
set Lv[L0]=20
else
endif
if BHe() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303142
set WI[L0]=$6E303232
set WJ[L0]=BE
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHf() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHg() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303144
set WI[L0]=$6E303135
set WJ[L0]=BF
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=5
set Lx[L0]=8.
set Lv[L0]=18
else
endif
if BHh() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303145
set WI[L0]=$6E303155
set WJ[L0]=BG
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=5
set Lx[L0]=10.
set Lv[L0]=15
else
endif
if BHi() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303146
set WI[L0]=$6E30334C
set WJ[L0]=BH
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHj() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303147
set WI[L0]=$6E303157
set WJ[L0]=BI
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHk() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHl() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30314B
set WI[L0]=$6E30334B
set WJ[L0]=BJ
set Lu[L0]=Oo-Iu
set ML[L0]=8
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHm() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30314C
set WI[L0]=$6E303231
set WJ[L0]=BK
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHn() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30314D
set WI[L0]=$6E303154
set WJ[L0]=BL
set Lu[L0]=Oo-Iu
set ML[L0]=7
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHo() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E30314E
set WI[L0]=$6E303156
set WJ[L0]=BM
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHp() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHq() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BHr() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303150
set WI[L0]=$6E303159
set WJ[L0]=BN
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=9
set Lx[L0]=4.
set Lv[L0]=35
else
endif
if BHs() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303152
set WI[L0]=$6E303357
set WJ[L0]=BO
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=6
set Lx[L0]=7.
set Lv[L0]=20
else
endif
if BHt() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BHu() then
set L0=L0+1
set Ls[L0]=12
set WH[L0]=$6E303233
set WH[L0+100]=$6E303236
set WH[L0+200]=$6E303234
set WH[L0+300]=$6E303235
set WI[L0]=$6E303235
set WJ[L0]=BR
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHv() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303237
set WI[L0]=$6E303354
set WJ[L0]=BP
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHw() then
set L0=L0+1
set Ls[L0]=113
set WH[L0]=$6E303238
set WH[L0+100]=$6E303239
set WI[L0]=$6E303358
set WJ[L0]=BQ
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=5
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BHx() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BHy() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BHz() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BH0() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303245
set WI[L0]=$6E303350
set WJ[L0]=BR
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BH1() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303246
set WI[L0]=$6E303158
set WJ[L0]=BS
set Lu[L0]=Oo-Iu
set ML[L0]=7
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BH2() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303247
set WI[L0]=$6E30334E
set WJ[L0]=BR
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=5
set Lx[L0]=6.
set Lv[L0]=20
else
endif
if BH3() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BH4() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BH5() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E30324E
set WI[L0]=$6E303352
set WJ[L0]=BT
set Lu[L0]=Oo-Iu
set ML[L0]=1
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BH6() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E30324F
set WI[L0]=$6E30334D
set WJ[L0]=BU
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=4
set Lx[L0]=7.
set Lv[L0]=20
else
endif
if BH7() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303251
set WI[L0]=$6E303355
set WJ[L0]=BV
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BH8() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BH9() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BIB() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303255
set WI[L0]=$6E30315A
set WJ[L0]=BW
set Lu[L0]=Oo-Iu
set ML[L0]=6
set Lt[L0]=8
set Lx[L0]=6.
set Lv[L0]=25
else
endif
if BIC() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303256
set WI[L0]=$6E303230
set WJ[L0]=BX
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BID() then
set L0=L0+1
set Ls[L0]=13
set WH[L0]=$6E303258
set WH[L0+100]=$6E303257
set WI[L0]=$6E303356
set WJ[L0]=BY
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=4
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIE() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BIF() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BIG() then
set L0=L0+1
set Ls[L0]=3
else
endif
if BIH() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303332
set WI[L0]=$6E303351
set WJ[L0]=BZ
set Lu[L0]=Oo-Iu
set ML[L0]=6
set Lt[L0]=7
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BII() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303333
set WI[L0]=$6E303353
set WJ[L0]=Ba
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=3
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIJ() then
set L0=L0+1
set Ls[L0]=11
set WH[L0]=$6E303334
set WI[L0]=$6E30334F
set WJ[L0]=Bb
set Lu[L0]=Oo-Iu
set ML[L0]=1
set Lt[L0]=5
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIK() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BIL() then
set L0=L0+1
set Lv[L0]=666
set Lx[L0]=20.
set Ls[L0]=1
else
endif
if BIM() then
set L0=L0+1
set Ls[L0]=14
set WH[L0]=$65303057
set WI[L0]=$65303058
set WJ[L0]=Br
set Lu[L0]=Oo-Iu
set ML[L0]=4
set Lt[L0]=9
set Lx[L0]=5.
set Lv[L0]=20
else
endif
if BIN() then
set L0=L0+1
set Ls[L0]=14
set WH[L0]=$6E303632
set WI[L0]=$6E303633
set WJ[L0]=Bs
set Lu[L0]=Oo-Iu
set ML[L0]=2
set Lt[L0]=4
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIO() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BIP() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6E303636
set WI[L0]=$6E303642
set WJ[L0]=Bu
set Lu[L0]=Oo-Iu
set ML[L0]=5
set Lt[L0]=6
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIQ() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6830354A
set WI[L0]=$6830354C
set WJ[L0]=Bv
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=4
set Lx[L0]=4.
set Lv[L0]=30
else
endif
if BIR() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$65303055
set WI[L0]=$65303056
set WJ[L0]=Bw
set Lu[L0]=Oo-Iu
set ML[L0]=1
set Lt[L0]=4
set Lx[L0]=5.
set Lv[L0]=32
else
endif
if BIS() then
set L0=L0+1
set Ls[L0]=1
set WH[L0]=$6830354B
set WI[L0]=$6830354D
set WJ[L0]=Bx
set Lu[L0]=Oo-Iu
set ML[L0]=3
set Lt[L0]=4
set Lx[L0]=5.
set Lv[L0]=30
else
endif
if BIT() then
set L0=L0+1
set Ls[L0]=2
else
endif
if BIU() then
set L0=L0+1
set Ls[L0]=2
else
endif
set WK[1]=GX
set WK[2]=CB
set WK[3]=CC
set WK[4]=CD
set WK[5]=CE
set WK[6]=CF
set WK[7]=GI
set WK[8]=CG
set WK[9]=ET
set WK[10]=CH
set WK[11]=CI
set WL[1]=Ci
set WL[2]=Cj
set WL[3]=Ck
set WL[4]=Cl
set WL[5]=Cm
set WL[6]=Cn
set WL[7]=Co
set WL[8]=Fi
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(11))
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,Player(10))
set J0=0
set O3=1
set MN=1
set L1=1
set Ln=3
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BIW takes nothing returns nothing
set SH=CreateTrigger()
call TriggerAddAction(SH,function BIV)
endfunction
function BIX takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BIY takes nothing returns nothing
if BIX() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(GetEnumUnit(),GetUnitLifePercent(GetEnumUnit())+20.)
call SetUnitManaPercentBJ(GetEnumUnit(),GetUnitManaPercent(GetEnumUnit())+20.)
call UnitAddItemByIdSwapped($49304B57,GetEnumUnit())
else
endif
endfunction
function BIZ takes nothing returns boolean
if not (OG[GetForLoopIndexA()]==1) then
return false
endif
if not (IsUnitAliveBJ(Pd[GetForLoopIndexA()])==true) then
return false
endif
return true
endfunction
function BIa takes nothing returns boolean
if not (O3==13) then
return false
endif
return true
endfunction
function BIb takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),10.)
endfunction
function BIc takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BId takes nothing returns boolean
if not (O3==14) then
return false
endif
return true
endfunction
function BIe takes nothing returns boolean
if not (O3==18) then
return false
endif
return true
endfunction
function BIf takes nothing returns boolean
if not (O3==19) then
return false
endif
return true
endfunction
function BIg takes nothing returns boolean
if not (O3==21) then
return false
endif
return true
endfunction
function BIh takes nothing returns boolean
if not (O3==27) then
return false
endif
return true
endfunction
function BIi takes nothing returns boolean
if not (O3==37) then
return false
endif
return true
endfunction
function BIj takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),3)
endfunction
function BIk takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BIl takes nothing returns boolean
if not (O3==67) then
return false
endif
return true
endfunction
function BIm takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),6.)
endfunction
function BIn takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BIo takes nothing returns boolean
if not (O3==68) then
return false
endif
return true
endfunction
function BIp takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set K4[GetForLoopIndexA()]=0
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BIZ() then
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=10
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call ForGroupBJ(Ir,function BIY)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if BIa() then
call PlaySoundBJ(B)
else
endif
if BId() then
call ForForce(GetPlayersAll(),function BIb)
call TriggerSleepAction(2.)
call ForForce(GetPlayersAll(),function BIc)
else
endif
if BIe() then
call SetPlayerAllianceStateBJ(Player(10),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_UNALLIED)
call EnableTrigger(V0)
else
endif
if BIf() then
call CreateNUnitsAtLoc(1+Iu/50,WH[O3],Player(10),GetUnitLoc(GroupPickRandomUnit(Ir)),bj_UNIT_FACING)
else
endif
if BIg() then
call SetPlayerName(Player(11),"Освобождённые демоны")
call EnableTrigger(V1)
else
endif
if BIh() then
call PlaySoundBJ(c)
else
endif
if BIi() then
call SetUnitInvulnerable(WN,false)
call SetUnitInvulnerable(WO,false)
else
endif
if BIl() then
call ForForce(GetPlayersAll(),function BIj)
call TriggerSleepAction(5.)
call ForForce(GetPlayersAll(),function BIk)
else
endif
if BIo() then
call ForForce(GetPlayersAll(),function BIm)
call TriggerSleepAction(2.)
call ForForce(GetPlayersAll(),function BIn)
else
endif
call StartTimerBJ(Nv,false,1.)
endfunction
function BIq takes nothing returns nothing
set WM=CreateTrigger()
call TriggerAddAction(WM,function BIp)
endfunction
function BIr takes nothing returns boolean
if not (O3==74) then
return false
endif
return true
endfunction
function BIs takes nothing returns boolean
if not (O3==70) then
return false
endif
return true
endfunction
function BIt takes nothing returns boolean
if not (O3==68) then
return false
endif
return true
endfunction
function BIu takes nothing returns boolean
if not (O3==65) then
return false
endif
return true
endfunction
function BIv takes nothing returns boolean
if not (O3==61) then
return false
endif
return true
endfunction
function BIw takes nothing returns boolean
if not (O3==60) then
return false
endif
return true
endfunction
function BIx takes nothing returns boolean
if not (O3==55) then
return false
endif
return true
endfunction
function BIy takes nothing returns boolean
if not (O3==45) then
return false
endif
return true
endfunction
function BIz takes nothing returns boolean
if not (O3==39) then
return false
endif
return true
endfunction
function BI0 takes nothing returns boolean
if not (O3==35) then
return false
endif
return true
endfunction
function BI1 takes nothing returns boolean
if not (O3==25) then
return false
endif
return true
endfunction
function BI2 takes nothing returns boolean
if not (O3==16) then
return false
endif
return true
endfunction
function BI3 takes nothing returns boolean
if not (O3!=1) then
return false
endif
if not (O3!=16) then
return false
endif
if not (O3!=25) then
return false
endif
if not (O3!=35) then
return false
endif
if not (O3!=39) then
return false
endif
if not (O3!=45) then
return false
endif
if not (O3!=55) then
return false
endif
if not (O3!=60) then
return false
endif
if not (O3!=61) then
return false
endif
if not (O3!=65) then
return false
endif
if not (O3!=68) then
return false
endif
if not (O3!=69) then
return false
endif
if not (O3!=70) then
return false
endif
if not (O3!=74) then
return false
endif
if not (O3!=75) then
return false
endif
return true
endfunction
function BI4 takes nothing returns nothing
set WQ=GroupPickRandomUnit(Ir)
set SR=GroupPickRandomUnit(Ir)
call PlaySoundBJ(M)
if BI3() then
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,Op[O3],bj_TIMETYPE_SET,6.,false)
else
if BI2() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(10),$6E30325A,"Шиззл",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BI1() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303143,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BI0() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E30314F,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIz() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(10),$6E303151,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIy() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303242,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIx() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303253,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIw() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(10),$6E30325A,"Шиззл",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIv() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(10),$6E303331,"Шиззл",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIu() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303336,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIt() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303634,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIs() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6830354A,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
if BIr() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$6E303643,"???",GetRectCenter(GetPlayableMapRect()),null,Op[O3],bj_TIMETYPE_SET,4.,false)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function BI5 takes nothing returns nothing
set WP=CreateTrigger()
call TriggerAddAction(WP,function BI4)
endfunction
function BI6 takes nothing returns boolean
if not (O3==39) then
return false
endif
return true
endfunction
function BI7 takes nothing returns boolean
if not (O3!=39) then
return false
endif
if not (O3!=66) then
return false
endif
if not (O3!=75) then
return false
endif
return true
endfunction
function BI8 takes nothing returns nothing
set WQ=GroupPickRandomUnit(Ir)
set SR=GroupPickRandomUnit(Ir)
if BI7() then
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,Oq[O3],bj_TIMETYPE_SET,6.,false)
else
if BI6() then
call TransmissionFromUnitTypeWithNameBJ(Os,Player(10),$6E303151,"???",GetRectCenter(GetPlayableMapRect()),null,Oq[O3],bj_TIMETYPE_SET,4.,false)
else
endif
endif
endfunction
function BI9 takes nothing returns nothing
set WR=CreateTrigger()
call TriggerAddAction(WR,function BI8)
endfunction
function BJB takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetEnumPlayer())]==true) then
return false
endif
if not (OZ[GetForLoopIndexA()]==1) then
return false
endif
return true
endfunction
function BJC takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetEnumPlayer())]==true) then
return false
endif
if not (OZ[GetForLoopIndexA()]==9) then
return false
endif
if not (GetUnitLifePercent(Pd[GetForLoopIndexA()])>=95.) then
return false
endif
return true
endfunction
function BJD takes nothing returns boolean
if not (O3==1) then
return false
endif
return true
endfunction
function BJE takes nothing returns boolean
if not (O3==18) then
return false
endif
return true
endfunction
function BJF takes nothing returns boolean
if not (O3==30) then
return false
endif
return true
endfunction
function BJG takes nothing returns nothing
call ShowUnitHide(GetEnumUnit())
endfunction
function BJH takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BJI takes nothing returns boolean
if not (O3==66) then
return false
endif
return true
endfunction
function BJJ takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BJK takes nothing returns boolean
if not (O3==67) then
return false
endif
return true
endfunction
function BJL takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BJM takes nothing returns boolean
if not (O3==68) then
return false
endif
return true
endfunction
function BJN takes nothing returns boolean
if not (O3==69) then
return false
endif
return true
endfunction
function BJO takes nothing returns boolean
if not (O3==74) then
return false
endif
return true
endfunction
function BJP takes nothing returns boolean
if not (O3==75) then
return false
endif
return true
endfunction
function BJQ takes nothing returns boolean
if not (O3!=L1) then
return false
endif
return true
endfunction
function BJR takes nothing returns boolean
if not (Ls[O3]==2) then
return false
endif
return true
endfunction
function BJS takes nothing returns boolean
if not (JY==true) then
return false
endif
return true
endfunction
function BJT takes nothing returns boolean
if not (PF==false) then
return false
endif
return true
endfunction
function BJU takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BJB() then
set OO=GetForLoopIndexA()
set OT[OO]=OT[OO]+1
call ff()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BJC() then
set OO=GetForLoopIndexA()
set OT[OO]=OT[OO]+1
call ff()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if BJD() then
call DisableTrigger(Sf)
else
endif
if BJE() then
call SetPlayerAllianceStateBJ(Player(10),Player(PLAYER_NEUTRAL_PASSIVE),bj_ALLIANCE_NEUTRAL)
else
endif
if BJF() then
call SetUnitInvulnerable(WN,false)
call SetUnitInvulnerable(WO,false)
else
endif
if BJI() then
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,PE[10],bj_TIMETYPE_SET,6.,false)
call TriggerSleepAction(120.)
call PauseTimerBJ(true,Nv)
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function BJG)
call TriggerSleepAction(5.)
call ForGroupBJ(Ir,function BJH)
call TriggerSleepAction(5.)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Спасибо, что прошли Goblin Survival! Сейчас вы можете сохранить персонажа и покинуть игру.|r")
call TriggerSleepAction(25.)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c00000000Xnj,s gthtytcnbcm d ghjikjt - bcgjkmpeqnt Ctn {fpekf yf Ltvjybxtcre. Ceoyjcnm|r")
call TriggerSleepAction(2.)
call ClearTextMessagesBJ(GetForceOfPlayer(GetTriggerPlayer()))
else
endif
if BJK() then
call ForForce(GetPlayersAll(),function BJJ)
set NT=false
else
endif
if BJM() then
call ForForce(GetPlayersAll(),function BJL)
else
endif
if BJN() then
call TriggerExecute(QO)
else
endif
if BJO() then
call fo()
call TriggerSleepAction(3.)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303253,"Зависть",GetRectCenter(GetPlayableMapRect()),null,"ТЫ ПОДВЕЛ НАС, ТРОТТ! Я СОЖРУ ТВОИ ГЛАЗА!",bj_TIMETYPE_SET,4.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303242,"Страх",GetRectCenter(GetPlayableMapRect()),null,"Не думай, что твоя смерть принесет тебе какое-либо облегчение, смертный! Твоя душа навсегда будет связана с этим местом, ты будешь страдать вечность! ",bj_TIMETYPE_SET,2.,true)
call SetUnitAnimation(RH,"dissipate")
call TriggerSleepAction(2)
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveUnit(RH)
call RemoveLocation(QE)
else
endif
if BJP() then
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Ну и что это было? Всё? Конец?",bj_TIMETYPE_SET,5.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"Ну вот, мы достали недостающие детали в ПОЧТИ неповрежденном виде! Но если надо - я всегда готов к новым забегам и балвоством со временем!",bj_TIMETYPE_SET,6.,false)
call TriggerSleepAction(2)
call SetUnitAnimation(RH,"dissipate")
call TriggerSleepAction(2)
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveUnit(RH)
call RemoveLocation(QE)
call StartTimerBJ(Ok,false,300.)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),"До конца игры:")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0080FF80Игра закончена! У вас есть 5 минут, чтобы собрать монатки и покинуть в конце концов этот временной континуум!|r")
else
endif
call DoNothing()
call DoNothing()
call DoNothing()
call DoNothing()
call DoNothing()
if BJT() then
set J0=0
if BJQ() then
set O3=L1-1
else
endif
set O3=O3+1
set MN=MN+1
set L1=O3
if BJS() then
set Ln=10
else
if BJR() then
set Ln=40
else
set Ln=200
endif
endif
call StartTimerBJ(Nv,false,1.)
else
endif
endfunction
function BJV takes nothing returns nothing
set WS=CreateTrigger()
call TriggerAddAction(WS,function BJU)
endfunction
function BJW takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303137 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30304C then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303051 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303057 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303143 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303148 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30314F then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303242 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30324A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303253 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E30325A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303330 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303634 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303635 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303342 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303643 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303641 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303638 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303639 then
return true
endif
return false
endfunction
function BJX takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not BJW() then
return false
endif
return true
endfunction
function BJY takes nothing returns boolean
if not BJX() then
return false
endif
return true
endfunction
function BJZ takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetEnumPlayer())]==true) then
return false
endif
if not (OZ[GetForLoopIndexA()]==5) then
return false
endif
return true
endfunction
function BJa takes nothing returns boolean
if not (GetRandomInt(1,5000-Iu*20)==1) then
return false
endif
return true
endfunction
function BJb takes nothing returns nothing
call ConditionalTriggerExecute(WR)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BJZ() then
set OO=GetForLoopIndexA()
set OT[OO]=OT[OO]+1
call ff()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set JE=0
set Kr=false
if BJa() then
call CreateItemLoc($49304B58,GetUnitLoc(GetTriggerUnit()))
else
endif
call ConditionalTriggerExecute(WS)
endfunction
function BJc takes nothing returns nothing
set WY=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(WY,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(WY,Condition(function BJY))
call TriggerAddAction(WY,function BJb)
endfunction
function BJd takes nothing returns boolean
if Ls[O3]==1 then
return true
endif
if Ls[O3]==11 then
return true
endif
if Ls[O3]==12 then
return true
endif
if Ls[O3]==112 then
return true
endif
if Ls[O3]==13 then
return true
endif
if Ls[O3]==113 then
return true
endif
if Ls[O3]==14 then
return true
endif
return false
endfunction
function BJe takes nothing returns boolean
return O3==36
endfunction
function BJf takes nothing returns boolean
return O3==43
endfunction
function BJg takes nothing returns boolean
return O3==44
endfunction
function BJh takes nothing returns boolean
return O3==49
endfunction
function BJi takes nothing returns boolean
return O3==54
endfunction
function BJj takes nothing returns boolean
return O3==59
endfunction
function BJk takes nothing returns boolean
return O3==61
endfunction
function BJl takes nothing returns boolean
if not (Ls[O3]==2) then
return false
endif
return true
endfunction
function BJm takes nothing returns boolean
if not BJd() then
return false
endif
return true
endfunction
function BJn takes nothing returns boolean
if not (NK==true) then
return false
endif
return true
endfunction
function BJo takes nothing returns boolean
if not (JY==true) then
return false
endif
if not (Ln>10) then
return false
endif
return true
endfunction
function BJp takes nothing returns boolean
if not (Ln>0) then
return false
endif
return true
endfunction
function BJq takes nothing returns nothing
if BJp() then
if BJo() then
set Ln=10
else
endif
set Ln=Ln-1
call StartTimerBJ(Nv,false,1.)
else
if BJn() then
else
if BJm() then
call fb()
else
if BJl() then
call ConditionalTriggerExecute(WP)
call fc()
set Lv[O3]=1
set J0=0
else
call ConditionalTriggerExecute(WP)
set Lv[O3]=1
set J0=0
if BJe() then
call ConditionalTriggerExecute(Wy)
else
call DoNothing()
endif
if BJf() then
call ConditionalTriggerExecute(Wz)
else
call DoNothing()
endif
if BJg() then
call ConditionalTriggerExecute(W0)
else
call DoNothing()
endif
if BJh() then
call ConditionalTriggerExecute(W1)
else
call DoNothing()
endif
if BJi() then
call ConditionalTriggerExecute(W2)
else
call DoNothing()
endif
if BJj() then
call ConditionalTriggerExecute(W3)
else
call DoNothing()
endif
if BJk() then
call ConditionalTriggerExecute(W4)
else
call DoNothing()
endif
endif
endif
endif
endif
endfunction
function BJr takes nothing returns nothing
set WZ=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(WZ,Nv)
call TriggerAddAction(WZ,function BJq)
endfunction
function BJs takes nothing returns nothing
call AddHeroXPSwapped(500000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(50000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function BJt takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BJu takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BJv takes nothing returns nothing
call ForGroupBJ(GetUnitsOfPlayerAll(GetEnumPlayer()),function BJu)
endfunction
function BJw takes nothing returns nothing
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00За прохождение игры все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
call ForGroupBJ(Ir,function BJs)
set N8=true
call ForGroupBJ(Ir,function BJt)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BJv)
endfunction
function BJx takes nothing returns nothing
set W5=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(W5,Ok)
call TriggerAddAction(W5,function BJw)
endfunction
function BJy takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BJz takes nothing returns nothing
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),NO)
endfunction
function BJ0 takes nothing returns nothing
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),NO)
endfunction
function BJ1 takes nothing returns nothing
call UnitRemoveBuffBJ($42303544,W7[1])
call ShowUnitShow(RH)
call PauseUnitBJ(false,RH)
call DestroyEffect(W8)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=PI
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DestroyLightning(W9[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set PI=0
set Nb=false
set Kr=false
call PauseTimerBJ(true,NJ[1])
call PauseTimerBJ(true,NJ[2])
call PauseTimerBJ(true,NH)
call PauseTimerBJ(true,NN)
call PauseTimerBJ(true,NP)
call PauseTimerBJ(true,NS)
call ForGroupBJ(NI,function BJy)
call ForGroupBJ(NO,function BJz)
call ForGroupBJ(Ni,function BJ0)
set NR=30
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=NR
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call KillUnit(XB[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set NR=0
set NL=0
call DisableTrigger(XC)
call DisableTrigger(XD)
call DisableTrigger(XE)
call DisableTrigger(XF)
call DisableTrigger(XG)
call DisableTrigger(XH)
call DisableTrigger(XI)
call DisableTrigger(XJ)
call DisableTrigger(XK)
call DisableTrigger(XL)
call DisableTrigger(XM)
call DisableTrigger(XN)
call DisableTrigger(XO)
call DisableTrigger(XP)
call DisableTrigger(XQ)
call DisableTrigger(XR)
call DisableTrigger(XS)
call DisableTrigger(XT)
call DisableTrigger(XU)
call DisableTrigger(XV)
call DisableTrigger(XW)
call DisableTrigger(XX)
call DisableTrigger(XY)
call DisableTrigger(XZ)
call DisableTrigger(Xa)
call DisableTrigger(Xb)
call DisableTrigger(Xc)
call DisableTrigger(Xd)
call DisableTrigger(Xe)
call DisableTrigger(Xf)
call DisableTrigger(Xg)
call DisableTrigger(Xh)
call DisableTrigger(Xi)
call DisableTrigger(Xj)
call DisableTrigger(Xk)
call DisableTrigger(Xl)
call DisableTrigger(Xm)
call DisableTrigger(Xn)
call DisableTrigger(Xo)
call DisableTrigger(Xp)
call DisableTrigger(Xq)
call DisableTrigger(Xr)
call DisableTrigger(Xs)
call DisableTrigger(Xt)
call DisableTrigger(Xu)
call DisableTrigger(Xv)
call DisableTrigger(Xw)
call DisableTrigger(Xx)
call DisableTrigger(Xy)
call DisableTrigger(Xz)
call DisableTrigger(X0)
call DisableTrigger(X1)
call DisableTrigger(X2)
call DisableTrigger(X3)
call DisableTrigger(X4)
call DisableTrigger(X5)
call DisableTrigger(X6)
call DisableTrigger(X7)
call DisableTrigger(X8)
call DisableTrigger(X9)
call DisableTrigger(YB)
call DisableTrigger(YC)
call DisableTrigger(YD)
call DisableTrigger(YE)
call DisableTrigger(YF)
call DisableTrigger(YG)
call DisableTrigger(YH)
call DisableTrigger(YI)
call DisableTrigger(YJ)
call DisableTrigger(YK)
call DisableTrigger(YL)
call DisableTrigger(YM)
call DisableTrigger(YN)
call DisableTrigger(YO)
call DisableTrigger(YP)
call DisableTrigger(YQ)
call DisableTrigger(YR)
call DisableTrigger(YS)
call DisableTrigger(YT)
call DisableTrigger(YU)
call DisableTrigger(YV)
call DisableTrigger(YW)
call DisableTrigger(YX)
call DisableTrigger(YY)
call DisableTrigger(YZ)
call DisableTrigger(Ya)
call DisableTrigger(Yb)
call DisableTrigger(Yc)
call DisableTrigger(Yd)
call DisableTrigger(Ye)
call DisableTrigger(Yf)
call DisableTrigger(Yg)
call DisableTrigger(Yh)
call DisableTrigger(Yi)
call DisableTrigger(Yj)
call DisableTrigger(Yk)
call DisableTrigger(Yl)
call DisableTrigger(Ym)
call DisableTrigger(Yn)
call DisableTrigger(Yo)
call DisableTrigger(Yp)
call DisableTrigger(Yq)
call DisableTrigger(Yr)
call DisableTrigger(Ys)
call DisableTrigger(Yt)
call DisableTrigger(Yu)
call DisableTrigger(Yv)
call DisableTrigger(Yw)
call DisableTrigger(Yx)
call DisableTrigger(Yy)
call DisableTrigger(Yz)
call DisableTrigger(Y0)
call DisableTrigger(Y1)
call DisableTrigger(Y2)
call DisableTrigger(Y3)
call DisableTrigger(Y4)
call DisableTrigger(Y5)
call DisableTrigger(Y6)
call DisableTrigger(Y7)
call DisableTrigger(Y8)
call DisableTrigger(Y9)
call DisableTrigger(ZB)
call DisableTrigger(ZC)
call DisableTrigger(ZD)
call DisableTrigger(ZE)
call DisableTrigger(ZF)
call DisableTrigger(ZG)
call DisableTrigger(ZH)
call DisableTrigger(ZI)
call DisableTrigger(ZJ)
call DisableTrigger(ZK)
call DisableTrigger(ZL)
call DisableTrigger(ZM)
call DisableTrigger(ZN)
call DisableTrigger(ZO)
call DisableTrigger(ZP)
call DisableTrigger(ZQ)
call DisableTrigger(ZR)
call DisableTrigger(ZS)
call DisableTrigger(ZT)
call DisableTrigger(ZU)
call DisableTrigger(ZV)
call DisableTrigger(ZW)
call DisableTrigger(ZX)
call DisableTrigger(ZY)
call DisableTrigger(ZZ)
call DisableTrigger(Za)
call DisableTrigger(Zb)
call DisableTrigger(Zc)
call DisableTrigger(Zd)
call DisableTrigger(Ze)
call DisableTrigger(Zf)
call DisableTrigger(Zg)
call DisableTrigger(Zh)
call DisableTrigger(Zi)
call DisableTrigger(Zj)
call DisableTrigger(Zk)
call DisableTrigger(Zl)
call DisableTrigger(Zm)
call DisableTrigger(Zn)
call DisableTrigger(Zo)
call DisableTrigger(Zp)
call DisableTrigger(Zq)
call DisableTrigger(Zr)
call DisableTrigger(Zs)
call DisableTrigger(Zt)
call DisableTrigger(Zu)
call DisableTrigger(Zv)
call DisableTrigger(Zw)
call DisableTrigger(Zx)
call DisableTrigger(Zy)
call DisableTrigger(Zz)
call DisableTrigger(Z0)
call DisableTrigger(Z1)
call DisableTrigger(Z2)
call DisableTrigger(Z3)
call DisableTrigger(Z4)
call DisableTrigger(Z5)
call DisableTrigger(Z6)
call DisableTrigger(Z7)
call DisableTrigger(Z8)
call DisableTrigger(Z9)
call DisableTrigger(aB)
call DisableTrigger(aC)
call DisableTrigger(aD)
call DisableTrigger(aE)
call DisableTrigger(aF)
call DisableTrigger(aG)
call DisableTrigger(aH)
call DisableTrigger(aI)
call DisableTrigger(aJ)
call DisableTrigger(aK)
call DisableTrigger(aL)
call DisableTrigger(aM)
call DisableTrigger(aN)
call DisableTrigger(aO)
call DisableTrigger(aP)
call DisableTrigger(aQ)
call DisableTrigger(aR)
call DisableTrigger(aS)
call DisableTrigger(aT)
call DisableTrigger(aU)
call DisableTrigger(aV)
call DisableTrigger(aW)
call DisableTrigger(aX)
call DisableTrigger(aY)
call DisableTrigger(aZ)
call DisableTrigger(aa)
call DisableTrigger(ab)
call DisableTrigger(ac)
call DisableTrigger(ad)
call DisableTrigger(ae)
call DisableTrigger(af)
call DisableTrigger(ag)
call DisableTrigger(ah)
call DisableTrigger(ai)
call DisableTrigger(WX)
call DisableTrigger(aj)
call DisableTrigger(ak)
call DisableTrigger(al)
call DisableTrigger(am)
call DisableTrigger(an)
call DisableTrigger(ao)
call DisableTrigger(ap)
call DisableTrigger(aq)
call DisableTrigger(ar)
call DisableTrigger(as)
call DisableTrigger(at)
call DisableTrigger(au)
call DisableTrigger(av)
call DisableTrigger(aw)
call DisableTrigger(ax)
call DisableTrigger(ay)
call DisableTrigger(az)
call DisableTrigger(a0)
call DisableTrigger(a1)
call DisableTrigger(a2)
call DisableTrigger(a3)
call DisableTrigger(a4)
call DisableTrigger(a5)
call DisableTrigger(a6)
call DisableTrigger(a7)
call DisableTrigger(a8)
call DisableTrigger(a9)
call DisableTrigger(bB)
call DisableTrigger(bC)
call EnableWeatherEffect(bD,false)
endfunction
function BJ2 takes nothing returns nothing
set W6=CreateTrigger()
call TriggerAddAction(W6,function BJ1)
endfunction
function BJ3 takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=PI
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DestroyLightning(W9[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set PI=0
endfunction
function BJ4 takes nothing returns nothing
set bE=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(bE,PJ)
call TriggerAddAction(bE,function BJ3)
endfunction
function BJ5 takes nothing returns boolean
if not (Kr==false) then
return false
endif
return true
endfunction
function BJ6 takes nothing returns nothing
set bF=$6E303137
call PlaySoundBJ(a)
call TriggerSleepAction(5.)
call PlaySoundBJ(a)
call ConditionalTriggerExecute(bG)
call DisableTrigger(bG)
endfunction
function BJ7 takes nothing returns nothing
set Wh=CreateTrigger()
call TriggerAddCondition(Wh,Condition(function BJ5))
call TriggerAddAction(Wh,function BJ6)
endfunction
function BJ8 takes nothing returns boolean
if not (Kr==false) then
return false
endif
return true
endfunction
function BJ9 takes nothing returns nothing
set Ix=GetRandomInt(1,5)
set K1=true
set Wg=GetRandomLocInRect(WK[GetRandomInt(1,11)])
call CreateNUnitsAtLoc(1,bF,Ly,Wg,bj_UNIT_FACING)
call RemoveLocation(Wg)
set Kr=true
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41304642
set bH[5]=$41303138
set bH[6]=$41314237
set bH[7]=$41314238
call EnableTrigger(XC)
call EnableTrigger(XF)
call EnableTrigger(XH)
call EnableTrigger(XG)
call EnableTrigger(XD)
call EnableTrigger(bI)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BKB takes nothing returns nothing
set bG=CreateTrigger()
call DisableTrigger(bG)
call TriggerAddCondition(bG,Condition(function BJ8))
call TriggerAddAction(bG,function BJ9)
endfunction
function BKC takes nothing returns boolean
if not (GetUnitTypeId(GetAttackedUnitBJ())==$6E303137) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKD takes nothing returns boolean
if not (GetUnitManaPercent(GetAttackedUnitBJ())>=20.) then
return false
endif
return true
endfunction
function BKE takes nothing returns nothing
if BKD() then
call IssueImmediateOrder(GetAttackedUnitBJ(),"fanofknives")
else
endif
endfunction
function BKF takes nothing returns nothing
set XC=CreateTrigger()
call DisableTrigger(XC)
call TriggerRegisterAnyUnitEventBJ(XC,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XC,Condition(function BKC))
call TriggerAddAction(XC,function BKE)
endfunction
function BKG takes nothing returns boolean
if not (GetSpellAbilityId()==$41314238) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKH takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
set M9=8
set NB=300.
set My=360./I2R(M9)
set Mz=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set M0=NB*SinBJ(Mz)+GetLocationX(QE)
set M1=NB*CosBJ(Mz)+GetLocationY(QE)
set QI=Location(M0,M1)
call CreateNUnitsAtLoc(1,$6530304B,Player(0),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41314239,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"impale",QI)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set Mz=Mz+My
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
endfunction
function BKI takes nothing returns nothing
set XD=CreateTrigger()
call DisableTrigger(XD)
call TriggerRegisterAnyUnitEventBJ(XD,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(XD,Condition(function BKG))
call TriggerAddAction(XD,function BKH)
endfunction
function BKJ takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKK takes nothing returns boolean
if not (NG<10) then
return false
endif
return true
endfunction
function BKL takes nothing returns nothing
if BKK() then
set bJ=GetUnitLoc(GroupPickRandomUnit(Ir))
set Rx=RectFromCenterSizeBJ(bJ,300.,300.)
set QI=GetRandomLocInRect(Rx)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6530304B,Player(0),QI,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314239,bK)
call RemoveLocation(QI)
call RemoveRect(Rx)
call TriggerSleepAction(1.)
call UnitApplyTimedLifeBJ(3.,$42544C46,bK)
call IssuePointOrderLoc(bK,"impale",bJ)
set NG=NG+1
call StartTimerBJ(NH,false,2.)
call RemoveLocation(bJ)
else
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(RH)
call SetUnitAnimation(RH,"Morph ALTERNATE")
call TriggerSleepAction(1.)
call PauseUnitBJ(false,RH)
call UnitRemoveBuffsBJ(bj_REMOVEBUFFS_ALL,RH)
endif
endfunction
function BKM takes nothing returns nothing
set XE=CreateTrigger()
call DisableTrigger(XE)
call TriggerRegisterTimerExpireEventBJ(XE,NH)
call TriggerAddCondition(XE,Condition(function BKJ))
call TriggerAddAction(XE,function BKL)
endfunction
function BKN takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303137) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKO takes nothing returns nothing
call UnitAddAbilityBJ($41314354,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BKP takes nothing returns nothing
set XF=CreateTrigger()
call DisableTrigger(XF)
call TriggerRegisterAnyUnitEventBJ(XF,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XF,Condition(function BKN))
call TriggerAddAction(XF,function BKO)
endfunction
function BKQ takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetSpellAbilityId()==$41314354) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKR takes nothing returns nothing
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"Morph")
call TriggerSleepAction(2)
call ShowUnitHide(RH)
call TriggerSleepAction(3.)
set NG=0
call StartTimerBJ(NH,false,2.)
call EnableTrigger(XE)
endfunction
function BKS takes nothing returns nothing
set XG=CreateTrigger()
call DisableTrigger(XG)
call TriggerRegisterAnyUnitEventBJ(XG,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(XG,Condition(function BKQ))
call TriggerAddAction(XG,function BKR)
endfunction
function BKT takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303137) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKU takes nothing returns nothing
call TriggerRegisterUnitEvent(XJ,GetEnumUnit(),EVENT_UNIT_DAMAGED)
endfunction
function BKV takes nothing returns nothing
call ForGroupBJ(Ir,function BKU)
set R7[1]=Db
set R7[2]=Dc
set R7[3]=Dd
set R7[4]=De
set R7[5]=Df
set R7[6]=Dg
set R7[7]=Dh
set R7[8]=Di
set R7[9]=Dj
set R7[10]=Dk
set R7[11]=Dl
set R7[12]=Dm
set R7[13]=Dn
set R7[14]=Do
set R7[15]=Dp
set R7[16]=Dq
set R7[17]=Dr
set R7[18]=Ds
set R7[19]=Dt
set R7[20]=Du
set R7[21]=Dv
set R7[22]=Dw
set R7[23]=Dx
set R7[24]=Dy
set R7[25]=Dz
set R7[26]=D0
set R7[27]=D1
set R7[28]=D2
set R7[29]=D3
set R7[30]=D4
set R7[31]=D5
set R7[32]=D6
set R7[33]=D7
set R7[34]=D8
set R7[35]=D9
set R7[36]=EB
set R7[37]=EC
set R7[38]=ED
set R7[39]=EE
set R7[40]=EF
call CreateNUnitsAtLoc(1,$6F303033,Player(11),GetRectCenter(R7[GetRandomInt(1,40)]),bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),NI)
call CreateNUnitsAtLoc(1,$6F303033,Player(11),GetRectCenter(R7[GetRandomInt(1,40)]),bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),NI)
call CreateNUnitsAtLoc(1,$6F303033,Player(11),GetRectCenter(R7[GetRandomInt(1,40)]),bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),NI)
call StartTimerBJ(NJ[1],true,5.)
call EnableTrigger(XJ)
call EnableTrigger(XI)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BKW takes nothing returns nothing
set XH=CreateTrigger()
call DisableTrigger(XH)
call TriggerRegisterAnyUnitEventBJ(XH,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XH,Condition(function BKT))
call TriggerAddAction(XH,function BKV)
endfunction
function BKX takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKY takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BKZ takes nothing returns nothing
if BKY() then
set QE=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$6E303043,Player(11),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
call GroupRemoveUnitSimple(GetEnumUnit(),NI)
endif
endfunction
function BKa takes nothing returns boolean
if not (IsUnitGroupDeadBJ(NI)==false) then
return false
endif
return true
endfunction
function BKb takes nothing returns nothing
if BKa() then
call ForGroupBJ(NI,function BKZ)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function BKc takes nothing returns nothing
set XI=CreateTrigger()
call DisableTrigger(XI)
call TriggerRegisterTimerExpireEventBJ(XI,NJ[1])
call TriggerAddCondition(XI,Condition(function BKX))
call TriggerAddAction(XI,function BKb)
endfunction
function BKd takes nothing returns boolean
if not (GetUnitTypeId(GetEventDamageSource())==$6E303137) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
if not (Iu>=20) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKe takes nothing returns boolean
if not (IsUnitGroupDeadBJ(NI)==false) then
return false
endif
return true
endfunction
function BKf takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (IsUnitGroupDeadBJ(NI)==false) then
return false
endif
return true
endfunction
function BKg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if BKf() then
set bL=GetTriggerUnit()
call PauseUnitBJ(true,bL)
call PauseUnitBJ(true,RH)
call SetUnitInvulnerable(RH,true)
call SetUnitAnimation(RH,"Morph")
call SetUnitAnimation(bL,"Death")
set QI=GetUnitLoc(bL)
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
call TriggerSleepAction(1.)
call ShowUnitHide(RH)
call ShowUnitHide(bL)
call TriggerSleepAction(3.)
if BKe() then
set QE=GetUnitLoc(GroupPickRandomUnit(NI))
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
else
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
set Rx=RectFromCenterSizeBJ(QE,100.,100.)
endif
set Rv=GetRandomLocInRect(Rx)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(bL),QE,1.)
call SetUnitPositionLoc(RH,QE)
call ShowUnitShow(RH)
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitPositionLoc(bL,Rv)
call ShowUnitShow(bL)
call AddSpecialEffectLocBJ(Rv,"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(Rv)
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+5.)
call SetUnitAnimation(RH,"Morph ALTERNATE")
call SetUnitAnimation(bL,"Death")
call RemoveRect(Rx)
call RemoveLocation(QE)
call TriggerSleepAction(1.3)
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,bL)
call PauseUnitBJ(false,RH)
call StartTimerBJ(NJ[2],false,220.-I2R(Iu))
else
endif
endfunction
function BKh takes nothing returns nothing
set XJ=CreateTrigger()
call DisableTrigger(XJ)
call TriggerAddCondition(XJ,Condition(function BKd))
call TriggerAddAction(XJ,function BKg)
endfunction
function BKi takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303137) then
return false
endif
return true
endfunction
function BKj takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BKk takes nothing returns nothing
if BKj() then
call EnableTrigger(XJ)
else
call DisableTrigger(GetTriggeringTrigger())
call PauseTimerBJ(true,NJ[2])
endif
endfunction
function BKl takes nothing returns nothing
set XK=CreateTrigger()
call DisableTrigger(XK)
call TriggerRegisterTimerExpireEventBJ(XK,NJ[2])
call TriggerAddCondition(XK,Condition(function BKi))
call TriggerAddAction(XK,function BKk)
endfunction
function BKm takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303137) then
return false
endif
return true
endfunction
function BKn takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41314238,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"fanofknives")
call RemoveLocation(QE)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$4930304E
set V6[2]=$49303050
set V6[3]=$4930304F
set MF=3
call BF9()
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set QE=GetUnitLoc(RH)
call CreateItemLoc($49303033,QE)
call SetItemCharges(GetLastCreatedItem(),GetRandomInt(1,5+MP))
call RemoveLocation(QE)
endfunction
function BKo takes nothing returns nothing
set bI=CreateTrigger()
call DisableTrigger(bI)
call TriggerRegisterAnyUnitEventBJ(bI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bI,Condition(function BKm))
call TriggerAddAction(bI,function BKn)
endfunction
function BKp takes nothing returns nothing
set bF=$6E30304C
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bN)
call PlaySoundBJ(N)
call DisableTrigger(bN)
endfunction
function BKq takes nothing returns nothing
set Wi=CreateTrigger()
call TriggerAddAction(Wi,function BKp)
endfunction
function BKr takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BKs takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BKt takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BKu takes nothing returns nothing
if BKt() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CJ),bj_UNIT_FACING)
else
if BKs() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BKr() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
endif
endif
endif
set K1=true
set NR=0
set NL=0
set RH=GetLastCreatedUnit()
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41304846
set bH[5]=$41314355
set bH[6]=$41303255
call EnableTrigger(XL)
call EnableTrigger(bO)
call EnableTrigger(XM)
call EnableTrigger(XN)
call EnableTrigger(XO)
call EnableTrigger(XP)
call EnableTrigger(XQ)
call EnableTrigger(XT)
call EnableTrigger(XU)
call EnableTrigger(XV)
call EnableTrigger(XW)
call EnableTrigger(XS)
call EnableTrigger(bP)
call TriggerRegisterUnitEvent(XM,RH,EVENT_UNIT_DAMAGED)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BKv takes nothing returns nothing
set bN=CreateTrigger()
call DisableTrigger(bN)
call TriggerAddAction(bN,function BKu)
endfunction
function BKw takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BKx takes nothing returns nothing
call IssueTargetOrder(RH,"ensnare",GetAttacker())
endfunction
function BKy takes nothing returns nothing
set XS=CreateTrigger()
call DisableTrigger(XS)
call TriggerRegisterAnyUnitEventBJ(XS,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XS,Condition(function BKw))
call TriggerAddAction(XS,function BKx)
endfunction
function BKz takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BK0 takes nothing returns nothing
call IssueImmediateOrder(RH,"fanofknives")
endfunction
function BK1 takes nothing returns nothing
set XL=CreateTrigger()
call DisableTrigger(XL)
call TriggerRegisterAnyUnitEventBJ(XL,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XL,Condition(function BKz))
call TriggerAddAction(XL,function BK0)
endfunction
function BK2 takes nothing returns boolean
if not (GetSpellAbilityId()==$41314355) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BK3 takes nothing returns nothing
set NG=0
call StartTimerBJ(NH,true,.25)
call EnableTrigger(XR)
call PlaySoundOnUnitBJ(Bd,100,RH)
call PauseUnitBJ(true,RH)
endfunction
function BK4 takes nothing returns nothing
set bO=CreateTrigger()
call DisableTrigger(bO)
call TriggerRegisterAnyUnitEventBJ(bO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(bO,Condition(function BK2))
call TriggerAddAction(bO,function BK3)
endfunction
function BK5 takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BK6 takes nothing returns boolean
if NG>20 then
return true
endif
if IsUnitDeadBJ(RH)==true then
return true
endif
return false
endfunction
function BK7 takes nothing returns boolean
if not BK6() then
return false
endif
return true
endfunction
function BK8 takes nothing returns nothing
set NG=NG+1
if BK7() then
call PauseTimerBJ(true,NH)
call PauseUnitBJ(false,RH)
call DisableTrigger(GetTriggeringTrigger())
else
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,800.,800.)
set QI=GetRandomLocInRect(Rx)
call SetUnitAnimation(RH,"attack")
call SetUnitFacingToFaceLocTimed(RH,QI,0.)
call CreateNUnitsAtLoc(1,$6530304C,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314356,bK)
call IssuePointOrderLoc(bK,"carrionswarm",QI)
call UnitApplyTimedLifeBJ(1.,$42544C46,bK)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
endif
endfunction
function BK9 takes nothing returns nothing
set XR=CreateTrigger()
call DisableTrigger(XR)
call TriggerRegisterTimerExpireEventBJ(XR,NH)
call TriggerAddCondition(XR,Condition(function BK5))
call TriggerAddAction(XR,function BK8)
endfunction
function BLB takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BLC takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$4261706C)==true) then
return false
endif
return true
endfunction
function BLD takes nothing returns nothing
if BLC() then
call CreateNUnitsAtLoc(1,$75303036,Player(10),GetUnitLoc(GetEnumUnit()),bj_UNIT_FACING)
else
endif
endfunction
function BLE takes nothing returns nothing
call ForGroupBJ(Ir,function BLD)
endfunction
function BLF takes nothing returns nothing
set XT=CreateTrigger()
call DisableTrigger(XT)
call TriggerRegisterTimerEventPeriodic(XT,5.)
call TriggerAddCondition(XT,Condition(function BLB))
call TriggerAddAction(XT,function BLE)
endfunction
function BLG takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BLH takes nothing returns boolean
if not (NL==1) then
return false
endif
return true
endfunction
function BLI takes nothing returns boolean
if not (NL==0) then
return false
endif
return true
endfunction
function BLJ takes nothing returns boolean
if not (NL==2) then
return false
endif
return true
endfunction
function BLK takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BLL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,500.,500.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303452,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
if BLI() then
call UnitAddAbilityBJ($41314358,bK)
else
if BLH() then
call UnitAddAbilityBJ($41314359,bK)
else
call UnitAddAbilityBJ($4131435A,bK)
endif
endif
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
if BLK() then
if BLJ() then
call TriggerSleepAction(1.)
else
call TriggerSleepAction(3.)
endif
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BLM takes nothing returns nothing
set XM=CreateTrigger()
call DisableTrigger(XM)
call TriggerAddCondition(XM,Condition(function BLG))
call TriggerAddAction(XM,function BLL)
endfunction
function BLN takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BLO takes nothing returns nothing
call PlaySoundBJ(Be)
set NL=1
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BLP takes nothing returns nothing
set XN=CreateTrigger()
call DisableTrigger(XN)
call TriggerRegisterAnyUnitEventBJ(XN,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XN,Condition(function BLN))
call TriggerAddAction(XN,function BLO)
endfunction
function BLQ takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=10.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BLR takes nothing returns nothing
call PlaySoundBJ(Bf)
set NL=2
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314430,bK)
call IssueTargetOrder(bK,"slow",RH)
call UnitApplyTimedLifeBJ(2.,$42544C46,bK)
call RemoveLocation(QE)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BLS takes nothing returns nothing
set XO=CreateTrigger()
call DisableTrigger(XO)
call TriggerRegisterAnyUnitEventBJ(XO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XO,Condition(function BLQ))
call TriggerAddAction(XO,function BLR)
endfunction
function BLT takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BLU takes nothing returns nothing
call UnitAddAbilityBJ($41314431,RH)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BLV takes nothing returns nothing
set XP=CreateTrigger()
call DisableTrigger(XP)
call TriggerRegisterAnyUnitEventBJ(XP,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XP,Condition(function BLT))
call TriggerAddAction(XP,function BLU)
endfunction
function BLW takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BLX takes nothing returns nothing
call UnitAddAbilityBJ($41314433,RH)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BLY takes nothing returns nothing
set XQ=CreateTrigger()
call DisableTrigger(XQ)
call TriggerRegisterAnyUnitEventBJ(XQ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XQ,Condition(function BLW))
call TriggerAddAction(XQ,function BLX)
endfunction
function BLZ takes nothing returns boolean
if not (GetSpellAbilityId()==$41314431) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BLa takes nothing returns nothing
set Tv=GetSpellTargetUnit()
call fB(RH,Tv,0)
call TriggerSleepAction(2)
call AdjustPlayerStateBJ(-20,GetOwningPlayer(Tv),PLAYER_STATE_RESOURCE_LUMBER)
call AddSpecialEffectTargetUnitBJ("chest",Tv,"Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BLb takes nothing returns nothing
set XU=CreateTrigger()
call DisableTrigger(XU)
call TriggerRegisterAnyUnitEventBJ(XU,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XU,Condition(function BLZ))
call TriggerAddAction(XU,function BLa)
endfunction
function BLc takes nothing returns boolean
if not (GetSpellAbilityId()==$41314433) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BLd takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BLe takes nothing returns nothing
call PauseUnitBJ(true,RH)
call SetUnitAnimation(GetTriggerUnit(),"stand")
call TriggerSleepAction(3.)
call SetUnitAnimation(RH,"spell")
set QE=GetUnitLoc(RH)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set Tq=GetUnitLoc(GroupPickRandomUnit(Ir))
set Rx=RectFromCenterSizeBJ(Tq,800.,800.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$7530304E,Player(11),QE,bj_UNIT_FACING)
set XB[GetForLoopIndexA()]=GetLastCreatedUnit()
call IssuePointOrderLoc(GetLastCreatedUnit(),"move",QI)
call UnitApplyTimedLifeBJ(8.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QI)
call RemoveLocation(Tq)
call RemoveRect(Rx)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call TriggerSleepAction(1.)
if BLd() then
call PauseUnitBJ(false,RH)
else
call SetUnitAnimation(RH,"death")
endif
endfunction
function BLf takes nothing returns nothing
set XV=CreateTrigger()
call DisableTrigger(XV)
call TriggerRegisterAnyUnitEventBJ(XV,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XV,Condition(function BLc))
call TriggerAddAction(XV,function BLe)
endfunction
function BLg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$7530304E) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30304C) then
return false
endif
return true
endfunction
function BLh takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
endfunction
function BLi takes nothing returns nothing
set XW=CreateTrigger()
call DisableTrigger(XW)
call TriggerRegisterAnyUnitEventBJ(XW,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(XW,Condition(function BLg))
call TriggerAddAction(XW,function BLh)
endfunction
function BLj takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30304C) then
return false
endif
return true
endfunction
function BLk takes nothing returns nothing
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49303251
set V6[2]=$49303250
set V6[3]=$49303252
set MF=3
call BF9()
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set QE=GetUnitLoc(RH)
call CreateItemLoc($49303033,QE)
call SetItemCharges(GetLastCreatedItem(),GetRandomInt(1,10+MP))
call RemoveLocation(QE)
endfunction
function BLl takes nothing returns nothing
set bP=CreateTrigger()
call DisableTrigger(bP)
call TriggerRegisterAnyUnitEventBJ(bP,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bP,Condition(function BLj))
call TriggerAddAction(bP,function BLk)
endfunction
function BLm takes nothing returns nothing
set bF=$6E303051
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bQ)
call PlaySoundBJ(b)
call DisableTrigger(bQ)
endfunction
function BLn takes nothing returns nothing
set Wj=CreateTrigger()
call TriggerAddAction(Wj,function BLm)
endfunction
function BLo takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BLp takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BLq takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BLr takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BLs takes nothing returns nothing
set Ix=GetRandomInt(1,5)
set K1=true
if BLr() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(GX),bj_UNIT_FACING)
else
if BLq() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BLp() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
if BLo() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CE),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CD),bj_UNIT_FACING)
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
call GroupClear(NM)
call EnableTrigger(XY)
call EnableTrigger(XZ)
call EnableTrigger(Xc)
call EnableTrigger(bR)
call EnableTrigger(Xf)
call EnableTrigger(Xg)
call EnableTrigger(Xk)
call EnableTrigger(bS)
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314439
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BLt takes nothing returns nothing
set bQ=CreateTrigger()
call DisableTrigger(bQ)
call TriggerAddAction(bQ,function BLs)
endfunction
function BLu takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BLv takes nothing returns nothing
call PlaySoundBJ(Be)
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41314434
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
call EnableTrigger(XX)
endfunction
function BLw takes nothing returns nothing
set XY=CreateTrigger()
call DisableTrigger(XY)
call TriggerRegisterAnyUnitEventBJ(XY,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XY,Condition(function BLu))
call TriggerAddAction(XY,function BLv)
endfunction
function BLx takes nothing returns boolean
if not (GetSpellAbilityId()==$41314434) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BLy takes nothing returns boolean
if not (RectContainsLoc(Tt,QI)==true) then
return false
endif
return true
endfunction
function BLz takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BL0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set NG=0
call PauseUnitBJ(true,RH)
call TriggerSleepAction(2.)
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2500.,2500.)
set Tt=RectFromCenterSizeBJ(QE,500.,500.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=50
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(Rx)
if BLy() then
else
call CreateNUnitsAtLoc(1,$68303453,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(12.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
endif
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call RemoveRect(Rx)
call RemoveRect(Tt)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(2.)
if BLz() then
call PauseUnitBJ(false,RH)
call EnableTrigger(GetTriggeringTrigger())
else
call SetUnitAnimation(RH,"death")
endif
endfunction
function BL1 takes nothing returns nothing
set XX=CreateTrigger()
call DisableTrigger(XX)
call TriggerRegisterAnyUnitEventBJ(XX,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(XX,Condition(function BLx))
call TriggerAddAction(XX,function BL0)
endfunction
function BL2 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BL3 takes nothing returns nothing
call PlaySoundBJ(Bg)
call UnitAddAbilityBJ($41314435,RH)
call EnableTrigger(Xa)
call EnableTrigger(Xb)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BL4 takes nothing returns nothing
set XZ=CreateTrigger()
call DisableTrigger(XZ)
call TriggerRegisterAnyUnitEventBJ(XZ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(XZ,Condition(function BL2))
call TriggerAddAction(XZ,function BL3)
endfunction
function BL5 takes nothing returns boolean
if not (GetSpellAbilityId()==$41314435) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BL6 takes nothing returns nothing
set My=0.
set Tv=GetSpellTargetUnit()
set QE=GetUnitLoc(Tv)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+120.
set QI=PolarProjectionBJ(QE,300.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303544,Player(11),QI,bj_UNIT_FACING)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",Tv)
call UnitApplyTimedLifeBJ(15.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
endfunction
function BL7 takes nothing returns nothing
set Xa=CreateTrigger()
call DisableTrigger(Xa)
call TriggerRegisterAnyUnitEventBJ(Xa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Xa,Condition(function BL5))
call TriggerAddAction(Xa,function BL6)
endfunction
function BL8 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BL9 takes nothing returns nothing
call IssueTargetOrder(RH,"banish",GetAttacker())
endfunction
function BMB takes nothing returns nothing
set Xb=CreateTrigger()
call DisableTrigger(Xb)
call TriggerRegisterAnyUnitEventBJ(Xb,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xb,Condition(function BL8))
call TriggerAddAction(Xb,function BL9)
endfunction
function BMC takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMD takes nothing returns nothing
call PlaySoundBJ(Bh)
call GroupAddGroup(Ir,NM)
set bT=GroupPickRandomUnit(NM)
call GroupRemoveUnitSimple(bT,NM)
set QE=GetUnitLoc(bT)
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314436,bK)
call IssueTargetOrder(bK,"slow",bT)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call StartTimerBJ(NH,false,1.)
call EnableTrigger(Xd)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BME takes nothing returns nothing
set Xc=CreateTrigger()
call DisableTrigger(Xc)
call TriggerRegisterAnyUnitEventBJ(Xc,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xc,Condition(function BMC))
call TriggerAddAction(Xc,function BMD)
endfunction
function BMF takes nothing returns boolean
if not (GetSpellAbilityId()==$41314436) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMG takes nothing returns nothing
set bT=GetSpellTargetUnit()
call GroupRemoveUnitSimple(bT,NM)
endfunction
function BMH takes nothing returns nothing
set bR=CreateTrigger()
call DisableTrigger(bR)
call TriggerRegisterAnyUnitEventBJ(bR,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(bR,Condition(function BMF))
call TriggerAddAction(bR,function BMG)
endfunction
function BMI takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMJ takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMK takes nothing returns boolean
if not (GetUnitManaPercent(bT)>=1.) then
return false
endif
return true
endfunction
function BML takes nothing returns boolean
if not (UnitHasBuffBJ(bT,$42303542)==true) then
return false
endif
return true
endfunction
function BMM takes nothing returns nothing
if BML() then
if BMK() then
call SetUnitManaPercentBJ(bT,GetUnitManaPercent(bT)-1.)
call AddSpecialEffectTargetUnitBJ("origin",bT,"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call StartTimerBJ(NH,false,3.)
else
call UnitRemoveBuffBJ($42303542,bT)
call AddSpecialEffectTargetUnitBJ("origin",bT,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fD(RH,bT,0)
endif
else
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(20.)
if BMJ() then
call EnableTrigger(Xc)
else
endif
endif
endfunction
function BMN takes nothing returns nothing
set Xd=CreateTrigger()
call DisableTrigger(Xd)
call TriggerRegisterTimerExpireEventBJ(Xd,NH)
call TriggerAddCondition(Xd,Condition(function BMI))
call TriggerAddAction(Xd,function BMM)
endfunction
function BMO takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=15.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMP takes nothing returns nothing
call PlaySoundBJ(Bi)
call EnableTrigger(Xe)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BMQ takes nothing returns nothing
set Xf=CreateTrigger()
call DisableTrigger(Xf)
call TriggerRegisterAnyUnitEventBJ(Xf,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xf,Condition(function BMO))
call TriggerAddAction(Xf,function BMP)
endfunction
function BMR takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMS takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(RH,"spell")
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$68303454,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call TriggerSleepAction(10.)
if BMS() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BMU takes nothing returns nothing
set Xe=CreateTrigger()
call DisableTrigger(Xe)
call TriggerRegisterAnyUnitEventBJ(Xe,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xe,Condition(function BMR))
call TriggerAddAction(Xe,function BMT)
endfunction
function BMV takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMW takes nothing returns nothing
call StartTimerBJ(NN,false,1.)
call EnableTrigger(Xh)
call EnableTrigger(Xi)
endfunction
function BMX takes nothing returns nothing
set Xg=CreateTrigger()
call DisableTrigger(Xg)
call TriggerRegisterAnyUnitEventBJ(Xg,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xg,Condition(function BMV))
call TriggerAddAction(Xg,function BMW)
endfunction
function BMY takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (NL==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMZ takes nothing returns nothing
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6530304B,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314437,bK)
call IssueTargetOrder(bK,"chainlightning",GetAttackedUnitBJ())
call UnitApplyTimedLifeBJ(5.,$42544C46,bK)
call RemoveLocation(QE)
call DestroyEffect(W8)
set NL=0
call StartTimerBJ(NN,false,20.)
endfunction
function BMa takes nothing returns nothing
set Xh=CreateTrigger()
call DisableTrigger(Xh)
call TriggerRegisterAnyUnitEventBJ(Xh,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xh,Condition(function BMY))
call TriggerAddAction(Xh,function BMZ)
endfunction
function BMb takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMc takes nothing returns boolean
if not (NL==0) then
return false
endif
return true
endfunction
function BMd takes nothing returns nothing
if BMc() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
set W8=GetLastCreatedEffectBJ()
set NL=1
else
endif
endfunction
function BMe takes nothing returns nothing
set Xi=CreateTrigger()
call DisableTrigger(Xi)
call TriggerRegisterTimerExpireEventBJ(Xi,NN)
call TriggerAddCondition(Xi,Condition(function BMb))
call TriggerAddAction(Xi,function BMd)
endfunction
function BMf takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMg takes nothing returns nothing
call UnitAddAbilityBJ($41314438,RH)
call EnableTrigger(Xj)
endfunction
function BMh takes nothing returns nothing
set Xk=CreateTrigger()
call DisableTrigger(Xk)
call TriggerRegisterAnyUnitEventBJ(Xk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xk,Condition(function BMf))
call TriggerAddAction(Xk,function BMg)
endfunction
function BMi takes nothing returns boolean
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303543)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303051) then
return false
endif
return true
endfunction
function BMj takes nothing returns boolean
if not (Mt>R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()))) then
return false
endif
return true
endfunction
function BMk takes nothing returns nothing
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.05)
if BMj() then
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit()))
else
endif
call SetUnitManaBJ(GetTriggerUnit(),GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-I2R(Mt))
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fB(RH,GetTriggerUnit(),Mt)
endfunction
function BMl takes nothing returns nothing
set Xj=CreateTrigger()
call DisableTrigger(Xj)
call TriggerRegisterAnyUnitEventBJ(Xj,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Xj,Condition(function BMi))
call TriggerAddAction(Xj,function BMk)
endfunction
function BMm takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303051) then
return false
endif
return true
endfunction
function BMn takes nothing returns boolean
if not (RectContainsLoc(Tt,QI)==true) then
return false
endif
return true
endfunction
function BMo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2500.,2500.)
set Tt=RectFromCenterSizeBJ(QE,500.,500.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=50
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(Rx)
if BMn() then
else
call CreateNUnitsAtLoc(1,$68303453,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
endif
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveRect(Rx)
call RemoveRect(Tt)
set Ix=GetRandomInt(1,6)
call CreateItemLoc($4930325A,QE)
call RemoveLocation(QE)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49303237
set V6[2]=$49303241
set V6[3]=$49303236
set V6[4]=$49303235
set V6[5]=$49303238
set V6[6]=$49303239
set MF=6
call BF9()
call ConditionalTriggerExecute(W6)
endfunction
function BMp takes nothing returns nothing
set bS=CreateTrigger()
call DisableTrigger(bS)
call TriggerRegisterAnyUnitEventBJ(bS,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bS,Condition(function BMm))
call TriggerAddAction(bS,function BMo)
endfunction
function BMq takes nothing returns nothing
set bF=$6E303057
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bU)
call PlaySoundBJ(g)
call DisableTrigger(bU)
endfunction
function BMr takes nothing returns nothing
set Wk=CreateTrigger()
call TriggerAddAction(Wk,function BMq)
endfunction
function BMs takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BMt takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BMu takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BMv takes nothing returns nothing
if BMu() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CJ),bj_UNIT_FACING)
else
if BMt() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BMs() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
endif
endif
endif
set K1=true
set RH=GetLastCreatedUnit()
call IssueImmediateOrder(RH,"metamorphosis")
call AddUnitAnimationPropertiesBJ(true,"alternate",RH)
set NR=0
set NL=0
call GroupClear(NM)
call EnableTrigger(Xl)
call EnableTrigger(Xm)
call EnableTrigger(Xo)
call EnableTrigger(Xp)
call EnableTrigger(Xr)
call EnableTrigger(Xu)
call EnableTrigger(bV)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$4130484A
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BMw takes nothing returns nothing
set bU=CreateTrigger()
call DisableTrigger(bU)
call TriggerAddAction(bU,function BMv)
endfunction
function BMx takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (GetRandomInt(1,5)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMy takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),Player(10))==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BMz takes nothing returns nothing
if BMy() then
call fB(RH,GetEnumUnit(),0)
call fO(RH,GetEnumUnit(),2)
else
endif
endfunction
function BM0 takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
set bK=GetLastCreatedUnit()
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(200.,QE),function BMz)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
endfunction
function BM1 takes nothing returns nothing
set Xl=CreateTrigger()
call DisableTrigger(Xl)
call TriggerRegisterAnyUnitEventBJ(Xl,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xl,Condition(function BMx))
call TriggerAddAction(Xl,function BM0)
endfunction
function BM2 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BM3 takes nothing returns nothing
call PlaySoundBJ(Bj)
call StartTimerBJ(NH,false,3.)
call EnableTrigger(Xn)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BM4 takes nothing returns nothing
set Xm=CreateTrigger()
call DisableTrigger(Xm)
call TriggerRegisterAnyUnitEventBJ(Xm,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xm,Condition(function BM2))
call TriggerAddAction(Xm,function BM3)
endfunction
function BM5 takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
return true
endfunction
function BM6 takes nothing returns boolean
if not (UnitHasBuffBJ(RH,$42303350)==true) then
return false
endif
return true
endfunction
function BM7 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),Player(10))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BM8 takes nothing returns nothing
if BM7() then
call GroupAddUnitSimple(GetEnumUnit(),NM)
else
endif
endfunction
function BM9 takes nothing returns boolean
if not (UnitHasBuffBJ(RH,$42303350)==true) then
return false
endif
return true
endfunction
function BNB takes nothing returns boolean
if not (NL==2) then
return false
endif
return true
endfunction
function BNC takes nothing returns nothing
if BNB() then
call StartTimerBJ(NH,false,3.)
else
set QE=GetUnitLoc(RH)
if BM6() then
set Rx=RectFromCenterSizeBJ(QE,5000.,5000.)
else
set Rx=RectFromCenterSizeBJ(QE,2500.,2500.)
endif
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BM8)
set QI=GetUnitLoc(GroupPickRandomUnit(NM))
call CreateNUnitsAtLoc(1,$68303341,Player(10),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call GroupClear(NM)
if BM9() then
call StartTimerBJ(NH,false,1.)
else
call StartTimerBJ(NH,false,3.)
endif
endif
endfunction
function BND takes nothing returns nothing
set Xn=CreateTrigger()
call DisableTrigger(Xn)
call TriggerRegisterTimerExpireEventBJ(Xn,NH)
call TriggerAddCondition(Xn,Condition(function BM5))
call TriggerAddAction(Xn,function BNC)
endfunction
function BNE takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BNF takes nothing returns nothing
call PlaySoundBJ(Bk)
call UnitAddAbilityBJ($41303848,GetTriggerUnit())
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrder(GetTriggerUnit(),"berserk")
endfunction
function BNG takes nothing returns nothing
set Xo=CreateTrigger()
call DisableTrigger(Xo)
call TriggerRegisterAnyUnitEventBJ(Xo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xo,Condition(function BNE))
call TriggerAddAction(Xo,function BNF)
endfunction
function BNH takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetRandomInt(1,100)<=Iu) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BNI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundBJ(Bo)
set Tv=GroupPickRandomUnit(Ir)
set W7[1]=Tv
set QE=GetUnitLoc(Tv)
call CreateNUnitsAtLoc(1,$6530304C,Player(11),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(2.,$42544C46,bK)
call UnitAddAbilityBJ($41314442,bK)
call IssueTargetOrder(bK,"entanglingroots",Tv)
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+120.
set QI=PolarProjectionBJ(QE,150.,My)
call CreateNUnitsAtLoc(1,$68303455,Player(11),QI,bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),NO)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",W7[1])
call RemoveLocation(QI)
call AddUnitAnimationPropertiesBJ(true,"work",GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetLastCreatedUnit(),"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call SetUnitAnimation(RH,"spell slam alternate")
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call PlaySoundBJ(Bl)
call EnableTrigger(Xq)
call StartTimerBJ(NN,false,1.)
endfunction
function BNJ takes nothing returns nothing
set Xp=CreateTrigger()
call DisableTrigger(Xp)
call TriggerRegisterAnyUnitEventBJ(Xp,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xp,Condition(function BNH))
call TriggerAddAction(Xp,function BNI)
endfunction
function BNK takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
return true
endfunction
function BNL takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BNM takes nothing returns boolean
if not (IsUnitGroupDeadBJ(NO)==true) then
return false
endif
return true
endfunction
function BNN takes nothing returns boolean
if not (IsUnitAliveBJ(W7[1])==true) then
return false
endif
return true
endfunction
function BNO takes nothing returns nothing
if BNN() then
if BNM() then
call UnitRemoveBuffBJ($42303544,W7[1])
call EnableTrigger(Xp)
else
call StartTimerBJ(NN,false,1.)
endif
else
call EnableTrigger(Xp)
call ForGroupBJ(NO,function BNL)
endif
endfunction
function BNP takes nothing returns nothing
set Xq=CreateTrigger()
call DisableTrigger(Xq)
call TriggerRegisterTimerExpireEventBJ(Xq,NN)
call TriggerAddCondition(Xq,Condition(function BNK))
call TriggerAddAction(Xq,function BNO)
endfunction
function BNQ takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BNR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set NL=2
call PauseUnitBJ(true,RH)
call SetUnitInvulnerable(RH,true)
call SetUnitAnimationByIndex(RH,21)
set QE=GetUnitLoc(RH)
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+18.
set QI=PolarProjectionBJ(QE,256.,My)
call CreateItemLoc($49303653,QI)
set bW[GetForLoopIndexA()]=GetLastCreatedItem()
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call EnableTrigger(Xt)
call EnableTrigger(Xs)
call StartTimerBJ(NP,true,2.)
endfunction
function BNS takes nothing returns nothing
set Xr=CreateTrigger()
call DisableTrigger(Xr)
call TriggerRegisterAnyUnitEventBJ(Xr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xr,Condition(function BNQ))
call TriggerAddAction(Xr,function BNR)
endfunction
function BNT takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303653) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
return true
endfunction
function BNU takes nothing returns boolean
if not (bW[GetForLoopIndexA()]==GetManipulatedItem()) then
return false
endif
return true
endfunction
function BNV takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetTriggerUnit(),0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BNU() then
set NQ=GetForLoopIndexA()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bW[NQ]=null
call RemoveItem(GetManipulatedItem())
endfunction
function BNW takes nothing returns nothing
set Xt=CreateTrigger()
call DisableTrigger(Xt)
call TriggerRegisterAnyUnitEventBJ(Xt,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(Xt,Condition(function BNT))
call TriggerAddAction(Xt,function BNV)
endfunction
function BNX takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
return true
endfunction
function BNY takes nothing returns boolean
if not (bW[GetForLoopIndexA()]==null) then
return false
endif
return true
endfunction
function BNZ takes nothing returns boolean
if not (Mt==20) then
return false
endif
return true
endfunction
function BNa takes nothing returns nothing
set Mt=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BNY() then
set Mt=Mt+1
else
set bW[21]=bW[GetForLoopIndexA()]
set NQ=GetForLoopIndexA()
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if BNZ() then
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
call PauseTimerBJ(true,NP)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitAnimationByIndex(RH,20)
call TriggerSleepAction(2)
set NL=1
call PauseUnitBJ(false,RH)
call SetUnitInvulnerable(RH,false)
call RemoveLocation(QE)
else
set QE=GetItemLoc(bW[21])
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\LightningBolt\\LightningBoltMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bW[NQ]=null
call RemoveItem(bW[21])
call AddSpecialEffectTargetUnitBJ("chest",RH,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+3.)
call SetUnitManaPercentBJ(RH,GetUnitManaPercent(RH)+3.)
call RemoveLocation(QE)
endif
endfunction
function BNb takes nothing returns nothing
set Xs=CreateTrigger()
call DisableTrigger(Xs)
call TriggerRegisterTimerExpireEventBJ(Xs,NP)
call TriggerAddCondition(Xs,Condition(function BNX))
call TriggerAddAction(Xs,function BNa)
endfunction
function BNc takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitStateSwap(UNIT_STATE_MANA,RH)>=300.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BNd takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303057) then
return false
endif
return true
endfunction
function BNe takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitManaBJ(RH,GetUnitStateSwap(UNIT_STATE_MANA,RH)-300.)
set QE=GetUnitLoc(RH)
call SetUnitAnimationByIndex(RH,18)
call CreateNUnitsAtLoc(1,$68303456,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call TriggerSleepAction(30.)
if BNd() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BNf takes nothing returns nothing
set Xu=CreateTrigger()
call DisableTrigger(Xu)
call TriggerRegisterAnyUnitEventBJ(Xu,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xu,Condition(function BNc))
call TriggerAddAction(Xu,function BNe)
endfunction
function BNg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303057) then
return false
endif
return true
endfunction
function BNh takes nothing returns nothing
call fC(RH,GetEnumUnit(),0)
endfunction
function BNi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,500.,500.)
call CreateNUnitsAtLoc(1,$68303457,Player(11),QE,bj_UNIT_FACING)
call KillUnit(GetLastCreatedUnit())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BNh)
call RemoveLocation(QE)
call RemoveRect(Rx)
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49303342
set V6[2]=$49303341
set V6[3]=$49303339
set MF=3
call ConditionalTriggerExecute(V3)
set QE=GetUnitLoc(RH)
call CreateItemLoc($49303033,QE)
call SetItemCharges(GetLastCreatedItem(),GetRandomInt(1,5+MP))
call RemoveLocation(QE)
endfunction
function BNj takes nothing returns nothing
set bV=CreateTrigger()
call DisableTrigger(bV)
call TriggerRegisterAnyUnitEventBJ(bV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bV,Condition(function BNg))
call TriggerAddAction(bV,function BNi)
endfunction
function BNk takes nothing returns nothing
set bF=$6E303143
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bX)
call PlaySoundBJ(d)
call TriggerSleepAction(7.)
call PlaySoundBJ(e)
call DisableTrigger(bX)
endfunction
function BNl takes nothing returns nothing
set Wl=CreateTrigger()
call TriggerAddAction(Wl,function BNk)
endfunction
function BNm takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BNn takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BNo takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BNp takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BNq takes nothing returns nothing
set Ix=GetRandomInt(1,5)
set K1=true
if BNp() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(GX),bj_UNIT_FACING)
else
if BNo() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BNn() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
if BNm() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CE),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(CD),bj_UNIT_FACING)
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
call EnableTrigger(Xv)
call EnableTrigger(Xw)
call EnableTrigger(Xx)
call EnableTrigger(Xy)
call EnableTrigger(Xz)
call EnableTrigger(X4)
call EnableTrigger(X5)
call EnableTrigger(X7)
call EnableTrigger(X8)
call EnableTrigger(bY)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314446
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BNr takes nothing returns nothing
set bX=CreateTrigger()
call DisableTrigger(bX)
call TriggerAddAction(bX,function BNq)
endfunction
function BNs takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetRandomInt(1,100)<=5) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BNt takes nothing returns nothing
set NR=NR+1
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
set Tq=PolarProjectionBJ(QE,2000.,AngleBetweenPoints(QE,QI))
call CreateNUnitsAtLoc(1,$68303458,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
set XB[NR]=GetLastCreatedUnit()
call GroupAddUnitSimple(GetLastCreatedUnit(),NO)
call IssuePointOrderLoc(GetLastCreatedUnit(),"move",Tq)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveLocation(Tq)
endfunction
function BNu takes nothing returns nothing
set Xv=CreateTrigger()
call DisableTrigger(Xv)
call TriggerRegisterAnyUnitEventBJ(Xv,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xv,Condition(function BNs))
call TriggerAddAction(Xv,function BNt)
endfunction
function BNv takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BNw takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BNx takes nothing returns nothing
if BNw() then
set Tq=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$68303458,Player(11),Tq,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314444,bK)
call IssueTargetOrder(bK,"dispel",GetEnumUnit())
call RemoveLocation(Tq)
else
call GroupRemoveUnitSimple(GetEnumUnit(),NO)
endif
endfunction
function BNy takes nothing returns nothing
call ForGroupBJ(NO,function BNx)
endfunction
function BNz takes nothing returns nothing
set Xw=CreateTrigger()
call DisableTrigger(Xw)
call TriggerRegisterTimerEventPeriodic(Xw,1.)
call TriggerAddCondition(Xw,Condition(function BNv))
call TriggerAddAction(Xw,function BNy)
endfunction
function BN0 takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (GetRandomInt(1,50)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BN1 takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Weapons\\GargoyleMissile\\GargoyleMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitAddAbilityBJ($41314445,GetTriggerUnit())
call IssueImmediateOrder(GetTriggerUnit(),"berserk")
call UnitRemoveAbilityBJ($41314445,GetTriggerUnit())
endfunction
function BN2 takes nothing returns nothing
set Xx=CreateTrigger()
call DisableTrigger(Xx)
call TriggerRegisterAnyUnitEventBJ(Xx,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xx,Condition(function BN0))
call TriggerAddAction(Xx,function BN1)
endfunction
function BN3 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$7530304F) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BN4 takes nothing returns nothing
call UnitRemoveAbilityBJ($41314445,GetTriggerUnit())
call SetUnitAbilityLevelSwapped($41314446,RH,Iu/10)
endfunction
function BN5 takes nothing returns nothing
set Xy=CreateTrigger()
call DisableTrigger(Xy)
call TriggerRegisterEnterRectSimple(Xy,GetPlayableMapRect())
call TriggerAddCondition(Xy,Condition(function BN3))
call TriggerAddAction(Xy,function BN4)
endfunction
function BN6 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (CountUnitsInGroup(Ir)>1) then
return false
endif
return true
endfunction
function BN7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set W7[1]=GroupPickRandomUnit(Ir)
set QE=GetUnitLoc(W7[1])
call CreateNUnitsAtLoc(1,$6E303545,Player(11),QE,bj_UNIT_FACING)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",W7[1])
set XB[1]=GetLastCreatedUnit()
call RemoveLocation(QE)
call EnableTrigger(X0)
call EnableTrigger(X1)
call EnableTrigger(X2)
endfunction
function BN8 takes nothing returns nothing
set Xz=CreateTrigger()
call DisableTrigger(Xz)
call TriggerRegisterAnyUnitEventBJ(Xz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Xz,Condition(function BN6))
call TriggerAddAction(Xz,function BN7)
endfunction
function BN9 takes nothing returns boolean
if not (GetUnitTypeId(GetAttacker())==$6E303545) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOB takes nothing returns boolean
if not (GetRandomInt(1,10)<=2) then
return false
endif
return true
endfunction
function BOC takes nothing returns boolean
if not (GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())>=25.) then
return false
endif
return true
endfunction
function BOD takes nothing returns nothing
if BOB() then
set QE=GetUnitLoc(GetAttackedUnitBJ())
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6E303454,Player(11),QI,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,50.)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetAttackedUnitBJ())
call UnitApplyTimedLifeBJ(1.5,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call UnitApplyTimedLifeBJ(1.5,$42544C46,GetLastCreatedUnit())
else
endif
if BOC() then
call KillUnit(GetAttacker())
else
endif
endfunction
function BOE takes nothing returns nothing
set X0=CreateTrigger()
call DisableTrigger(X0)
call TriggerRegisterAnyUnitEventBJ(X0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(X0,Condition(function BN9))
call TriggerAddAction(X0,function BOD)
endfunction
function BOF takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303545 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303454 then
return true
endif
return false
endfunction
function BOG takes nothing returns boolean
if not BOF() then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOH takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303545) then
return false
endif
return true
endfunction
function BOI takes nothing returns nothing
set QE=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
if BOH() then
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+GetUnitManaPercent(GetTriggerUnit()))
call SetUnitManaPercentBJ(RH,GetUnitManaPercent(RH)+GetUnitManaPercent(GetTriggerUnit()))
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call RemoveUnit(GetTriggerUnit())
endfunction
function BOJ takes nothing returns nothing
set X2=CreateTrigger()
call DisableTrigger(X2)
call TriggerRegisterAnyUnitEventBJ(X2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(X2,Condition(function BOG))
call TriggerAddAction(X2,function BOI)
endfunction
function BOK takes nothing returns boolean
if not (GetTriggerUnit()==W7[1]) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOL takes nothing returns nothing
call KillUnit(XB[1])
endfunction
function BOM takes nothing returns nothing
set X1=CreateTrigger()
call DisableTrigger(X1)
call TriggerRegisterAnyUnitEventBJ(X1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(X1,Condition(function BOK))
call TriggerAddAction(X1,function BOL)
endfunction
function BON takes nothing returns boolean
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303546)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOO takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314449,bK)
call IssuePointOrderLoc(GetLastCreatedUnit(),"silence",QE)
call RemoveLocation(QE)
call fC(RH,GetTriggerUnit(),0)
endfunction
function BOP takes nothing returns nothing
set X3=CreateTrigger()
call DisableTrigger(X3)
call TriggerRegisterAnyUnitEventBJ(X3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(X3,Condition(function BON))
call TriggerAddAction(X3,function BOO)
endfunction
function BOQ takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BOR takes nothing returns nothing
call EnableTrigger(X3)
call UnitAddAbilityBJ($4131444A,RH)
endfunction
function BOS takes nothing returns nothing
set X4=CreateTrigger()
call DisableTrigger(X4)
call TriggerRegisterAnyUnitEventBJ(X4,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(X4,Condition(function BOQ))
call TriggerAddAction(X4,function BOR)
endfunction
function BOT takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BOU takes nothing returns nothing
call TriggerRegisterUnitEvent(X6,GetEnumUnit(),EVENT_UNIT_DAMAGED)
endfunction
function BOV takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303546,Player(11),GetUnitLoc(RH),bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Undead\\UnholyAura\\UnholyAura.mdl")
set W8=GetLastCreatedEffectBJ()
call ForGroupBJ(Ir,function BOU)
call UnitApplyTimedLifeBJ(20.,$42544C46,GetLastCreatedUnit())
set XB[2]=GetLastCreatedUnit()
call TriggerSleepAction(3.)
call StartTimerBJ(NH,false,1.)
call EnableTrigger(X6)
call TriggerSleepAction(60.)
if BOV() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BOX takes nothing returns nothing
set X7=CreateTrigger()
call DisableTrigger(X7)
call TriggerRegisterAnyUnitEventBJ(X7,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(X7,Condition(function BOT))
call TriggerAddAction(X7,function BOW)
endfunction
function BOY takes nothing returns boolean
if not (GetUnitTypeId(GetEventDamageSource())==$6E303546) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyEffect(W8)
call KillUnit(XB[2])
call AddSpecialEffectTargetUnitBJ("origin",XB[2],"Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fD(RH,GetTriggerUnit(),0)
call fO(GetTriggerUnit(),RH,3)
call SetUnitAnimation(GetTriggerUnit(),"death")
call PauseTimerBJ(true,NH)
endfunction
function BOa takes nothing returns nothing
set X6=CreateTrigger()
call DisableTrigger(X6)
call TriggerAddCondition(X6,Condition(function BOY))
call TriggerAddAction(X6,function BOZ)
endfunction
function BOb takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOc takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303547)==true) then
return false
endif
return true
endfunction
function BOd takes nothing returns nothing
if BOc() then
set QE=GetUnitLoc(XB[2])
call IssuePointOrderLoc(GetEnumUnit(),"move",QE)
call RemoveLocation(QE)
else
endif
endfunction
function BOe takes nothing returns boolean
if not (IsUnitAliveBJ(XB[2])==true) then
return false
endif
return true
endfunction
function BOf takes nothing returns nothing
if BOe() then
call IssueImmediateOrder(XB[2],"stop")
call SetUnitAnimation(XB[2],"spell")
call ForGroupBJ(Ir,function BOd)
call StartTimerBJ(NH,false,1.)
else
call DestroyEffect(W8)
endif
endfunction
function BOg takes nothing returns nothing
set X5=CreateTrigger()
call DisableTrigger(X5)
call TriggerRegisterTimerExpireEventBJ(X5,NH)
call TriggerAddCondition(X5,Condition(function BOb))
call TriggerAddAction(X5,function BOf)
endfunction
function BOh takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetAttacker()),GetOwningPlayer(GetAttackedUnitBJ()))==true) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=10.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BOi takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetRectCenter(R3[GetRandomInt(1,65)])
call CreateNUnitsAtLoc(1,$6E303547,Player(11),QE,bj_UNIT_FACING)
call PauseUnitBJ(true,GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl")
set XB[3]=GetLastCreatedUnit()
call RemoveLocation(QE)
set QE=GetRectCenter(R3[GetRandomInt(1,65)])
call CreateNUnitsAtLoc(1,$6E303547,Player(11),QE,bj_UNIT_FACING)
call PauseUnitBJ(true,GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl")
set XB[4]=GetLastCreatedUnit()
call RemoveLocation(QE)
set QE=GetRectCenter(R3[GetRandomInt(1,65)])
call CreateNUnitsAtLoc(1,$6E303547,Player(11),QE,bj_UNIT_FACING)
call PauseUnitBJ(true,GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl")
set XB[5]=GetLastCreatedUnit()
call RemoveLocation(QE)
call EnableTrigger(X9)
call StartTimerBJ(NN,false,5.)
set NR=6
endfunction
function BOj takes nothing returns nothing
set X8=CreateTrigger()
call DisableTrigger(X8)
call TriggerRegisterAnyUnitEventBJ(X8,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(X8,Condition(function BOh))
call TriggerAddAction(X8,function BOi)
endfunction
function BOk takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOl takes nothing returns boolean
if not (IsUnitAliveBJ(XB[3])==true) then
return false
endif
return true
endfunction
function BOm takes nothing returns boolean
if not (IsUnitAliveBJ(XB[4])==true) then
return false
endif
return true
endfunction
function BOn takes nothing returns boolean
if not (IsUnitAliveBJ(XB[5])==true) then
return false
endif
return true
endfunction
function BOo takes nothing returns boolean
if IsUnitAliveBJ(XB[3])==true then
return true
endif
if IsUnitAliveBJ(XB[4])==true then
return true
endif
if IsUnitAliveBJ(XB[5])==true then
return true
endif
return false
endfunction
function BOp takes nothing returns boolean
if not BOo() then
return false
endif
return true
endfunction
function BOq takes nothing returns nothing
if BOl() then
set QE=GetUnitLoc(XB[3])
set QI=GetUnitLoc(RH)
call SetUnitLifePercentBJ(XB[3],GetUnitLifePercent(XB[3])-2.)
call SetUnitAnimation(XB[3],"death")
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddLightningLoc("DRAL",QI,QE)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,1.)
call fH(RH,Lf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call RemoveLocation(QI)
else
endif
if BOm() then
set QE=GetUnitLoc(XB[4])
set QI=GetUnitLoc(RH)
call SetUnitLifePercentBJ(XB[4],GetUnitLifePercent(XB[4])-2.)
call SetUnitAnimation(XB[4],"death")
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddLightningLoc("DRAL",QI,QE)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,1.)
call fH(RH,Lf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call RemoveLocation(QI)
else
endif
if BOn() then
set QE=GetUnitLoc(XB[5])
set QI=GetUnitLoc(RH)
set Lf=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,RH)*.01*I2R(Iu)
call SetUnitLifePercentBJ(XB[5],GetUnitLifePercent(XB[5])-2.)
call SetUnitAnimation(XB[5],"death")
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddLightningLoc("DRAL",QI,QE)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,1.)
call fH(RH,Lf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call RemoveLocation(QI)
else
endif
if BOp() then
call StartTimerBJ(NN,false,5.)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function BOr takes nothing returns nothing
set X9=CreateTrigger()
call DisableTrigger(X9)
call TriggerRegisterTimerExpireEventBJ(X9,NN)
call TriggerAddCondition(X9,Condition(function BOk))
call TriggerAddAction(X9,function BOq)
endfunction
function BOs takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOt takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303547)==true) then
return false
endif
return true
endfunction
function BOu takes nothing returns nothing
if BOt() then
set QE=GetUnitLoc(XB[1])
call IssuePointOrderLoc(GetEnumUnit(),"move",QE)
call RemoveLocation(QE)
else
endif
endfunction
function BOv takes nothing returns boolean
if not (IsUnitAliveBJ(XB[1])==true) then
return false
endif
return true
endfunction
function BOw takes nothing returns nothing
if BOv() then
call IssueImmediateOrder(XB[1],"stop")
call ForGroupBJ(Ir,function BOu)
call StartTimerBJ(NH,false,1.)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function BOx takes nothing returns nothing
set bZ=CreateTrigger()
call DisableTrigger(bZ)
call TriggerRegisterTimerExpireEventBJ(bZ,NH)
call TriggerAddCondition(bZ,Condition(function BOs))
call TriggerAddAction(bZ,function BOw)
endfunction
function BOy takes nothing returns boolean
if not (GetTriggerUnit()==XB[1]) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303143) then
return false
endif
return true
endfunction
function BOz takes nothing returns boolean
if not (RectContainsUnit(Rx,GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BO0 takes nothing returns nothing
if BOz() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fD(RH,GetEnumUnit(),0)
else
endif
endfunction
function BO1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(bZ)
set QE=GetUnitLoc(XB[1])
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QE,500.,500.)
call ForGroupBJ(Ir,function BO0)
call RemoveRect(Rx)
call RemoveLocation(QE)
call KillUnit(XB[1])
call PauseTimerBJ(true,NH)
endfunction
function BO2 takes nothing returns nothing
set ba=CreateTrigger()
call DisableTrigger(ba)
call TriggerRegisterAnyUnitEventBJ(ba,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ba,Condition(function BOy))
call TriggerAddAction(ba,function BO1)
endfunction
function BO3 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303143) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function BO4 takes nothing returns nothing
call TriggerRegisterUnitEvent(X6,GetEnumUnit(),EVENT_UNIT_DAMAGED)
endfunction
function BO5 takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BO6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6E303548,Player(11),GetUnitLoc(RH),bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(Ir,function BO4)
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),$6E303547),function BO5)
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
set XB[1]=GetLastCreatedUnit()
call StartTimerBJ(NH,false,1.)
call EnableTrigger(ba)
call EnableTrigger(bZ)
set V4=RH
set V6[1]=$49303444
set V6[2]=$49303449
set V6[3]=$49303448
set V6[4]=$49303445
set V6[5]=$49303446
set MF=5
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function BO7 takes nothing returns nothing
set bY=CreateTrigger()
call DisableTrigger(bY)
call TriggerRegisterAnyUnitEventBJ(bY,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bY,Condition(function BO3))
call TriggerAddAction(bY,function BO6)
endfunction
function BO8 takes nothing returns nothing
set bF=$6E303148
call TriggerSleepAction(5.)
call PlaySoundBJ(U)
call TriggerSleepAction(7.)
call PlaySoundBJ(V)
call SetUnitInvulnerable(WN,true)
call SetUnitInvulnerable(WO,true)
call ConditionalTriggerExecute(bb)
call DisableTrigger(bb)
endfunction
function BO9 takes nothing returns nothing
set Wm=CreateTrigger()
call TriggerAddAction(Wm,function BO8)
endfunction
function BPB takes nothing returns nothing
call AddSpecialEffectLocBJ(GetRectCenter(DJ),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
set K1=true
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,bF,Player(10),GetRectCenter(DJ),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set bc[1]=GetRectCenter(Ch)
set bc[2]=GetRectCenter(Et)
set bc[3]=GetRectCenter(FT)
set bc[4]=GetRectCenter(GI)
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304250
set bH[4]=$4131444E
set bH[5]=$41314450
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(YC)
call EnableTrigger(YD)
call EnableTrigger(YG)
call EnableTrigger(YI)
call EnableTrigger(YE)
call EnableTrigger(YK)
call EnableTrigger(YL)
call EnableTrigger(YJ)
call EnableTrigger(YM)
call EnableTrigger(YN)
call EnableTrigger(YP)
call EnableTrigger(bd)
endfunction
function BPC takes nothing returns nothing
set bb=CreateTrigger()
call DisableTrigger(bb)
call TriggerAddAction(bb,function BPB)
endfunction
function BPD takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(YB)
endfunction
function BPF takes nothing returns nothing
set YC=CreateTrigger()
call DisableTrigger(YC)
call TriggerRegisterAnyUnitEventBJ(YC,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YC,Condition(function BPD))
call TriggerAddAction(YC,function BPE)
endfunction
function BPG takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitStateSwap(UNIT_STATE_MANA,RH)>=100.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPH takes nothing returns nothing
set QI=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$68303459,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
endfunction
function BPI takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitManaBJ(RH,GetUnitStateSwap(UNIT_STATE_MANA,RH)-100.)
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"victory")
call PlaySoundBJ(U)
call TriggerSleepAction(.5)
call PauseUnitBJ(false,RH)
set QE=GetUnitLoc(RH)
call ForGroupBJ(Ir,function BPH)
call RemoveLocation(QE)
call TriggerSleepAction(15.)
if BPI() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BPK takes nothing returns nothing
set YB=CreateTrigger()
call DisableTrigger(YB)
call TriggerRegisterAnyUnitEventBJ(YB,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YB,Condition(function BPG))
call TriggerAddAction(YB,function BPJ)
endfunction
function BPL takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NH,false,10.)
set bH[5]=$4131444D
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[4],RH,Iu/10)
call EnableTrigger(YF)
endfunction
function BPN takes nothing returns nothing
set YD=CreateTrigger()
call DisableTrigger(YD)
call TriggerRegisterAnyUnitEventBJ(YD,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YD,Condition(function BPL))
call TriggerAddAction(YD,function BPM)
endfunction
function BPO takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPP takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303548)==true) then
return false
endif
return true
endfunction
function BPQ takes nothing returns nothing
if BPP() then
set QE=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$6E303549,Player(11),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
else
endif
endfunction
function BPR takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BPS takes nothing returns nothing
call ForGroupBJ(Ir,function BPQ)
if BPR() then
call StartTimerBJ(NH,false,10.)
else
endif
endfunction
function BPT takes nothing returns nothing
set YF=CreateTrigger()
call DisableTrigger(YF)
call TriggerRegisterTimerExpireEventBJ(YF,NH)
call TriggerAddCondition(YF,Condition(function BPO))
call TriggerAddAction(YF,function BPS)
endfunction
function BPU takes nothing returns boolean
if not (GetSpellAbilityId()==$4131444E) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Tv=GetSpellTargetUnit()
call StartTimerBJ(NN,false,.5)
call PlaySoundBJ(Bm)
endfunction
function BPW takes nothing returns nothing
set YI=CreateTrigger()
call DisableTrigger(YI)
call TriggerRegisterAnyUnitEventBJ(YI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YI,Condition(function BPU))
call TriggerAddAction(YI,function BPV)
endfunction
function BPX takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPY takes nothing returns boolean
if not (UnitHasBuffBJ(Tv,$42303549)==true) then
return false
endif
return true
endfunction
function BPZ takes nothing returns nothing
if BPY() then
set QE=GetRectCenter(Ch)
set QI=GetUnitLoc(Tv)
call CreateNUnitsAtLoc(1,$6830345A,Player(11),QE,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call StartTimerBJ(NN,false,.5)
else
call EnableTrigger(YI)
endif
endfunction
function BPa takes nothing returns nothing
set YG=CreateTrigger()
call DisableTrigger(YG)
call TriggerRegisterTimerExpireEventBJ(YG,NN)
call TriggerAddCondition(YG,Condition(function BPX))
call TriggerAddAction(YG,function BPZ)
endfunction
function BPb takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$4131444F
call UnitAddAbilityBJ(bH[6],RH)
call EnableTrigger(YH)
endfunction
function BPd takes nothing returns nothing
set YE=CreateTrigger()
call DisableTrigger(YE)
call TriggerRegisterAnyUnitEventBJ(YE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YE,Condition(function BPb))
call TriggerAddAction(YE,function BPc)
endfunction
function BPe takes nothing returns boolean
if not (GetSpellAbilityId()==$4131444F) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPf takes nothing returns boolean
if not (RectContainsUnit(Tt,GetEnumUnit())==false) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (DistanceBetweenPoints(QI,QE)<=1270.) then
return false
endif
return true
endfunction
function BPg takes nothing returns nothing
set QI=GetUnitLoc(GetEnumUnit())
if BPf() then
call fD(RH,GetEnumUnit(),0)
else
endif
call RemoveLocation(QI)
endfunction
function BPh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(YN)
call PauseUnitBJ(true,RH)
call QueueUnitAnimationBJ(RH,"stand victory")
call QueueUnitAnimationBJ(RH,"stand victory")
call QueueUnitAnimationBJ(RH,"stand victory")
call PlaySoundBJ(P)
call TriggerSleepAction(4.)
call PauseUnitBJ(false,RH)
set My=0.
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set Tt=RectFromCenterSizeBJ(QE,600.,600.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+18.
set QI=PolarProjectionBJ(QE,600.,My)
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=40
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+18.
set QI=PolarProjectionBJ(QE,1000.,My)
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set My=0.
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BPg)
call RemoveRect(Rx)
call RemoveRect(Tt)
call RemoveLocation(QE)
call EnableTrigger(GetTriggeringTrigger())
call EnableTrigger(YN)
endfunction
function BPi takes nothing returns nothing
set YH=CreateTrigger()
call DisableTrigger(YH)
call TriggerRegisterAnyUnitEventBJ(YH,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(YH,Condition(function BPe))
call TriggerAddAction(YH,function BPh)
endfunction
function BPj takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=90.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
call IssuePointOrderLoc(RH,"healingward",QE)
call RemoveLocation(QE)
endfunction
function BPl takes nothing returns nothing
set YK=CreateTrigger()
call DisableTrigger(YK)
call TriggerRegisterAnyUnitEventBJ(YK,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YK,Condition(function BPj))
call TriggerAddAction(YK,function BPk)
endfunction
function BPm takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303034) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bK=GetTriggerUnit()
call SetUnitAnimation(GetTriggerUnit(),"stand")
call StartTimerBJ(NP,false,1.)
endfunction
function BPo takes nothing returns nothing
set YL=CreateTrigger()
call DisableTrigger(YL)
call TriggerRegisterEnterRectSimple(YL,GetPlayableMapRect())
call TriggerAddCondition(YL,Condition(function BPm))
call TriggerAddAction(YL,function BPn)
endfunction
function BPp takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPq takes nothing returns boolean
if not (IsUnitAliveBJ(bK)==true) then
return false
endif
return true
endfunction
function BPr takes nothing returns nothing
if BPq() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetUnitLoc(GroupPickRandomUnit(Ir))
call CreateNUnitsAtLoc(1,$68303530,Player(11),bc[GetForLoopIndexA()],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StartTimerBJ(NP,false,1.)
else
call EnableTrigger(YL)
call EnableTrigger(YK)
endif
endfunction
function BPs takes nothing returns nothing
set YJ=CreateTrigger()
call DisableTrigger(YJ)
call TriggerRegisterTimerExpireEventBJ(YJ,NP)
call TriggerAddCondition(YJ,Condition(function BPp))
call TriggerAddAction(YJ,function BPr)
endfunction
function BPt takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetRandomInt(1,25)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BPu takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPv takes nothing returns boolean
if not (GetUnitStateSwap(UNIT_STATE_MANA,RH)>=100.) then
return false
endif
return true
endfunction
function BPw takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BPx takes nothing returns boolean
if not (GetUnitLifePercent(RH)<=20.) then
return false
endif
return true
endfunction
function BPy takes nothing returns nothing
if BPx() then
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
set QE=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$68303533,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set Tv=GetLastCreatedUnit()
call RemoveLocation(QE)
call SetUnitFacingToFaceUnitTimed(RH,Tv,1.)
call TriggerSleepAction(8.)
if BPw() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
else
if BPv() then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitManaBJ(RH,GetUnitStateSwap(UNIT_STATE_MANA,RH)-100.)
call PauseUnitBJ(true,RH)
set QE=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$68303533,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set Tv=GetLastCreatedUnit()
call RemoveLocation(QE)
call SetUnitFacingToFaceUnitTimed(RH,Tv,1.)
call TriggerSleepAction(20.)
if BPu() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
else
endif
endif
endfunction
function BPz takes nothing returns nothing
set YN=CreateTrigger()
call DisableTrigger(YN)
call TriggerRegisterAnyUnitEventBJ(YN,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YN,Condition(function BPt))
call TriggerAddAction(YN,function BPy)
endfunction
function BP0 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303533) then
return false
endif
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BP1 takes nothing returns nothing
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetTriggerUnit())
call SetUnitAnimation(RH,"attack")
call TriggerSleepAction(.5)
call CreateNUnitsAtLoc(1,$68303531,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveUnit(GetTriggerUnit())
call PauseUnitBJ(false,RH)
endfunction
function BP2 takes nothing returns nothing
set YM=CreateTrigger()
call DisableTrigger(YM)
call TriggerRegisterAnyUnitEventBJ(YM,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YM,Condition(function BP0))
call TriggerAddAction(YM,function BP1)
endfunction
function BP3 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=10.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BP4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundOnUnitBJ(R,100,GetTriggerUnit())
set QE=GetUnitLoc(RH)
set QI=GetRectCenter(DK)
call SetUnitPositionLoc(RH,QI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call EnableTrigger(YO)
call StartTimerBJ(NS,false,1.)
call RemoveLocation(QE)
call RemoveLocation(QI)
endfunction
function BP5 takes nothing returns nothing
set YP=CreateTrigger()
call DisableTrigger(YP)
call TriggerRegisterAnyUnitEventBJ(YP,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YP,Condition(function BP3))
call TriggerAddAction(YP,function BP4)
endfunction
function BP6 takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303148) then
return false
endif
return true
endfunction
function BP7 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BP8 takes nothing returns nothing
if BP7() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(EM)
call CreateNUnitsAtLoc(1,$68303459,Player(10),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StartTimerBJ(NS,false,1.)
else
endif
endfunction
function BP9 takes nothing returns nothing
set YO=CreateTrigger()
call DisableTrigger(YO)
call TriggerRegisterTimerExpireEventBJ(YO,NS)
call TriggerAddCondition(YO,Condition(function BP6))
call TriggerAddAction(YO,function BP8)
endfunction
function BQB takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303148) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function BQC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$4930344F
set V6[2]=$4930344E
set V6[3]=$4930344D
set V6[4]=$4930344C
set V6[5]=$4930344B
set MF=5
call ConditionalTriggerExecute(V3)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BQD takes nothing returns nothing
set bd=CreateTrigger()
call DisableTrigger(bd)
call TriggerRegisterAnyUnitEventBJ(bd,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bd,Condition(function BQB))
call TriggerAddAction(bd,function BQC)
endfunction
function BQE takes nothing returns nothing
set bF=$6E30314F
call TriggerSleepAction(5.)
call PlaySoundBJ(W)
call TriggerSleepAction(5.)
call PlaySoundBJ(X)
call CreateItemLoc($49303554,GetRectCenter(EQ))
call StartTimerBJ(Kb,false,90.)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"Побег! Теперь вы можете наконец выбраться из пещеры с огромным мешком золота! Нужно только забрать его на том самом месте, где вы зашли в пещеру.")
set J2=Wy
call EnableTrigger(be)
call EnableTrigger(bf)
endfunction
function BQF takes nothing returns nothing
set Wn=CreateTrigger()
call TriggerAddAction(Wn,function BQE)
endfunction
function BQG takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303554) then
return false
endif
return true
endfunction
function BQH takes nothing returns boolean
return true
endfunction
function BQI takes nothing returns nothing
if BQH() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(EQ))
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BQJ takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$6830314F) then
return false
endif
return true
endfunction
function BQK takes nothing returns nothing
if BQJ() then
call KillUnit(GetEnumUnit())
else
endif
endfunction
function BQL takes nothing returns nothing
set K1=true
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(bf)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Gu)
call ModifyGateBJ(bj_GATEOPERATION_CLOSE,Gw)
call SetDestructableLifePercentBJ(Gu,100)
call SetDestructableLifePercentBJ(Gv,100)
call SetDestructableLifePercentBJ(Gw,100)
call PlaySoundBJ(X)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"Хихихи! Глупые гоблины, наивные как дети, вы правда думали что я дам вам просто так уйти? Я отомщу вам за мою сестру Похоть! ",bj_TIMETYPE_SET,12.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"Но... Но она сама напала! И на ней были такиииииииие красивые побрякушки... ОНИ ВСЕ МОИ!",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"Как-же легко вы, смертные, поддаётесь нашим чарам... Похоть научилась всему, что умела я, она училась у меня совращению смертных душ... ",bj_TIMETYPE_SET,6.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"Но я!..",bj_TIMETYPE_SET,2.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"Умею!..",bj_TIMETYPE_SET,2.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"БОЛЬШЕ, ЧЕМ ОНА!!!",bj_TIMETYPE_SET,4.,true)
call CreateNUnitsAtLoc(1,$6E30314F,Player(11),GetRectCenter(EQ),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314453
call EnableTrigger(YQ)
call EnableTrigger(YR)
call EnableTrigger(YS)
call EnableTrigger(YT)
call EnableTrigger(YU)
call EnableTrigger(YV)
call EnableTrigger(YW)
call EnableTrigger(YX)
call EnableTrigger(YY)
call EnableTrigger(YZ)
call EnableTrigger(Ya)
call EnableTrigger(Yb)
call EnableTrigger(Yc)
call EnableTrigger(Yd)
call EnableTrigger(Ye)
call EnableTrigger(Yf)
call EnableTrigger(bg)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call AddSpecialEffectLocBJ(GetRectCenter(EQ),"Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(Ir,function BQI)
call ForGroupBJ(GetUnitsInRectAll(DU),function BQK)
call TriggerSleepAction(90.)
call SetDestructableLifePercentBJ(Gu,0.)
call SetDestructableLifePercentBJ(Gv,0.)
call SetDestructableLifePercentBJ(Gw,0.)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Gu)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Gv)
call ModifyGateBJ(bj_GATEOPERATION_OPEN,Gw)
endfunction
function BQM takes nothing returns nothing
set be=CreateTrigger()
call DisableTrigger(be)
call TriggerRegisterAnyUnitEventBJ(be,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerRegisterAnyUnitEventBJ(be,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(be,Condition(function BQG))
call TriggerAddAction(be,function BQL)
endfunction
function BQN takes nothing returns boolean
return GetItemTypeId(GetFilterItem())==$49303554
endfunction
function BQO takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())!=$6830314F) then
return false
endif
return true
endfunction
function BQP takes nothing returns nothing
if BQO() then
call KillUnit(GetEnumUnit())
else
endif
endfunction
function BQQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set K1=true
call DisableTrigger(be)
call RemoveItem(RandomItemInRectBJ(EQ,Condition(function BQN)))
call PlaySoundBJ(X)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E30314F,"Алчность",GetRectCenter(GetEntireMapRect()),null,"Да как вы посмели проигнорировать моё щедрое предложение?! Я предлагала вам уйти, но вы отказались. Теперь вы умрёте!",bj_TIMETYPE_SET,12.,true)
call CreateNUnitsAtLoc(1,$6E30314F,Player(11),GetRectCenter(EQ),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314453
call EnableTrigger(YQ)
call EnableTrigger(YR)
call EnableTrigger(YS)
call EnableTrigger(YT)
call EnableTrigger(YU)
call EnableTrigger(YV)
call EnableTrigger(YW)
call EnableTrigger(YX)
call EnableTrigger(YY)
call EnableTrigger(YZ)
call EnableTrigger(Ya)
call EnableTrigger(Yb)
call EnableTrigger(Yc)
call EnableTrigger(Yd)
call EnableTrigger(Ye)
call EnableTrigger(Yf)
call EnableTrigger(bg)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call AddSpecialEffectLocBJ(GetRectCenter(EQ),"Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(GetUnitsInRectAll(DU),function BQP)
endfunction
function BQR takes nothing returns nothing
set bf=CreateTrigger()
call DisableTrigger(bf)
call TriggerRegisterTimerExpireEventBJ(bf,Kb)
call TriggerAddAction(bf,function BQQ)
endfunction
function BQS takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BQT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set NR=0
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$68303535,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endfunction
function BQU takes nothing returns nothing
set YR=CreateTrigger()
call DisableTrigger(YR)
call TriggerRegisterAnyUnitEventBJ(YR,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YR,Condition(function BQS))
call TriggerAddAction(YR,function BQT)
endfunction
function BQV takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303535) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQW takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQX takes nothing returns boolean
if not (NR<=5) then
return false
endif
return true
endfunction
function BQY takes nothing returns nothing
if BQX() then
call GroupAddGroup(Ir,NM)
call GroupRemoveUnitSimple(W7[1],NM)
set W7[1]=GroupPickRandomUnit(NM)
set NR=NR+1
set QE=GetUnitLoc(GetTriggerUnit())
set QI=GetUnitLoc(W7[1])
call CreateNUnitsAtLoc(1,$68303534,Player(11),QE,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call PlaySoundAtPointBJ(Bn,100,QE,0)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
else
call TriggerSleepAction(15.)
if BQW() then
call EnableTrigger(YR)
else
endif
endif
endfunction
function BQZ takes nothing returns nothing
set YQ=CreateTrigger()
call DisableTrigger(YQ)
call TriggerRegisterEnterRectSimple(YQ,GetPlayableMapRect())
call TriggerAddCondition(YQ,Condition(function BQV))
call TriggerAddAction(YQ,function BQY)
endfunction
function BQa takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BQb takes nothing returns boolean
if not (CountUnitsInGroup(Ir)>1) then
return false
endif
return true
endfunction
function BQc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if BQb() then
call StartTimerBJ(NH,false,2.)
else
endif
endfunction
function BQd takes nothing returns nothing
set YT=CreateTrigger()
call DisableTrigger(YT)
call TriggerRegisterAnyUnitEventBJ(YT,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YT,Condition(function BQa))
call TriggerAddAction(YT,function BQc)
endfunction
function BQe takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQf takes nothing returns boolean
if not (IsUnitAliveBJ(Tv)==true) then
return false
endif
return true
endfunction
function BQg takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)<GetPlayerState(GetOwningPlayer(Tv),PLAYER_STATE_RESOURCE_GOLD)) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BQh takes nothing returns nothing
if BQg() then
set Tv=GetEnumUnit()
else
if BQf() then
else
set Tv=GetEnumUnit()
endif
endif
endfunction
function BQi takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BQj takes nothing returns nothing
set Tv=GroupPickRandomUnit(Ir)
call ForGroupBJ(Ir,function BQh)
set QE=GetUnitLoc(Tv)
call CreateNUnitsAtLoc(1,$6530304C,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41314455,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"unholyfrenzy",Tv)
call RemoveLocation(QE)
if BQi() then
call StartTimerBJ(NH,false,2.)
else
endif
endfunction
function BQk takes nothing returns nothing
set YS=CreateTrigger()
call DisableTrigger(YS)
call TriggerRegisterTimerExpireEventBJ(YS,NH)
call TriggerAddCondition(YS,Condition(function BQe))
call TriggerAddAction(YS,function BQj)
endfunction
function BQl takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BQm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundBJ(Bp)
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
call RemoveLocation(QE)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(Rx)
set Tq=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303537,Player(11),QI,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",Tq)
call GroupAddUnitSimple(GetLastCreatedUnit(),NO)
call RemoveLocation(QI)
call RemoveLocation(Tq)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set QI=GetRandomLocInRect(Rx)
set Tq=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303536,Player(11),QI,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"patrol",Tq)
call GroupAddUnitSimple(GetLastCreatedUnit(),NO)
call RemoveLocation(QI)
call RemoveLocation(Tq)
call RemoveLocation(QE)
call RemoveRect(Rx)
call StartTimerBJ(NN,false,10.)
endfunction
function BQn takes nothing returns nothing
set YW=CreateTrigger()
call DisableTrigger(YW)
call TriggerRegisterAnyUnitEventBJ(YW,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YW,Condition(function BQl))
call TriggerAddAction(YW,function BQm)
endfunction
function BQo takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQp takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())==$68303536) then
return false
endif
return true
endfunction
function BQq takes nothing returns nothing
if BQp() then
call KillUnit(GetEnumUnit())
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+40.)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
call KillUnit(GetEnumUnit())
endif
endfunction
function BQr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(YV)
call ForGroupBJ(NO,function BQq)
endfunction
function BQs takes nothing returns nothing
set YU=CreateTrigger()
call DisableTrigger(YU)
call TriggerRegisterTimerExpireEventBJ(YU,NN)
call TriggerAddCondition(YU,Condition(function BQo))
call TriggerAddAction(YU,function BQr)
endfunction
function BQt takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303537) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQu takes nothing returns nothing
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+7.)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnitBJ(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetKillingUnitBJ()),PLAYER_STATE_RESOURCE_GOLD)
call fO(RH,GetTriggerUnit(),1)
endfunction
function BQv takes nothing returns nothing
set YV=CreateTrigger()
call DisableTrigger(YV)
call TriggerRegisterAnyUnitEventBJ(YV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(YV,Condition(function BQt))
call TriggerAddAction(YV,function BQu)
endfunction
function BQw takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=10.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BQx takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6530304E,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetAttacker())
call RemoveLocation(QE)
call TriggerSleepAction(10.)
if BQx() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BQz takes nothing returns nothing
set YX=CreateTrigger()
call DisableTrigger(YX)
call TriggerRegisterAnyUnitEventBJ(YX,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YX,Condition(function BQw))
call TriggerAddAction(YX,function BQy)
endfunction
function BQ0 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BQ1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StartTimerBJ(NP,false,10.)
endfunction
function BQ2 takes nothing returns nothing
set YZ=CreateTrigger()
call DisableTrigger(YZ)
call TriggerRegisterAnyUnitEventBJ(YZ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(YZ,Condition(function BQ0))
call TriggerAddAction(YZ,function BQ1)
endfunction
function BQ3 takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BQ4 takes nothing returns boolean
if not (IsUnitAliveBJ(Tv)==true) then
return false
endif
return true
endfunction
function BQ5 takes nothing returns boolean
if not (GetPlayerState(GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)>GetPlayerState(GetOwningPlayer(Tv),PLAYER_STATE_RESOURCE_GOLD)) then
return false
endif
return true
endfunction
function BQ6 takes nothing returns nothing
if BQ5() then
set Tv=GetEnumUnit()
else
if BQ4() then
else
set Tv=GetEnumUnit()
endif
endif
endfunction
function BQ7 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BQ8 takes nothing returns nothing
set Tv=GroupPickRandomUnit(Ir)
call ForGroupBJ(Ir,function BQ6)
set QE=GetUnitLoc(Tv)
set NR=GetPlayerState(GetOwningPlayer(Tv),PLAYER_STATE_RESOURCE_GOLD)/10
call fB(RH,GetTriggerUnit(),NR)
call fO(RH,Tv,4)
call RemoveLocation(QE)
if BQ7() then
call StartTimerBJ(NP,false,10.)
else
endif
endfunction
function BQ9 takes nothing returns nothing
set YY=CreateTrigger()
call DisableTrigger(YY)
call TriggerRegisterTimerExpireEventBJ(YY,NP)
call TriggerAddCondition(YY,Condition(function BQ3))
call TriggerAddAction(YY,function BQ8)
endfunction
function BRB takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BRC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41314456
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
set NL=1
endfunction
function BRD takes nothing returns nothing
set Ya=CreateTrigger()
call DisableTrigger(Ya)
call TriggerRegisterAnyUnitEventBJ(Ya,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Ya,Condition(function BRB))
call TriggerAddAction(Ya,function BRC)
endfunction
function BRE takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BRF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41314457,RH)
endfunction
function BRG takes nothing returns nothing
set Ye=CreateTrigger()
call DisableTrigger(Ye)
call TriggerRegisterAnyUnitEventBJ(Ye,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Ye,Condition(function BRE))
call TriggerAddAction(Ye,function BRF)
endfunction
function BRH takes nothing returns boolean
if not (GetSpellAbilityId()==$41314457) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BRI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitRemoveAbilityBJ(GetSpellAbilityId(),RH)
call PauseUnitBJ(true,RH)
call SetUnitInvulnerable(RH,true)
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6E30354A,Player(11),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Objects\\Spawnmodels\\Undead\\UCancelDeath\\UCancelDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set XB[11]=GetLastCreatedUnit()
call TriggerSleepAction(2)
call PlaySoundBJ(Bq)
call PauseUnitBJ(false,RH)
call SetUnitInvulnerable(RH,false)
set QI=GetRectCenter(WL[GetRandomInt(1,8)])
set bh[1]=RectFromCenterSizeBJ(QI,300.,300.)
call TriggerRegisterEnterRectSimple(Yd,bh[1])
call CreateNUnitsAtLoc(1,$75303050,Player(11),QI,bj_UNIT_FACING)
set XB[12]=GetLastCreatedUnit()
set W7[1]=GroupPickRandomUnit(Ir)
call SetUnitPositionLoc(W7[1],QI)
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call PanCameraToTimedLocForPlayer(GetOwningPlayer(W7[1]),QI,1.)
call RemoveLocation(QI)
call StartTimerBJ(NS,true,1.)
call KillDestructable(Gu)
call KillDestructable(Gw)
call KillDestructable(Gv)
endfunction
function BRJ takes nothing returns nothing
set Yb=CreateTrigger()
call DisableTrigger(Yb)
call TriggerRegisterAnyUnitEventBJ(Yb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Yb,Condition(function BRH))
call TriggerAddAction(Yb,function BRI)
endfunction
function BRK takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BRL takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)>=300.) then
return false
endif
return true
endfunction
function BRM takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (IsUnitAliveBJ(W7[1])==true) then
return false
endif
return true
endfunction
function BRN takes nothing returns nothing
if BRM() then
set QE=GetUnitLoc(XB[12])
set QI=GetUnitLoc(W7[1])
if BRL() then
call SetUnitPositionLoc(W7[1],QE)
call AddSpecialEffectTargetUnitBJ("origin",W7[1],"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call RemoveLocation(QI)
call RemoveLocation(QE)
set NR=R2I(GetUnitStateSwap(UNIT_STATE_LIFE,W7[1]))/50
call fB(RH,W7[1],NR)
call AdjustPlayerStateBJ(100,GetOwningPlayer(W7[1]),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(GetPlayerState(GetOwningPlayer(W7[1]),PLAYER_STATE_RESOURCE_GOLD)/100,GetOwningPlayer(W7[1]),PLAYER_STATE_RESOURCE_GOLD)
call AddSpecialEffectTargetUnitBJ("origin",W7[1],"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
call DisableTrigger(GetTriggeringTrigger())
call PauseTimerBJ(true,NS)
endif
endfunction
function BRO takes nothing returns nothing
set Yf=CreateTrigger()
call DisableTrigger(Yf)
call TriggerRegisterTimerExpireEventBJ(Yf,NS)
call TriggerAddCondition(Yf,Condition(function BRK))
call TriggerAddAction(Yf,function BRN)
endfunction
function BRP takes nothing returns boolean
if not (GetTriggerUnit()==XB[11]) then
return false
endif
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BRQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49303654,QE)
call RemoveLocation(QE)
endfunction
function BRR takes nothing returns nothing
set Yc=CreateTrigger()
call DisableTrigger(Yc)
call TriggerRegisterAnyUnitEventBJ(Yc,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Yc,Condition(function BRP))
call TriggerAddAction(Yc,function BRQ)
endfunction
function BRS takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303654)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30314F) then
return false
endif
return true
endfunction
function BRT takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303654))
call DisableTrigger(Yf)
call PauseTimerBJ(true,NS)
call KillUnit(XB[12])
call AddSpecialEffectTargetUnitBJ("origin",W7[1],"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BRU takes nothing returns nothing
set Yd=CreateTrigger()
call DisableTrigger(Yd)
call TriggerAddCondition(Yd,Condition(function BRS))
call TriggerAddAction(Yd,function BRT)
endfunction
function BRV takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30314F) then
return false
endif
return true
endfunction
function BRW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49303833
set V6[2]=$49303832
set V6[3]=$49303834
set V6[4]=$49303835
set V6[5]=$49303836
set MF=5
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function BRX takes nothing returns nothing
set bg=CreateTrigger()
call DisableTrigger(bg)
call TriggerRegisterAnyUnitEventBJ(bg,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bg,Condition(function BRV))
call TriggerAddAction(bg,function BRW)
endfunction
function BRY takes nothing returns nothing
set On=true
set WQ=GroupPickRandomUnit(Ir)
set SR=GroupPickRandomUnit(Ir)
set J0=0
set Lv[36]=135
call PlaySoundBJ(M)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 36")
call EnableTrigger(bi)
call PolledWait(5.)
call EnableTrigger(bj)
endfunction
function BRZ takes nothing returns nothing
set Wy=CreateTrigger()
call TriggerAddAction(Wy,function BRY)
endfunction
function BRa takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$68303156) then
return false
endif
if not (GetUnitTypeId(GetEnumUnit())==$68303155) then
return false
endif
return true
endfunction
function BRb takes nothing returns nothing
if BRa() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function BRc takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),5.)
endfunction
function BRd takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),15.)
endfunction
function BRe takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),30.)
endfunction
function BRf takes nothing returns nothing
call ResetToGameCameraForPlayer(GetEnumPlayer(),0)
call CameraClearNoiseForPlayer(GetEnumPlayer())
call CameraSetupApplyForPlayer(true,Gi,GetEnumPlayer(),0)
endfunction
function BRg takes nothing returns nothing
call IssueImmediateOrder(GetEnumUnit(),"stop")
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(Ff))
call SetUnitAnimation(GetEnumUnit(),"death")
endfunction
function BRh takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$68303144) then
return false
endif
return true
endfunction
function BRi takes nothing returns nothing
if BRh() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function BRj takes nothing returns nothing
call ResetToGameCameraForPlayer(GetEnumPlayer(),0)
call CameraClearNoiseForPlayer(GetEnumPlayer())
call CameraSetupApplyForPlayer(true,Gj,GetEnumPlayer(),2.)
endfunction
function BRk takes nothing returns boolean
if not (J0>=Lv[36]) then
return false
endif
return true
endfunction
function BRl takes nothing returns nothing
if BRk() then
call SetUnitInvulnerable(WN,true)
call SetUnitInvulnerable(WO,true)
call DisableTrigger(bj)
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(GetUnitsInRectAll(GetEntireMapRect()),function BRb)
set SR=GroupPickRandomUnit(Ir)
set WQ=GroupPickRandomUnit(Ir)
call ForForce(GetPlayersAll(),function BRc)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),GetUnitName(SR),null,"АААААА!!! Пещера рушится!!!",bj_TIMETYPE_SET,3.,false)
call PolledWait(2.)
call ForForce(GetPlayersAll(),function BRd)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),GetUnitName(WQ),null,"НЕЕЕЕЕТ!..",bj_TIMETYPE_SET,3.,false)
call PolledWait(2.)
call ForForce(GetPlayersAll(),function BRe)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),GetUnitName(SR),null,"ВИИИИИИИИ!!!..............",bj_TIMETYPE_SET,3.,false)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUT,3.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
call PolledWait(3.)
call SetUserControlForceOff(GetPlayersAll())
call ShowInterfaceForceOff(GetPlayersAll(),2)
call CinematicModeBJ(true,GetPlayersAll())
call TriggerSleepAction(2)
call ForForce(GetPlayersAll(),function BRf)
call ForGroupBJ(Ir,function BRg)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEIN,10.,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
call TriggerSleepAction(10.)
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function BRi)
call ClearTextMessagesBJ(GetPlayersAll())
call CinematicModeBJ(false,GetPlayersAll())
call SetUserControlForceOn(GetPlayersAll())
call ShowInterfaceForceOn(GetPlayersAll(),2.)
call DisplayCineFilterBJ(false)
set On=false
call ForForce(GetPlayersAll(),function BRj)
call CameraResetSmoothingFactorBJ()
call SetTerrainTypeBJ(GetRectCenter(Ci),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Ck),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cl),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cm),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cn),$446C7663,-1,5,0)
call SetTerrainTypeBJ(GetRectCenter(Cj),$446C7663,-1,5,0)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Ci),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Ck),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cl),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cm),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cn),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303158,Player(11),GetRectCenter(Cj),bj_UNIT_FACING)
call ConditionalTriggerExecute(WS)
else
endif
endfunction
function BRm takes nothing returns nothing
set bi=CreateTrigger()
call TriggerAddAction(bi,function BRl)
endfunction
function BRn takes nothing returns nothing
local timer Hu=GetExpiredTimer()
local unit HD=LoadUnitHandle(bl,GetHandleId(Hu),1)
local unit bk
local location Tb
call SetUnitFlyHeight(HD,GetUnitFlyHeight(HD)-30,0)
if GetUnitFlyHeight(HD)<=30 then
set bk=LoadUnitHandle(bl,GetHandleId(Hu),2)
set Tb=GetUnitLoc(HD)
call RemoveUnit(bk)
set bk=null
call fE(HD,Tb,200,0,"Abilities\\Weapons\\FragDriller\\FragDriller.mdl")
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(HD),GetUnitY(HD)))
call RemoveUnit(HD)
call FlushChildHashtable(bl,GetHandleId(Hu))
call DestroyTimer(Hu)
endif
set Hu=null
set HD=null
endfunction
function BRo takes real VR,real VS returns nothing
local timer Hu=CreateTimer()
local unit HD=CreateUnit(Player(11),$68303156,VR,VS,0)
local unit bk=CreateUnit(Player(11),$68303155,VR,VS,0)
call UnitAddAbility(HD,$41726176)
call SetUnitFlyHeight(HD,1800,0)
call SaveUnitHandle(bl,GetHandleId(Hu),1,HD)
call SaveUnitHandle(bl,GetHandleId(Hu),2,bk)
set HD=null
call TimerStart(Hu,.05,true,function BRn)
set Hu=null
endfunction
function BRp takes nothing returns nothing
local integer Si=1
local integer Sj=CountUnitsInGroup(Ir)
loop
exitwhen Si>Sj
call BRo(GetUnitX(GroupPickRandomUnit(Ir))+GetRandomReal(-500,500),GetUnitY(GroupPickRandomUnit(Ir))+GetRandomReal(-500,500))
call BRo(GetUnitX(GroupPickRandomUnit(Ir))+GetRandomReal(-500,500),GetUnitY(GroupPickRandomUnit(Ir))+GetRandomReal(-500,500))
set Si=Si+1
endloop
set J0=J0+1
call BRl()
endfunction
function BRq takes nothing returns nothing
set bj=CreateTrigger()
call DisableTrigger(bj)
call TriggerRegisterTimerEventPeriodic(bj,1.33)
call TriggerAddAction(bj,function BRp)
endfunction
function BRr takes nothing returns nothing
set bm=bF
set bF=$6E303151
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bn)
call DisableTrigger(bn)
endfunction
function BRs takes nothing returns nothing
set Wo=CreateTrigger()
call TriggerAddAction(Wo,function BRr)
endfunction
function BRt takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BRu takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BRv takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BRw takes nothing returns nothing
set K1=true
if BRv() then
set QE=GetRandomLocInRect(CJ)
else
if BRu() then
set QE=GetRandomLocInRect(GI)
else
if BRt() then
set QE=GetRandomLocInRect(CF)
else
set QE=GetRandomLocInRect(GX)
endif
endif
endif
call CreateNUnitsAtLoc(1,$6830315A,Player(10),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303230,Player(10),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303231,Player(10),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303232,Player(10),QE,bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,bF,Player(10),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
set RH=GetLastCreatedUnit()
call UnitAddAbilityBJ($41303854,GetLastCreatedUnit())
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314459
set bH[5]=$41314533
set bH[6]=$41303852
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(Yg)
call EnableTrigger(Yh)
call EnableTrigger(Yi)
call EnableTrigger(Yj)
call EnableTrigger(Yk)
call EnableTrigger(Yl)
call EnableTrigger(Yn)
call EnableTrigger(Yo)
call EnableTrigger(Ym)
call EnableTrigger(Yp)
call EnableTrigger(Yq)
call EnableTrigger(Yr)
call EnableTrigger(Yt)
call EnableTrigger(Yv)
call EnableTrigger(bo)
call EnableTrigger(bp)
endfunction
function BRx takes nothing returns nothing
set bn=CreateTrigger()
call DisableTrigger(bn)
call TriggerAddAction(bn,function BRw)
endfunction
function BRy takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6830315A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303230 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303231 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$68303232 then
return true
endif
return false
endfunction
function BRz takes nothing returns boolean
if not BRy() then
return false
endif
return true
endfunction
function BR0 takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BR1 takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BR2 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830315A) then
return false
endif
return true
endfunction
function BR3 takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BR4 takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BR5 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303230) then
return false
endif
return true
endfunction
function BR6 takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BR7 takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BR8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303231) then
return false
endif
return true
endfunction
function BR9 takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BSB takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BSC takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303232) then
return false
endif
return true
endfunction
function BSD takes nothing returns nothing
if BR2() then
call CreateNUnitsAtLoc(1,$68303143,Player(11),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set Ix=GetRandomInt(1,3)
set QE=GetUnitLoc(GetTriggerUnit())
if BR1() then
call CreateItemLoc($49303838,QE)
else
if BR0() then
call CreateItemLoc($49303841,QE)
else
call CreateItemLoc($49303842,QE)
endif
endif
call RemoveLocation(QE)
else
endif
if BR5() then
set Ix=GetRandomInt(1,3)
set QE=GetUnitLoc(GetTriggerUnit())
if BR4() then
call CreateItemLoc($49303838,QE)
else
if BR3() then
call CreateItemLoc($49303839,QE)
else
call CreateItemLoc($49303843,QE)
endif
endif
call RemoveLocation(QE)
else
endif
if BR8() then
set Ix=GetRandomInt(1,3)
set QE=GetUnitLoc(GetTriggerUnit())
if BR7() then
call CreateItemLoc($49303838,QE)
else
if BR6() then
call CreateItemLoc($49303844,QE)
else
call CreateItemLoc($49303845,QE)
endif
endif
call RemoveLocation(QE)
else
endif
if BSC() then
set Ix=GetRandomInt(1,3)
set QE=GetUnitLoc(GetTriggerUnit())
if BSB() then
call CreateItemLoc($49303838,QE)
else
if BR9() then
call CreateItemLoc($49303846,QE)
else
call CreateItemLoc($49303847,QE)
endif
endif
call RemoveLocation(QE)
else
endif
endfunction
function BSE takes nothing returns nothing
set bp=CreateTrigger()
call DisableTrigger(bp)
call TriggerRegisterAnyUnitEventBJ(bp,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bp,Condition(function BRz))
call TriggerAddAction(bp,function BSD)
endfunction
function BSF takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSG takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BSH takes nothing returns nothing
if BSG() then
call SetUnitPositionLoc(GetEnumUnit(),QE)
call fB(RH,GetEnumUnit(),0)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BSI takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RH)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RH)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RH)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BSH)
call RemoveLocation(QE)
call RemoveRect(Rx)
call TriggerSleepAction(60.)
if BSI() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BSK takes nothing returns nothing
set Yg=CreateTrigger()
call DisableTrigger(Yg)
call TriggerRegisterAnyUnitEventBJ(Yg,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yg,Condition(function BSF))
call TriggerAddAction(Yg,function BSJ)
endfunction
function BSL takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSM takes nothing returns boolean
if not (GetUnitLifePercent(RH)<=100.-5.*I2R(GetForLoopIndexA())) then
return false
endif
if not (NL<GetForLoopIndexA()) then
return false
endif
return true
endfunction
function BSN takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=19
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BSM() then
set NL=GetForLoopIndexA()
call SetUnitVertexColorBJ(RH,100.-5.*I2R(GetForLoopIndexA()),100.-5.*I2R(GetForLoopIndexA()),100,3.5*I2R(GetForLoopIndexA()))
call AddSpecialEffectTargetUnitBJ("right,hand",RH,"Abilities\\Spells\\Items\\AIlb\\AIlbTarget.mdl")
call AddSpecialEffectTargetUnitBJ("left,hand",RH,"Abilities\\Spells\\Items\\AIlb\\AIlbTarget.mdl")
call SetUnitAbilityLevelSwapped(bH[4],RH,GetForLoopIndexA()+1)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BSO takes nothing returns nothing
set Yh=CreateTrigger()
call DisableTrigger(Yh)
call TriggerRegisterAnyUnitEventBJ(Yh,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yh,Condition(function BSL))
call TriggerAddAction(Yh,function BSN)
endfunction
function BSP takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$41314530
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
endfunction
function BSR takes nothing returns nothing
set Yj=CreateTrigger()
call DisableTrigger(Yj)
call TriggerRegisterAnyUnitEventBJ(Yj,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yj,Condition(function BSP))
call TriggerAddAction(Yj,function BSQ)
endfunction
function BSS takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303538) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BST takes nothing returns nothing
set XB[1]=GetTriggerUnit()
call StartTimerBJ(NH,false,5.)
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call IssuePointOrderLoc(XB[1],"move",QE)
call RemoveLocation(QE)
endfunction
function BSU takes nothing returns nothing
set Yk=CreateTrigger()
call DisableTrigger(Yk)
call TriggerRegisterEnterRectSimple(Yk,GetPlayableMapRect())
call TriggerAddCondition(Yk,Condition(function BSS))
call TriggerAddAction(Yk,function BST)
endfunction
function BSV takes nothing returns boolean
if not (IsUnitAliveBJ(XB[1])==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSW takes nothing returns nothing
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call IssuePointOrderLoc(XB[1],"move",QE)
call RemoveRect(Rx)
call UnitAddAbilityBJ($4131445A,XB[1])
call StartTimerBJ(NH,false,5.)
call EnableTrigger(Ym)
endfunction
function BSX takes nothing returns nothing
set Yi=CreateTrigger()
call DisableTrigger(Yi)
call TriggerRegisterTimerExpireEventBJ(Yi,NH)
call TriggerAddCondition(Yi,Condition(function BSV))
call TriggerAddAction(Yi,function BSW)
endfunction
function BSY takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=100.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSZ takes nothing returns nothing
call IssueImmediateOrder(RH,"spiritwolf")
endfunction
function BSa takes nothing returns nothing
set Yl=CreateTrigger()
call DisableTrigger(Yl)
call TriggerRegisterAnyUnitEventBJ(Yl,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yl,Condition(function BSY))
call TriggerAddAction(Yl,function BSZ)
endfunction
function BSb takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$41314532
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
endfunction
function BSd takes nothing returns nothing
set Yn=CreateTrigger()
call DisableTrigger(Yn)
call TriggerRegisterAnyUnitEventBJ(Yn,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yn,Condition(function BSb))
call TriggerAddAction(Yn,function BSc)
endfunction
function BSe takes nothing returns boolean
if not (GetSpellAbilityId()==$41314532) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSf takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BSg takes nothing returns nothing
if BSf() then
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41314531,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"curse",GetEnumUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BSh takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,4000.,4000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BSg)
call RemoveLocation(QE)
call RemoveRect(Rx)
call StartTimerBJ(NJ[1],false,1.)
endfunction
function BSi takes nothing returns nothing
set Ym=CreateTrigger()
call DisableTrigger(Ym)
call TriggerRegisterAnyUnitEventBJ(Ym,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Ym,Condition(function BSe))
call TriggerAddAction(Ym,function BSh)
endfunction
function BSj takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$424F776B)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSk takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("Origin",RH,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+2.)
call StartTimerBJ(NJ[1],false,1.)
endfunction
function BSl takes nothing returns nothing
set Yo=CreateTrigger()
call DisableTrigger(Yo)
call TriggerRegisterTimerExpireEventBJ(Yo,NJ[1])
call TriggerAddCondition(Yo,Condition(function BSj))
call TriggerAddAction(Yo,function BSk)
endfunction
function BSm takes nothing returns boolean
if not (GetSpellAbilityId()==$41314533) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSn takes nothing returns nothing
set W7[1]=GetSpellTargetUnit()
call StartTimerBJ(NN,false,.5)
endfunction
function BSo takes nothing returns nothing
set Yp=CreateTrigger()
call DisableTrigger(Yp)
call TriggerRegisterAnyUnitEventBJ(Yp,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Yp,Condition(function BSm))
call TriggerAddAction(Yp,function BSn)
endfunction
function BSp takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSq takes nothing returns nothing
call IssueTargetOrder(RH,"lightningshield",GetAttacker())
endfunction
function BSr takes nothing returns nothing
set Yq=CreateTrigger()
call DisableTrigger(Yq)
call TriggerRegisterAnyUnitEventBJ(Yq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yq,Condition(function BSp))
call TriggerAddAction(Yq,function BSq)
endfunction
function BSs takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BSt takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (GetEnumUnit()!=W7[1]) then
return false
endif
return true
endfunction
function BSu takes nothing returns nothing
if BSt() then
call fC(RH,GetEnumUnit(),0)
call fO(RH,GetEnumUnit(),1)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BSv takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (UnitHasBuffBJ(W7[1],$4230354B)==true) then
return false
endif
return true
endfunction
function BSw takes nothing returns nothing
if BSv() then
set QE=GetUnitLoc(W7[1])
set Rx=RectFromCenterSizeBJ(QE,800.,800.)
set QI=GetRandomLocInRect(Rx)
set Tt=RectFromCenterSizeBJ(QI,300.,300.)
call AddLightningLoc("CLPB",QE,QI)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,.5)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Tt),function BSu)
call RemoveLocation(QI)
call RemoveLocation(QE)
call RemoveRect(Rx)
call RemoveRect(Tt)
call StartTimerBJ(NN,false,.5)
else
call UnitRemoveBuffBJ($4230354B,W7[1])
endif
endfunction
function BSx takes nothing returns nothing
set Yr=CreateTrigger()
call DisableTrigger(Yr)
call TriggerRegisterTimerExpireEventBJ(Yr,NN)
call TriggerAddCondition(Yr,Condition(function BSs))
call TriggerAddAction(Yr,function BSw)
endfunction
function BSy takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BSz takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[7]=$41314534
call UnitAddAbilityBJ(bH[7],RH)
call EnableTrigger(Ys)
endfunction
function BS0 takes nothing returns nothing
set Yt=CreateTrigger()
call DisableTrigger(Yt)
call TriggerRegisterAnyUnitEventBJ(Yt,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yt,Condition(function BSy))
call TriggerAddAction(Yt,function BSz)
endfunction
function BS1 takes nothing returns boolean
if not (GetSpellAbilityId()==$41314534) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BS2 takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BS3 takes nothing returns nothing
if BS2() then
set QI=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$6E30354B,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("overhead",GetLastCreatedUnit(),"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),0.,0.,100,50.)
call UnitApplyTimedLifeBJ(1.5,$42466967,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
else
endif
endfunction
function BS4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
call UnitRemoveAbilityBJ($41314534,RH)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call ShowUnitHide(RH)
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BS3)
call RemoveLocation(QE)
call RemoveRect(Rx)
call RemoveLocation(QI)
call TriggerSleepAction(2.)
call PauseUnitBJ(false,RH)
call ShowUnitShow(RH)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BS5 takes nothing returns nothing
set Ys=CreateTrigger()
call DisableTrigger(Ys)
call TriggerRegisterAnyUnitEventBJ(Ys,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Ys,Condition(function BS1))
call TriggerAddAction(Ys,function BS4)
endfunction
function BS6 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=10.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BS7 takes nothing returns boolean
if not (Iu>=50) then
return false
endif
return true
endfunction
function BS8 takes nothing returns nothing
if BS7() then
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
set bq=GetUnitLoc(RH)
call StartTimerBJ(NP,false,1.)
call EnableTrigger(Yu)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function BS9 takes nothing returns nothing
set Yv=CreateTrigger()
call DisableTrigger(Yv)
call TriggerRegisterAnyUnitEventBJ(Yv,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yv,Condition(function BS6))
call TriggerAddAction(Yv,function BS8)
endfunction
function BTB takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303151) then
return false
endif
return true
endfunction
function BTC takes nothing returns boolean
if not (DistanceBetweenPoints(bq,br)>=100.) then
return false
endif
return true
endfunction
function BTD takes nothing returns nothing
set br=GetUnitLoc(RH)
if BTC() then
set NR=R2I(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,RH))/200
call fH(RH,NR)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call RemoveLocation(bq)
call RemoveLocation(br)
set bq=GetUnitLoc(RH)
call StartTimerBJ(NP,false,1.)
endfunction
function BTE takes nothing returns nothing
set Yu=CreateTrigger()
call DisableTrigger(Yu)
call TriggerRegisterTimerExpireEventBJ(Yu,NP)
call TriggerAddCondition(Yu,Condition(function BTB))
call TriggerAddAction(Yu,function BTD)
endfunction
function BTF takes nothing returns boolean
if GetUnitLifePercent(GetTriggerUnit())<=7. then
return true
endif
if IsUnitDeadBJ(GetTriggerUnit())==true then
return true
endif
return false
endfunction
function BTG takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303151) then
return false
endif
if not BTF() then
return false
endif
return true
endfunction
function BTH takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetEnumPlayer())]==true) then
return false
endif
if not (OZ[GetForLoopIndexA()]==5) then
return false
endif
return true
endfunction
function BTI takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BTJ takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BTK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bM=GroupPickRandomUnit(Ir)
set V4=RH
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BTH() then
set OO=GetForLoopIndexA()
set OT[OO]=OT[OO]+1
call ff()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(NI,function BTI)
call PauseTimerBJ(true,NJ[1])
call PauseTimerBJ(true,NJ[2])
call PauseTimerBJ(true,NH)
call PauseTimerBJ(true,NN)
call PauseTimerBJ(true,NP)
call PauseTimerBJ(true,NS)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call KillUnit(XB[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitInvulnerable(GetTriggerUnit(),true)
call SetUnitOwner(GetTriggerUnit(),Player(PLAYER_NEUTRAL_PASSIVE),false)
call SetUnitLifeBJ(GetTriggerUnit(),50000.)
call IssueImmediateOrder(GetTriggerUnit(),"stop")
call TransmissionFromUnitWithNameBJ(Os,GetTriggerUnit(),"Хазул",null,"СТОООООП! Ох... Сдаюсь! Видать вы, парни, крепкие орешки... Уф...",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitWithNameBJ(Os,GroupPickRandomUnit(Ir),"Гоблин",null,"Пленных не браааааать! ВИИИИИИИ!",bj_TIMETYPE_SET,10.,false)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"Хазул рассказал свою историю в дневнике (проверьте задания).")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"История Хазула","Хазул был главным инженером в этих пещерах, и ему удалось овладеть магией молний в совершенстве. Он даже изобрел портально-временную кружку! И когда гномы столкнулись с демоническими отродьями, которые неизвестным путем попали в их пещеры - демон Страха временно свел его с ума и вынудил использовать временной скачок в будущее, чтобы сбежать. Будучи толковым инженером, его принял под своё крыло Шиззл Коп-Корп, и когда Хазул прознал про нашу экспедицию - натравил на нас Шиззла! Но сейчас он предложил нам свою помощь.","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call TriggerSleepAction(2.)
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$55746963,"???",GetRectCenter(GetPlayableMapRect()),null,"ХАЗУУУУУУУУУУУЛ!!! Я предупреждал тебя, что вернувшись, ты умрешь...  Умрешь от Страха. И вот ты снова тут. В этой пещере. Вновь смотришь в глаза своему Страху.",bj_TIMETYPE_SET,6.,true)
call TransmissionFromUnitWithNameBJ(Os,GetTriggerUnit(),"Хазул",null,"Нет... НЕТ! Я больше не боюсь тебя!!! Я... Я...",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitTypeWithNameBJ(Os,Player(11),$55746963,"???",GetRectCenter(GetPlayableMapRect()),null,"Хазул, твоя душа принадлежит мне! Даже сбежав во времени ты не смог избежать своей судьбы...",bj_TIMETYPE_SET,6.,true)
call SetUnitInvulnerable(GetTriggerUnit(),false)
call SetUnitTimeScalePercent(RH,20.)
call KillUnit(RH)
call AddSpecialEffectLocBJ(GetUnitLoc(RH),"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
set bs=GetLastCreatedEffectBJ()
call AddSpecialEffectLocBJ(GetUnitLoc(RH),"Abilities\\Spells\\Undead\\CarrionSwarm\\CarrionSwarmDamage.mdl")
set bt=GetLastCreatedEffectBJ()
call TriggerSleepAction(2.)
call DestroyEffect(bs)
call DestroyEffect(bt)
call ConditionalTriggerExecute(WS)
set bM=GroupPickRandomUnit(Ir)
if BTJ() then
set V4=RH
else
set V4=GroupPickRandomUnit(Ir)
endif
set V6[1]=$49303850
set V6[2]=$49303851
set V6[3]=$49303852
set MF=3
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function BTL takes nothing returns nothing
set bo=CreateTrigger()
call DisableTrigger(bo)
call TriggerRegisterAnyUnitEventBJ(bo,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerRegisterAnyUnitEventBJ(bo,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bo,Condition(function BTG))
call TriggerAddAction(bo,function BTK)
endfunction
function BTM takes nothing returns nothing
set bF=$6E303241
call TriggerSleepAction(5.)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 43")
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$55746963,"???",GetRectCenter(GetPlayableMapRect()),null,"Ну что-же, маленькие зеленые человечки... Вы одолели мою небольшую гвардию. Такую силу стоит уважать. Но сможете-ли вы одолеть мою элитную гвардию?..",bj_TIMETYPE_SET,10.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"...",null,"У меня одно слово \\\"Гвардия\\\" дрожь вызывает... Может не надо, а? Ребят, может хватит с нас? Может пойдем из пещеры пока живы?",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$55746963,"???",GetRectCenter(GetPlayableMapRect()),null,"А я не дам вам уйти, как не дал сбежать Хазулу. Я везде вас настигну...",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"...",null,"Ну вот... Я щас умру от страха, каска так и трясется на голове!",bj_TIMETYPE_SET,8.,true)
set J2=W0
set JE=1+Iu/50
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=JE
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
call UnitAddAbilityBJ($41304452,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305544,GetLastCreatedUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(bu)
call EnableTrigger(bu)
endfunction
function BTN takes nothing returns nothing
set Wz=CreateTrigger()
call TriggerAddAction(Wz,function BTM)
endfunction
function BTO takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303241) then
return false
endif
return true
endfunction
function BTP takes nothing returns boolean
if not (JE==0) then
return false
endif
return true
endfunction
function BTQ takes nothing returns nothing
set JE=JE-1
if BTP() then
call ConditionalTriggerExecute(WS)
call DisableTrigger(GetTriggeringTrigger())
else
endif
set Rv=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49303755,Rv)
call RemoveLocation(Rv)
endfunction
function BTR takes nothing returns nothing
set bu=CreateTrigger()
call DisableTrigger(bu)
call TriggerRegisterAnyUnitEventBJ(bu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bu,Condition(function BTO))
call TriggerAddAction(bu,function BTQ)
endfunction
function BTS takes nothing returns nothing
call SuspendHeroXPBJ(false,GetEnumUnit())
call CreateNUnitsAtLoc(1,GetUnitTypeId(GetEnumUnit()),Player(11),GetRectCenter(Cj),bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41305339,GetLastCreatedUnit(),15)
call SetHeroLevelBJ(GetLastCreatedUnit(),GetHeroLevel(GetEnumUnit()),true)
call ModifyHeroStat(bj_HEROSTAT_STR,GetLastCreatedUnit(),bj_MODIFYMETHOD_ADD,Iu*100)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetLastCreatedUnit(),bj_MODIFYMETHOD_ADD,Iu*100)
call ModifyHeroStat(bj_HEROSTAT_INT,GetLastCreatedUnit(),bj_MODIFYMETHOD_ADD,Iu*100)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),10.,10.,10.,0)
set J3=J3+1
set bH[1]=$41314236
call UnitAddAbilityBJ(bH[1],RH)
call SetUnitAbilityLevelSwapped(bH[1],RH,Iu/10)
endfunction
function BTT takes nothing returns nothing
set J3=0
call ForGroupBJ(Ir,function BTS)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set K4[GetForLoopIndexA()]=0
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set WQ=GroupPickRandomUnit(Ir)
set SR=GroupPickRandomUnit(Ir)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$55746963,"???",GetRectCenter(GetPlayableMapRect()),null,"Хм... Клаустрофобия не спарвилась с задачей... Надо-же... Вы действительно сильны... Но с этим вам не справиться... Страх, он ведь такой... Он сидит глубоко внутри вас...",bj_TIMETYPE_SET,12.,false)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 44")
call PlaySoundBJ(M)
set J2=Wp
call EnableTrigger(bv)
endfunction
function BTU takes nothing returns nothing
set W0=CreateTrigger()
call TriggerAddAction(W0,function BTT)
endfunction
function BTV takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetOwningPlayer(GetTriggerUnit())==Player(11)) then
return false
endif
return true
endfunction
function BTW takes nothing returns nothing
call SuspendHeroXPBJ(true,GetEnumUnit())
endfunction
function BTX takes nothing returns boolean
if not (J3==0) then
return false
endif
return true
endfunction
function BTY takes nothing returns nothing
set J3=J3-1
if BTX() then
call ForGroupBJ(Ir,function BTW)
call ConditionalTriggerExecute(WS)
call DisableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BTZ takes nothing returns nothing
set bv=CreateTrigger()
call DisableTrigger(bv)
call TriggerRegisterAnyUnitEventBJ(bv,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bv,Condition(function BTV))
call TriggerAddAction(bv,function BTY)
endfunction
function BTa takes nothing returns nothing
set bm=bF
set bF=$6E303242
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(bw)
call DisableTrigger(bv)
endfunction
function BTb takes nothing returns nothing
set Wp=CreateTrigger()
call TriggerAddAction(Wp,function BTa)
endfunction
function BTc takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BTd takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BTe takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BTf takes nothing returns nothing
set K1=true
call AddSpecialEffectLocBJ(GetRectCenter(Cj),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
if BTe() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CJ),bj_UNIT_FACING)
else
if BTd() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BTc() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314535
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(Yw)
call EnableTrigger(Yx)
call EnableTrigger(Yz)
call EnableTrigger(Y2)
call EnableTrigger(Y4)
call EnableTrigger(Y6)
call EnableTrigger(Y8)
call EnableTrigger(Y9)
call EnableTrigger(bx)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BTg takes nothing returns nothing
set bw=CreateTrigger()
call DisableTrigger(bw)
call TriggerAddAction(bw,function BTf)
endfunction
function BTh takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (GetUnitAbilityLevelSwapped($41314535,RH)<100) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BTi takes nothing returns nothing
call SetUnitAbilityLevelSwapped($41314535,RH,GetUnitAbilityLevelSwapped($41314535,RH)+1)
call StartTimerBJ(NH,false,20.)
endfunction
function BTj takes nothing returns nothing
set Yw=CreateTrigger()
call DisableTrigger(Yw)
call TriggerRegisterAnyUnitEventBJ(Yw,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yw,Condition(function BTh))
call TriggerAddAction(Yw,function BTi)
endfunction
function BTk takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BTl takes nothing returns nothing
call SetUnitAbilityLevelSwapped(bH[4],RH,Iu/10)
endfunction
function BTm takes nothing returns nothing
set Yx=CreateTrigger()
call DisableTrigger(Yx)
call TriggerRegisterTimerExpireEventBJ(Yx,NH)
call TriggerAddCondition(Yx,Condition(function BTk))
call TriggerAddAction(Yx,function BTl)
endfunction
function BTn takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BTo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Yy)
call EnableTrigger(Y0)
call UnitAddAbilityBJ($41314C38,RH)
endfunction
function BTp takes nothing returns nothing
set Yz=CreateTrigger()
call DisableTrigger(Yz)
call TriggerRegisterAnyUnitEventBJ(Yz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Yz,Condition(function BTn))
call TriggerAddAction(Yz,function BTo)
endfunction
function BTq takes nothing returns boolean
if not (GetSpellAbilityId()==$41314C38) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BTr takes nothing returns nothing
set W7[1]=GetSpellTargetUnit()
call StartTimerBJ(NN,false,.5)
endfunction
function BTs takes nothing returns nothing
set Yy=CreateTrigger()
call DisableTrigger(Yy)
call TriggerRegisterAnyUnitEventBJ(Yy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(Yy,Condition(function BTq))
call TriggerAddAction(Yy,function BTr)
endfunction
function BTt takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BTu takes nothing returns boolean
if not (UnitHasBuffBJ(W7[1],$42303556)==true) then
return false
endif
return true
endfunction
function BTv takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveDestructable(by[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if BTu() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateDestructableLoc($59746C63,PolarProjectionBJ(GetUnitLoc(W7[1]),180.,36.*I2R(GetForLoopIndexA())),GetRandomDirectionDeg(),1,0)
set by[GetForLoopIndexA()]=GetLastCreatedDestructable()
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StartTimerBJ(NN,false,.5)
else
endif
endfunction
function BTw takes nothing returns nothing
set Y0=CreateTrigger()
call DisableTrigger(Y0)
call TriggerRegisterTimerExpireEventBJ(Y0,NN)
call TriggerAddCondition(Y0,Condition(function BTt))
call TriggerAddAction(Y0,function BTv)
endfunction
function BTx takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BTy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41314C39
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
call EnableTrigger(Y1)
endfunction
function BTz takes nothing returns nothing
set Y2=CreateTrigger()
call DisableTrigger(Y2)
call TriggerRegisterAnyUnitEventBJ(Y2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y2,Condition(function BTx))
call TriggerAddAction(Y2,function BTy)
endfunction
function BT0 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BT1 takes nothing returns nothing
call IssueImmediateOrder(RH,"howlofterror")
endfunction
function BT2 takes nothing returns nothing
set Y1=CreateTrigger()
call DisableTrigger(Y1)
call TriggerRegisterAnyUnitEventBJ(Y1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y1,Condition(function BT0))
call TriggerAddAction(Y1,function BT1)
endfunction
function BT3 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BT4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$41314C41
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
call EnableTrigger(Y3)
call StartTimerBJ(NS,false,2.)
endfunction
function BT5 takes nothing returns nothing
set Y4=CreateTrigger()
call DisableTrigger(Y4)
call TriggerRegisterAnyUnitEventBJ(Y4,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y4,Condition(function BT3))
call TriggerAddAction(Y4,function BT4)
endfunction
function BT6 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BT7 takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$42303557)==true) then
return false
endif
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BT8 takes nothing returns nothing
if BT7() then
set QE=GetUnitLoc(GetEnumUnit())
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set QI=GetUnitLoc(GetEnumUnit())
call IssuePointOrderLoc(GetEnumUnit(),"move",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
else
endif
endfunction
function BT9 takes nothing returns nothing
call ForGroupBJ(Ir,function BT8)
call StartTimerBJ(NS,false,2.)
endfunction
function BUB takes nothing returns nothing
set Y3=CreateTrigger()
call DisableTrigger(Y3)
call TriggerRegisterTimerExpireEventBJ(Y3,NS)
call TriggerAddCondition(Y3,Condition(function BT6))
call TriggerAddAction(Y3,function BT9)
endfunction
function BUC takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Y5)
endfunction
function BUE takes nothing returns nothing
set Y6=CreateTrigger()
call DisableTrigger(Y6)
call TriggerRegisterAnyUnitEventBJ(Y6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y6,Condition(function BUC))
call TriggerAddAction(Y6,function BUD)
endfunction
function BUF takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUG takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)<DistanceBetweenPoints(QE,Tq)) then
return false
endif
return true
endfunction
function BUH takes nothing returns nothing
set Tq=GetUnitLoc(GetEnumUnit())
if BUG() then
call RemoveLocation(QI)
set QI=GetUnitLoc(GetEnumUnit())
else
endif
call RemoveLocation(Tq)
endfunction
function BUI takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BUJ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitInvulnerable(RH,true)
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"death")
call TriggerSleepAction(2)
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
call ForGroupBJ(Ir,function BUH)
call SetUnitPositionLoc(GetTriggerUnit(),QI)
call PlaySoundBJ(B1)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,RH)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(12.)
if BUI() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BUK takes nothing returns nothing
set Y5=CreateTrigger()
call DisableTrigger(Y5)
call TriggerRegisterAnyUnitEventBJ(Y5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y5,Condition(function BUF))
call TriggerAddAction(Y5,function BUJ)
endfunction
function BUL takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Y7)
call StartTimerBJ(NP,false,10.)
endfunction
function BUN takes nothing returns nothing
set Y8=CreateTrigger()
call DisableTrigger(Y8)
call TriggerRegisterAnyUnitEventBJ(Y8,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y8,Condition(function BUL))
call TriggerAddAction(Y8,function BUM)
endfunction
function BUO takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
return true
endfunction
function BUP takes nothing returns nothing
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$68303637,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GroupPickRandomUnit(Ir))
call RemoveLocation(QE)
call StartTimerBJ(NP,false,10.)
endfunction
function BUQ takes nothing returns nothing
set Y7=CreateTrigger()
call DisableTrigger(Y7)
call TriggerRegisterTimerExpireEventBJ(Y7,NP)
call TriggerAddCondition(Y7,Condition(function BUO))
call TriggerAddAction(Y7,function BUP)
endfunction
function BUR takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303242) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[7]=$41304456
call UnitAddAbilityBJ(bH[7],RH)
call SetUnitAbilityLevelSwapped(bH[7],RH,Iu/10)
endfunction
function BUT takes nothing returns nothing
set Y9=CreateTrigger()
call DisableTrigger(Y9)
call TriggerRegisterAnyUnitEventBJ(Y9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Y9,Condition(function BUR))
call TriggerAddAction(Y9,function BUS)
endfunction
function BUU takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303242) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function BUV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49303947
set V6[2]=$49303946
set V6[3]=$49303830
set V6[4]=$4930464C
set V6[5]=$4930464D
set MF=5
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function BUW takes nothing returns nothing
set bx=CreateTrigger()
call DisableTrigger(bx)
call TriggerRegisterAnyUnitEventBJ(bx,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(bx,Condition(function BUU))
call TriggerAddAction(bx,function BUV)
endfunction
function BUX takes nothing returns nothing
set bF=$6E303249
call TriggerSleepAction(5.)
set J2=Wq
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CG),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$4130304C
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(bz)
call EnableTrigger(b0)
call EnableTrigger(b1)
endfunction
function BUY takes nothing returns nothing
set W1=CreateTrigger()
call TriggerAddAction(W1,function BUX)
endfunction
function BUZ takes nothing returns boolean
if not (GetSpellAbilityId()==$4130304C) then
return false
endif
return true
endfunction
function BUa takes nothing returns nothing
set QE=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41304C4D,RH)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"lightningshield",GetSpellTargetUnit())
call RemoveLocation(QE)
endfunction
function BUb takes nothing returns nothing
set bz=CreateTrigger()
call DisableTrigger(bz)
call TriggerRegisterAnyUnitEventBJ(bz,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(bz,Condition(function BUZ))
call TriggerAddAction(bz,function BUa)
endfunction
function BUc takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
return true
endfunction
function BUd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41304D35
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
endfunction
function BUe takes nothing returns nothing
set b0=CreateTrigger()
call DisableTrigger(b0)
call TriggerRegisterAnyUnitEventBJ(b0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(b0,Condition(function BUc))
call TriggerAddAction(b0,function BUd)
endfunction
function BUf takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
return true
endfunction
function BUg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$41305331
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
call IssueImmediateOrder(RH,"berserk")
endfunction
function BUh takes nothing returns nothing
set b2=CreateTrigger()
call DisableTrigger(b2)
call TriggerRegisterAnyUnitEventBJ(b2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(b2,Condition(function BUf))
call TriggerAddAction(b2,function BUg)
endfunction
function BUi takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303249) then
return false
endif
return true
endfunction
function BUj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(bz)
call DisableTrigger(b0)
set JE=0
set QE=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304656,QE)
call RemoveLocation(QE)
call ConditionalTriggerExecute(WS)
endfunction
function BUk takes nothing returns nothing
set b1=CreateTrigger()
call DisableTrigger(b1)
call TriggerRegisterAnyUnitEventBJ(b1,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(b1,Condition(function BUi))
call TriggerAddAction(b1,function BUj)
endfunction
function BUl takes nothing returns nothing
set bm=bF
set bF=$6E30324A
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(b3)
call DisableTrigger(b3)
endfunction
function BUm takes nothing returns nothing
set Wq=CreateTrigger()
call TriggerAddAction(Wq,function BUl)
endfunction
function BUn takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BUo takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BUp takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BUq takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BUr takes nothing returns nothing
set Ix=GetRandomInt(1,5)
set K1=true
if BUq() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
else
if BUp() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BUo() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
if BUn() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CE),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CD),bj_UNIT_FACING)
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314C43
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(ZE)
call EnableTrigger(ZI)
call EnableTrigger(ZK)
call EnableTrigger(ZM)
call EnableTrigger(ZO)
call EnableTrigger(ZR)
call EnableTrigger(ZS)
call EnableTrigger(b4)
endfunction
function BUs takes nothing returns nothing
set b3=CreateTrigger()
call DisableTrigger(b3)
call TriggerAddAction(b3,function BUr)
endfunction
function BUt takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (GetRandomInt(1,10)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUu takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call SetUnitAnimation(RH,"slam")
call CreateNUnitsAtLoc(1,$6530304B,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41304453,GetLastCreatedUnit())
call IssueImmediateOrder(GetLastCreatedUnit(),"thunderclap")
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endfunction
function BUv takes nothing returns nothing
set ZB=CreateTrigger()
call DisableTrigger(ZB)
call TriggerRegisterAnyUnitEventBJ(ZB,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZB,Condition(function BUt))
call TriggerAddAction(ZB,function BUu)
endfunction
function BUw takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BUx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ZC)
call EnableTrigger(ZF)
call EnableTrigger(ZD)
endfunction
function BUy takes nothing returns nothing
set ZE=CreateTrigger()
call DisableTrigger(ZE)
call TriggerRegisterAnyUnitEventBJ(ZE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZE,Condition(function BUw))
call TriggerAddAction(ZE,function BUx)
endfunction
function BUz takes nothing returns boolean
if not (GetSpellAbilityId()==$41314C42) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BU0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(Tv)
call PauseUnitBJ(false,Tv)
call KillUnit(XB[1])
set Tv=GetSpellTargetUnit()
set QE=GetUnitLoc(Tv)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call PauseUnitBJ(true,Tv)
call ShowUnitHide(Tv)
call CreateNUnitsAtLoc(1,$68303638,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
set XB[1]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(25.,$42544C46,XB[1])
call RemoveLocation(QE)
call StartTimerBJ(NH,false,1.)
call EnableTrigger(ZF)
endfunction
function BU1 takes nothing returns nothing
set ZC=CreateTrigger()
call DisableTrigger(ZC)
call TriggerRegisterAnyUnitEventBJ(ZC,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ZC,Condition(function BUz))
call TriggerAddAction(ZC,function BU0)
endfunction
function BU2 takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BU3 takes nothing returns boolean
if not (IsUnitAliveBJ(Tv)==true) then
return false
endif
if not (IsUnitAliveBJ(XB[1])==true) then
return false
endif
return true
endfunction
function BU4 takes nothing returns nothing
if BU3() then
call SetUnitLifePercentBJ(Tv,GetUnitLifePercent(Tv)-3.)
call StartTimerBJ(NH,false,1.)
else
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function BU5 takes nothing returns nothing
set ZF=CreateTrigger()
call DisableTrigger(ZF)
call TriggerRegisterTimerExpireEventBJ(ZF,NH)
call TriggerAddCondition(ZF,Condition(function BU2))
call TriggerAddAction(ZF,function BU4)
endfunction
function BU6 takes nothing returns boolean
if GetTriggerUnit()==Tv then
return true
endif
if GetTriggerUnit()==XB[1] then
return true
endif
return false
endfunction
function BU7 takes nothing returns boolean
if not BU6() then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BU8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(XB[1])
call KillUnit(XB[1])
call ShowUnitShow(Tv)
call PauseUnitBJ(false,Tv)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303653,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitLifePercentBJ(GetLastCreatedUnit(),GetRandomReal(20.,100.))
call CreateNUnitsAtLoc(1,$6E303653,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitLifePercentBJ(GetLastCreatedUnit(),GetRandomReal(20.,100.))
call CreateNUnitsAtLoc(1,$6E303653,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitLifePercentBJ(GetLastCreatedUnit(),GetRandomReal(20.,100.))
call RemoveLocation(QE)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BU9 takes nothing returns nothing
set ZD=CreateTrigger()
call DisableTrigger(ZD)
call TriggerRegisterAnyUnitEventBJ(ZD,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ZD,Condition(function BU7))
call TriggerAddAction(ZD,function BU8)
endfunction
function BVB takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ZH)
call EnableTrigger(ZG)
endfunction
function BVD takes nothing returns nothing
set ZI=CreateTrigger()
call DisableTrigger(ZI)
call TriggerRegisterAnyUnitEventBJ(ZI,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZI,Condition(function BVB))
call TriggerAddAction(ZI,function BVC)
endfunction
function BVE takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVF takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BVG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set My=0.
set QE=GetUnitLoc(RH)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+60.
set QI=PolarProjectionBJ(QE,300.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$68303639,GetOwningPlayer(RH),QI,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(360.,$42544C46,XB[1])
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call TriggerSleepAction(20.)
if BVF() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BVH takes nothing returns nothing
set ZH=CreateTrigger()
call DisableTrigger(ZH)
call TriggerRegisterAnyUnitEventBJ(ZH,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZH,Condition(function BVE))
call TriggerAddAction(ZH,function BVG)
endfunction
function BVI takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (GetUnitTypeId(GetAttacker())==$68303639) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVJ takes nothing returns nothing
set QE=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41304646,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"ensnare",GetAttackedUnitBJ())
call RemoveUnit(GetAttacker())
call RemoveLocation(QE)
endfunction
function BVK takes nothing returns nothing
set ZG=CreateTrigger()
call DisableTrigger(ZG)
call TriggerRegisterAnyUnitEventBJ(ZG,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZG,Condition(function BVI))
call TriggerAddAction(ZG,function BVJ)
endfunction
function BVL takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ZJ)
set b5[1]=$6E776C67
set b5[2]=$6E706C67
set b5[3]=$6E716234
set b5[4]=$6E303233
set b5[5]=$6E776533
set b5[6]=$6E656372
set b5[7]=$6E737477
set b5[8]=$6E303247
set b5[9]=$6E6A6762
set b5[10]=$6E747264
endfunction
function BVN takes nothing returns nothing
set ZK=CreateTrigger()
call DisableTrigger(ZK)
call TriggerRegisterAnyUnitEventBJ(ZK,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZK,Condition(function BVL))
call TriggerAddAction(ZK,function BVM)
endfunction
function BVO takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVP takes nothing returns boolean
if not (L8==10) then
return false
endif
return true
endfunction
function BVQ takes nothing returns boolean
if not (L8==9) then
return false
endif
return true
endfunction
function BVR takes nothing returns boolean
if not (L8==8) then
return false
endif
return true
endfunction
function BVS takes nothing returns boolean
if not (L8==7) then
return false
endif
return true
endfunction
function BVT takes nothing returns boolean
if not (L8==6) then
return false
endif
return true
endfunction
function BVU takes nothing returns boolean
if not (L8==5) then
return false
endif
return true
endfunction
function BVV takes nothing returns boolean
if not (L8==4) then
return false
endif
return true
endfunction
function BVW takes nothing returns boolean
if not (L8==3) then
return false
endif
return true
endfunction
function BVX takes nothing returns boolean
if not (L8==2) then
return false
endif
return true
endfunction
function BVY takes nothing returns boolean
if not (L8==1) then
return false
endif
return true
endfunction
function BVZ takes nothing returns nothing
set My=0.
set L8=GetRandomInt(1,10)
set QE=GetUnitLoc(GetEnumUnit())
if BVY() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+45.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVX() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+45.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVW() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+45.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVV() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+10.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVU() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+45.
set QI=PolarProjectionBJ(QE,200.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVT() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+10.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVS() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+60.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVR() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+60.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVQ() then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+120.
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if BVP() then
set My=GetRandomDirectionDeg()
set QI=PolarProjectionBJ(QE,100.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,b5[L8],GetOwningPlayer(RH),QI,QE)
call UnitApplyTimedLifeBJ(120.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call RemoveLocation(QE)
endfunction
function BVa takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(Ir,function BVZ)
endfunction
function BVb takes nothing returns nothing
set ZJ=CreateTrigger()
call DisableTrigger(ZJ)
call TriggerRegisterAnyUnitEventBJ(ZJ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZJ,Condition(function BVO))
call TriggerAddAction(ZJ,function BVa)
endfunction
function BVc takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[4]=$41314C43
call UnitAddAbilityBJ(bH[4],RH)
call SetUnitAbilityLevelSwapped(bH[4],RH,Iu/10)
call EnableTrigger(ZL)
endfunction
function BVe takes nothing returns nothing
set ZM=CreateTrigger()
call DisableTrigger(ZM)
call TriggerRegisterAnyUnitEventBJ(ZM,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZM,Condition(function BVc))
call TriggerAddAction(ZM,function BVd)
endfunction
function BVf takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVg takes nothing returns boolean
if IsUnitAliveBJ(GetEnumUnit())==false then
return true
endif
if GetEnumUnit()==RH then
return true
endif
return false
endfunction
function BVh takes nothing returns boolean
if not BVg() then
return false
endif
return true
endfunction
function BVi takes nothing returns nothing
if BVh() then
call GroupRemoveUnitSimple(GetEnumUnit(),NM)
else
endif
endfunction
function BVj takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BVk takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
call GroupClear(NM)
set NM=GetUnitsInRectAll(Rx)
call ForGroupBJ(NM,function BVi)
call IssueTargetOrder(RH,"unholyfrenzy",GroupPickRandomUnit(NM))
call GroupClear(NM)
call RemoveRect(Rx)
call RemoveLocation(QE)
call TriggerSleepAction(20.)
if BVj() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BVl takes nothing returns nothing
set ZL=CreateTrigger()
call DisableTrigger(ZL)
call TriggerRegisterAnyUnitEventBJ(ZL,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZL,Condition(function BVf))
call TriggerAddAction(ZL,function BVk)
endfunction
function BVm takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ZN)
endfunction
function BVo takes nothing returns nothing
set ZO=CreateTrigger()
call DisableTrigger(ZO)
call TriggerRegisterAnyUnitEventBJ(ZO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZO,Condition(function BVm))
call TriggerAddAction(ZO,function BVn)
endfunction
function BVp takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVq takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BVr takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BVs takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BVt takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BVu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
set W7[1]=GetAttacker()
set Nb=true
set bJ=GetUnitLoc(W7[1])
call SetUnitFacingToFaceUnitTimed(RH,W7[1],.5)
if BVq() then
call SetUnitAnimation(RH,"spell")
else
call SetUnitAnimation(RH,"death")
endif
call TriggerSleepAction(1.)
if BVr() then
call SetUnitAnimation(RH,"spell")
else
call SetUnitAnimation(RH,"death")
endif
call TriggerSleepAction(1.)
if BVs() then
call SetUnitAnimation(RH,"slam")
else
call SetUnitAnimation(RH,"death")
endif
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6530305A,Player(11),QE,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",bJ)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(bJ)
call TriggerSleepAction(1.)
call PauseUnitBJ(false,RH)
set Nb=false
call TriggerSleepAction(20.)
if BVt() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BVv takes nothing returns nothing
set ZN=CreateTrigger()
call DisableTrigger(ZN)
call TriggerRegisterAnyUnitEventBJ(ZN,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZN,Condition(function BVp))
call TriggerAddAction(ZN,function BVu)
endfunction
function BVw takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=70.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BVx takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41314C46
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
call EnableTrigger(ZP)
call EnableTrigger(ZQ)
endfunction
function BVy takes nothing returns nothing
set ZR=CreateTrigger()
call DisableTrigger(ZR)
call TriggerRegisterAnyUnitEventBJ(ZR,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZR,Condition(function BVw))
call TriggerAddAction(ZR,function BVx)
endfunction
function BVz takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BV0 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
return true
endfunction
function BV1 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrder(RH,"innerfire",RH)
call TriggerSleepAction(5.)
if BV0() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BV2 takes nothing returns nothing
set ZP=CreateTrigger()
call DisableTrigger(ZP)
call TriggerRegisterAnyUnitEventBJ(ZP,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZP,Condition(function BVz))
call TriggerAddAction(ZP,function BV1)
endfunction
function BV3 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303559)==true) then
return false
endif
if not (GetRandomInt(1,20)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BV4 takes nothing returns nothing
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6E30324C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(60,$42466967,GetLastCreatedUnit())
call AddSpecialEffectTargetUnitBJ("chest",GetLastCreatedUnit(),"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
endfunction
function BV5 takes nothing returns nothing
set ZQ=CreateTrigger()
call DisableTrigger(ZQ)
call TriggerRegisterAnyUnitEventBJ(ZQ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZQ,Condition(function BV3))
call TriggerAddAction(ZQ,function BV4)
endfunction
function BV6 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E30324A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BV7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$41314C47
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
endfunction
function BV8 takes nothing returns nothing
set ZS=CreateTrigger()
call DisableTrigger(ZS)
call TriggerRegisterAnyUnitEventBJ(ZS,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZS,Condition(function BV6))
call TriggerAddAction(ZS,function BV7)
endfunction
function BV9 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30324A) then
return false
endif
return true
endfunction
function BWB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49304146
set V6[2]=$49304148
set V6[3]=$49304145
set MF=3
call ConditionalTriggerExecute(V3)
endfunction
function BWC takes nothing returns nothing
set b4=CreateTrigger()
call DisableTrigger(b4)
call TriggerRegisterAnyUnitEventBJ(b4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(b4,Condition(function BV9))
call TriggerAddAction(b4,function BWB)
endfunction
function BWD takes nothing returns nothing
set bF=$6E303252
call TriggerSleepAction(5.)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 54")
call ConditionalTriggerExecute(b6)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",a,"Я... Ненавижу вас... Всех... Ой, что это я несу!? Мне в голове кто-то шепчет всех вас убить!",bj_TIMETYPE_SET,8.,true)
set J2=Wr
call DisableTrigger(b6)
endfunction
function BWE takes nothing returns nothing
set W2=CreateTrigger()
call TriggerAddAction(W2,function BWD)
endfunction
function BWF takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function BWG takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BWH takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BWI takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BWJ takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BWK takes nothing returns nothing
set Ix=GetRandomInt(1,6)
set K1=true
if BWJ() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
else
if BWI() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
else
if BWH() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Co),bj_UNIT_FACING)
else
if BWG() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Fi),bj_UNIT_FACING)
else
if BWF() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
endif
endif
endif
endif
endif
call SetUnitAnimation(GetLastCreatedUnit(),"stand")
set RH=GetLastCreatedUnit()
set bH[1]=$41314236
set bH[2]=$41304741
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(b7)
call EnableTrigger(b8)
call EnableTrigger(b9)
call EnableTrigger(cB)
call StartTimerBJ(NH,false,8.)
call StartTimerBJ(NN,false,20.)
endfunction
function BWL takes nothing returns nothing
set b6=CreateTrigger()
call DisableTrigger(b6)
call TriggerAddAction(b6,function BWK)
endfunction
function BWM takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BWN takes nothing returns nothing
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLocFacingLocBJ(1,$75303053,GetOwningPlayer(RH),QE,QE)
call UnitApplyTimedLifeBJ(8.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call StartTimerBJ(NH,false,8.)
endfunction
function BWO takes nothing returns nothing
set b7=CreateTrigger()
call DisableTrigger(b7)
call TriggerRegisterTimerExpireEventBJ(b7,NH)
call TriggerAddCondition(b7,Condition(function BWM))
call TriggerAddAction(b7,function BWN)
endfunction
function BWP takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303252) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetRandomInt(1,100)==5) then
return false
endif
return true
endfunction
function BWQ takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BWR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$6E303251,Player(PLAYER_NEUTRAL_AGGRESSIVE),QE,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("origin",GetAttackedUnitBJ(),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(10.)
if BWQ() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BWS takes nothing returns nothing
set b8=CreateTrigger()
call DisableTrigger(b8)
call TriggerRegisterAnyUnitEventBJ(b8,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(b8,Condition(function BWP))
call TriggerAddAction(b8,function BWR)
endfunction
function BWT takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303252) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetRandomInt(1,100)==5) then
return false
endif
return true
endfunction
function BWU takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BWV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(Iu/10+1,$6E303250,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("origin",GetAttackedUnitBJ(),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(10.)
if BWU() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BWW takes nothing returns nothing
set b9=CreateTrigger()
call DisableTrigger(b9)
call TriggerRegisterAnyUnitEventBJ(b9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(b9,Condition(function BWT))
call TriggerAddAction(b9,function BWV)
endfunction
function BWX takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BWY takes nothing returns nothing
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLocFacingLocBJ(1,$68303730,GetOwningPlayer(RH),QE,QE)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call StartTimerBJ(NN,false,20.)
call ConditionalTriggerExecute(Tw)
endfunction
function BWZ takes nothing returns nothing
set cC=CreateTrigger()
call DisableTrigger(cC)
call TriggerRegisterTimerExpireEventBJ(cC,NN)
call TriggerAddCondition(cC,Condition(function BWX))
call TriggerAddAction(cC,function BWY)
endfunction
function BWa takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==false) then
return false
endif
if not (GetEnumUnit()==Tv) then
return false
endif
return true
endfunction
function BWb takes nothing returns nothing
if BWa() then
set QE=GetUnitLoc(RH)
call SetUnitPositionLoc(GetEnumUnit(),QE)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
else
endif
endfunction
function BWc takes nothing returns nothing
call ForGroupBJ(Ir,function BWb)
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+18.
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,800.,My)
call CreateNUnitsAtLoc(1,$75303043,GetOwningPlayer(RH),QI,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call GroupAddUnitSimple(GetLastCreatedUnit(),NI)
call RemoveLocation(QE)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BWd takes nothing returns nothing
set Tw=CreateTrigger()
call DisableTrigger(Tw)
call TriggerAddAction(Tw,function BWc)
endfunction
function BWe takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303252) then
return false
endif
return true
endfunction
function BWf takes nothing returns boolean
if not (JE==0) then
return false
endif
return true
endfunction
function BWg takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BWh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set JE=0
if BWf() then
call ConditionalTriggerExecute(WS)
else
endif
call DisableTrigger(b7)
call DisableTrigger(b8)
call DisableTrigger(b9)
call DisableTrigger(Tw)
call DisableTrigger(cC)
call PauseTimerBJ(true,NH)
call PauseTimerBJ(true,NN)
call ForGroupBJ(NI,function BWg)
endfunction
function BWi takes nothing returns nothing
set cB=CreateTrigger()
call DisableTrigger(cB)
call TriggerRegisterAnyUnitEventBJ(cB,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cB,Condition(function BWe))
call TriggerAddAction(cB,function BWh)
endfunction
function BWj takes nothing returns nothing
set bF=$6E303253
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(cD)
call DisableTrigger(cD)
endfunction
function BWk takes nothing returns nothing
set Wr=CreateTrigger()
call TriggerAddAction(Wr,function BWj)
endfunction
function BWl takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function BWm takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BWn takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BWo takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BWp takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BWq takes nothing returns nothing
set Ix=GetRandomInt(1,6)
if BWp() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
else
if BWo() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
else
if BWn() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
else
if BWm() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cm),bj_UNIT_FACING)
else
if BWl() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cn),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41305533
call EnableTrigger(ZV)
call EnableTrigger(ZZ)
call EnableTrigger(Zb)
call EnableTrigger(Zd)
call EnableTrigger(Ze)
call EnableTrigger(Zg)
call EnableTrigger(Zi)
call EnableTrigger(Zk)
call EnableTrigger(cE)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set RH=GetLastCreatedUnit()
endfunction
function BWr takes nothing returns nothing
set cD=CreateTrigger()
call DisableTrigger(cD)
call TriggerAddAction(cD,function BWq)
endfunction
function BWs takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BWt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetTriggerUnit())
set Nb=true
call PauseUnitBJ(true,RH)
call ShowUnitHide(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$68303641,Player(PLAYER_NEUTRAL_PASSIVE),QE,bj_UNIT_FACING)
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(QE)
set XB[1]=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(38.,$42544C46,GetLastCreatedUnit())
call TriggerSleepAction(8.)
call SetUnitOwner(XB[1],GetOwningPlayer(RH),true)
call StartTimerBJ(NH,false,3.)
call EnableTrigger(ZW)
call EnableTrigger(ZU)
call EnableTrigger(ZT)
endfunction
function BWu takes nothing returns nothing
set ZV=CreateTrigger()
call DisableTrigger(ZV)
call TriggerRegisterAnyUnitEventBJ(ZV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZV,Condition(function BWs))
call TriggerAddAction(ZV,function BWt)
endfunction
function BWv takes nothing returns boolean
if not (IsUnitAliveBJ(XB[1])==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BWw takes nothing returns nothing
set QE=GetUnitLoc(XB[1])
set Rx=RectFromCenterSizeBJ(QE,300.,300.)
set QI=GetRandomLocInRect(Rx)
call IssuePointOrderLoc(XB[1],"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call IssuePointOrderLoc(XB[1],"attackground",QI)
call StartTimerBJ(NH,false,3.)
endfunction
function BWx takes nothing returns nothing
set ZW=CreateTrigger()
call DisableTrigger(ZW)
call TriggerRegisterTimerExpireEventBJ(ZW,NH)
call TriggerAddCondition(ZW,Condition(function BWv))
call TriggerAddAction(ZW,function BWw)
endfunction
function BWy takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303052) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BWz takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303152,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitPathing(GetLastCreatedUnit(),false)
call GroupAddUnitSimple(GetLastCreatedUnit(),NO)
call RemoveLocation(QE)
call RemoveUnit(GetTriggerUnit())
endfunction
function BW0 takes nothing returns nothing
set ZU=CreateTrigger()
call DisableTrigger(ZU)
call TriggerRegisterEnterRectSimple(ZU,GetPlayableMapRect())
call TriggerAddCondition(ZU,Condition(function BWy))
call TriggerAddAction(ZU,function BWz)
endfunction
function BW1 takes nothing returns boolean
if not (GetTriggerUnit()==XB[1]) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BW2 takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BW3 takes nothing returns nothing
if BW2() then
call KillUnit(GetEnumUnit())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+2.)
else
endif
endfunction
function BW5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(ZU)
call DisableTrigger(ZW)
call TriggerSleepAction(5.)
call ShowUnitShow(RH)
call PauseUnitBJ(false,RH)
set Nb=false
set QE=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(2.)
call ForGroupBJ(NO,function BW3)
call GroupClear(NO)
endfunction
function BW6 takes nothing returns nothing
set ZT=CreateTrigger()
call DisableTrigger(ZT)
call TriggerRegisterAnyUnitEventBJ(ZT,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ZT,Condition(function BW1))
call TriggerAddAction(ZT,function BW5)
endfunction
function BW7 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BW8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ZX)
call EnableTrigger(ZY)
endfunction
function BW9 takes nothing returns nothing
set ZZ=CreateTrigger()
call DisableTrigger(ZZ)
call TriggerRegisterAnyUnitEventBJ(ZZ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZZ,Condition(function BW7))
call TriggerAddAction(ZZ,function BW8)
endfunction
function BXB takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set NR=0
call SetUnitAnimation(RH,"spell")
set W7[1]=GetAttacker()
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl")
set W8=GetLastCreatedEffectBJ()
call StartTimerBJ(NN,false,1.)
endfunction
function BXD takes nothing returns nothing
set ZX=CreateTrigger()
call DisableTrigger(ZX)
call TriggerRegisterAnyUnitEventBJ(ZX,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ZX,Condition(function BXB))
call TriggerAddAction(ZX,function BXC)
endfunction
function BXE takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BXF takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(RH))==true) then
return false
endif
return true
endfunction
function BXG takes nothing returns nothing
if BXF() then
call fD(RH,GetEnumUnit(),0)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\GreenDragonMissile\\GreenDragonMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BXH takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BXI takes nothing returns boolean
if not (NR>=5) then
return false
endif
return true
endfunction
function BXJ takes nothing returns nothing
set NR=NR+1
set QE=GetUnitLoc(W7[1])
set Rx=RectFromCenterSizeBJ(QE,500.,500.)
set bq=GetRandomLocInRect(Rx)
call RemoveLocation(QE)
call RemoveRect(Rx)
call AddSpecialEffectLocBJ(bq,"Abilities\\Spells\\Undead\\VampiricAura\\VampiricAura.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(3.)
call AddSpecialEffectLocBJ(bq,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(.5)
set Rx=RectFromCenterSizeBJ(bq,100.,100.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BXG)
call RemoveRect(Rx)
call RemoveLocation(bq)
if BXI() then
call DestroyEffect(W8)
call TriggerSleepAction(20.)
if BXH() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
else
call StartTimerBJ(NN,false,1.)
endif
endfunction
function BXK takes nothing returns nothing
set ZY=CreateTrigger()
call DisableTrigger(ZY)
call TriggerRegisterTimerExpireEventBJ(ZY,NN)
call TriggerAddCondition(ZY,Condition(function BXE))
call TriggerAddAction(ZY,function BXJ)
endfunction
function BXL takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Za)
endfunction
function BXN takes nothing returns nothing
set Zb=CreateTrigger()
call DisableTrigger(Zb)
call TriggerRegisterAnyUnitEventBJ(Zb,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zb,Condition(function BXL))
call TriggerAddAction(Zb,function BXM)
endfunction
function BXO takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXP takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetForLoopIndexA()])==true) then
return false
endif
if not (RectContainsUnit(Rx,Pd[GetForLoopIndexA()])==true) then
return false
endif
if not (GetEnumUnit()!=Pd[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function BXQ takes nothing returns boolean
if not (Na==true) then
return false
endif
return true
endfunction
function BXR takes nothing returns nothing
set Na=false
set QE=GetUnitLoc(GetEnumUnit())
set Rx=RectFromCenterSizeBJ(QE,500.,500.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BXP() then
set Na=true
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if BXQ() then
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
set QI=GetUnitLoc(RH)
call AddLightningLoc("DRAL",QI,QE)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,.5)
call RemoveLocation(QI)
call SetUnitLifePercentBJ(RH,GetUnitLifePercent(RH)+2.)
endif
call RemoveLocation(QE)
call RemoveRect(Rx)
endfunction
function BXS takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BXT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nb=true
call SetUnitInvulnerable(RH,true)
call PauseUnitBJ(true,RH)
call PlaySoundBJ(B2)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(1.)
call SetUnitAnimation(RH,"slam")
call ForGroupBJ(Ir,function BXR)
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,RH)
set Nb=false
call TriggerSleepAction(60.)
if BXS() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BXU takes nothing returns nothing
set Za=CreateTrigger()
call DisableTrigger(Za)
call TriggerRegisterAnyUnitEventBJ(Za,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Za,Condition(function BXO))
call TriggerAddAction(Za,function BXT)
endfunction
function BXV takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=70.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zc)
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Spells\\Items\\OrbSlow\\OrbSlow.mdl")
endfunction
function BXX takes nothing returns nothing
set Zd=CreateTrigger()
call DisableTrigger(Zd)
call TriggerRegisterAnyUnitEventBJ(Zd,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zd,Condition(function BXV))
call TriggerAddAction(Zd,function BXW)
endfunction
function BXY takes nothing returns boolean
if not (GetAttacker()==RH) then
return false
endif
if not (GetRandomInt(1,10)<=3) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXZ takes nothing returns boolean
if not (RectContainsUnit(Rx,GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BXa takes nothing returns nothing
if BXZ() then
call GroupAddUnitSimple(GetEnumUnit(),NM)
else
endif
endfunction
function BXb takes nothing returns boolean
if not (GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())<=Nf) then
return false
endif
return true
endfunction
function BXc takes nothing returns nothing
if BXb() then
set Nf=GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())
else
endif
endfunction
function BXd takes nothing returns nothing
call SetUnitLifeBJ(GetEnumUnit(),Nf)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BXe takes nothing returns nothing
set Nf=1000000.
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,20.*(100.-GetUnitLifePercent(RH)),20.*(100.-GetUnitLifePercent(RH)))
call GroupClear(NM)
call ForGroupBJ(Ir,function BXa)
call RemoveLocation(QE)
call RemoveRect(Rx)
call ForGroupBJ(NM,function BXc)
call ForGroupBJ(NM,function BXd)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call GroupClear(NM)
endfunction
function BXf takes nothing returns nothing
set Zc=CreateTrigger()
call DisableTrigger(Zc)
call TriggerRegisterAnyUnitEventBJ(Zc,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zc,Condition(function BXY))
call TriggerAddAction(Zc,function BXe)
endfunction
function BXg takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXh takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41314C4D
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
call EnableTrigger(Zf)
call StartTimerBJ(NP,false,1.)
endfunction
function BXi takes nothing returns nothing
set Ze=CreateTrigger()
call DisableTrigger(Ze)
call TriggerRegisterAnyUnitEventBJ(Ze,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Ze,Condition(function BXg))
call TriggerAddAction(Ze,function BXh)
endfunction
function BXj takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BXk takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetForLoopIndexA()])==true) then
return false
endif
if not (RectContainsUnit(Rx,Pd[GetForLoopIndexA()])==true) then
return false
endif
if not (GetEnumUnit()!=Pd[GetForLoopIndexA()]) then
return false
endif
return true
endfunction
function BXl takes nothing returns boolean
if not (UnitHasBuffBJ(GetEnumUnit(),$4230355A)==true) then
return false
endif
return true
endfunction
function BXm takes nothing returns nothing
if BXl() then
set QE=GetUnitLoc(GetEnumUnit())
set Rx=RectFromCenterSizeBJ(QE,600.,600.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if BXk() then
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fB(RH,GetEnumUnit(),0)
set QI=GetUnitLoc(Pd[GetForLoopIndexA()])
call AddLightningLoc("AFOD",QI,QE)
set PI=PI+1
set W9[PI]=GetLastCreatedLightningBJ()
call StartTimerBJ(PJ,false,.5)
call RemoveLocation(QI)
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call RemoveRect(Rx)
else
endif
endfunction
function BXn takes nothing returns nothing
call ForGroupBJ(Ir,function BXm)
call StartTimerBJ(NP,false,1.)
endfunction
function BXo takes nothing returns nothing
set Zf=CreateTrigger()
call DisableTrigger(Zf)
call TriggerRegisterTimerExpireEventBJ(Zf,NP)
call TriggerAddCondition(Zf,Condition(function BXj))
call TriggerAddAction(Zf,function BXn)
endfunction
function BXp takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXq takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundBJ(B3)
set W7[2]=GroupPickRandomUnit(Ir)
set QE=GetUnitLoc(W7[2])
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(W7[2]),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
call UnitAddAbilityBJ($41314C4C,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"bloodlust",W7[2])
call StartTimerBJ(NS,false,1.)
call EnableTrigger(Zh)
endfunction
function BXr takes nothing returns nothing
set Zg=CreateTrigger()
call DisableTrigger(Zg)
call TriggerRegisterAnyUnitEventBJ(Zg,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zg,Condition(function BXp))
call TriggerAddAction(Zg,function BXq)
endfunction
function BXs takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BXt takes nothing returns boolean
if not (GetEnumUnit()!=W7[2]) then
return false
endif
return true
endfunction
function BXu takes nothing returns nothing
if BXt() then
call fH(GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())/100*5)
else
endif
endfunction
function BXv takes nothing returns boolean
if not (UnitHasBuffBJ(W7[2],$42303630)==true) then
return false
endif
return true
endfunction
function BXw takes nothing returns nothing
if BXv() then
call ForGroupBJ(Ir,function BXu)
call SetUnitLifePercentBJ(W7[2],GetUnitLifePercent(W7[2])-5.)
call fB(RH,W7[2],GetUnitStateSwap(UNIT_STATE_MAX_LIFE,W7[2])/100*5)
call StartTimerBJ(NS,false,1.)
call AddSpecialEffectTargetUnitBJ("chest",W7[2],"Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BXx takes nothing returns nothing
set Zh=CreateTrigger()
call DisableTrigger(Zh)
call TriggerRegisterTimerExpireEventBJ(Zh,NS)
call TriggerAddCondition(Zh,Condition(function BXs))
call TriggerAddAction(Zh,function BXw)
endfunction
function BXy takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetRandomInt(1,10)==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BXz takes nothing returns nothing
call IssueTargetOrder(RH,"entanglingroots",GetAttacker())
endfunction
function BX0 takes nothing returns nothing
set Zi=CreateTrigger()
call DisableTrigger(Zi)
call TriggerRegisterAnyUnitEventBJ(Zi,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zi,Condition(function BXy))
call TriggerAddAction(Zi,function BXz)
endfunction
function BX1 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BX2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zj)
endfunction
function BX3 takes nothing returns nothing
set Zk=CreateTrigger()
call DisableTrigger(Zk)
call TriggerRegisterAnyUnitEventBJ(Zk,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zk,Condition(function BX1))
call TriggerAddAction(Zk,function BX2)
endfunction
function BX4 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetRandomInt(1,20)==1) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BX5 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303253) then
return false
endif
return true
endfunction
function BX6 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(RH,"slam")
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$68303642,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"chainlightning",GetAttacker())
call TriggerSleepAction(20.)
if BX5() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BX7 takes nothing returns nothing
set Zj=CreateTrigger()
call DisableTrigger(Zj)
call TriggerRegisterAnyUnitEventBJ(Zj,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zj,Condition(function BX4))
call TriggerAddAction(Zj,function BX6)
endfunction
function BX8 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303253) then
return false
endif
return true
endfunction
function BX9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$4930414F
set V6[2]=$49304150
set V6[3]=$49303955
set V6[4]=$4930414D
set V6[5]=$4930414C
set MF=5
call ConditionalTriggerExecute(V3)
endfunction
function BYB takes nothing returns nothing
set cE=CreateTrigger()
call DisableTrigger(cE)
call TriggerRegisterAnyUnitEventBJ(cE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cE,Condition(function BX8))
call TriggerAddAction(cE,function BX9)
endfunction
function BYC takes nothing returns boolean
if not (JY==true) then
return false
endif
return true
endfunction
function BYD takes nothing returns nothing
if BYC() then
set Ln=40
call TriggerSleepAction(40.)
else
set Ln=180
call TriggerSleepAction(180.)
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set K4[GetForLoopIndexA()]=0
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bF=$6E303259
call TriggerSleepAction(5.)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 59")
call ConditionalTriggerExecute(cF)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",a,"Знаете что во всей этой бойне самое забавное?.. Что мы ведь не знаем даже что защищаем... А пофиг, кто-то приближается, ВИИИИИИИ!",bj_TIMETYPE_SET,8.,true)
set J2=Ws
call DisableTrigger(cF)
endfunction
function BYE takes nothing returns nothing
set W3=CreateTrigger()
call TriggerAddAction(W3,function BYD)
endfunction
function BYF takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function BYG takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BYH takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BYI takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BYJ takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BYK takes nothing returns nothing
set Ix=GetRandomInt(1,6)
if BYJ() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
else
if BYI() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CG),bj_UNIT_FACING)
else
if BYH() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BYG() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
if BYF() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CE),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CD),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
call UnitAddAbilityBJ($41303638,GetLastCreatedUnit())
endfunction
function BYL takes nothing returns nothing
set cF=CreateTrigger()
call DisableTrigger(cF)
call TriggerAddAction(cF,function BYK)
endfunction
function BYM takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303259) then
return false
endif
return true
endfunction
function BYN takes nothing returns boolean
if not (JE==0) then
return false
endif
return true
endfunction
function BYO takes nothing returns nothing
call DisableTrigger(cF)
set JE=0
set QE=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304151,QE)
call RemoveLocation(QE)
if BYN() then
call ConditionalTriggerExecute(WS)
else
endif
endfunction
function BYP takes nothing returns nothing
set cG=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(cG,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cG,Condition(function BYM))
call TriggerAddAction(cG,function BYO)
endfunction
function BYQ takes nothing returns nothing
set bF=$6E30325A
call TriggerSleepAction(5.)
set J2=W4
call ConditionalTriggerExecute(cH)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BYR takes nothing returns nothing
set Ws=CreateTrigger()
call TriggerAddAction(Ws,function BYQ)
endfunction
function BYS takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function BYT takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function BYU takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function BYV takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BYW takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BYX takes nothing returns nothing
set Ix=GetRandomInt(1,6)
set K1=true
if BYW() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GX),bj_UNIT_FACING)
else
if BYV() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CG),bj_UNIT_FACING)
else
if BYU() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(GI),bj_UNIT_FACING)
else
if BYT() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CF),bj_UNIT_FACING)
else
if BYS() then
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CE),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(10),GetRandomLocInRect(CD),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
call EnableTrigger(Zl)
call EnableTrigger(Zn)
call EnableTrigger(Zq)
call EnableTrigger(Zr)
call EnableTrigger(Zt)
call EnableTrigger(Zx)
call EnableTrigger(Z0)
call EnableTrigger(Z2)
call EnableTrigger(Zo)
call EnableTrigger(Zv)
call EnableTrigger(Zy)
call EnableTrigger(Z1)
call EnableTrigger(cI)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BYY takes nothing returns nothing
set cH=CreateTrigger()
call DisableTrigger(cH)
call TriggerAddAction(cH,function BYX)
endfunction
function BYZ takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYa takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not BYZ() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BYb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbilityBJ($41314C4F,RH)
call IssueImmediateOrder(RH,"metamorphosis")
set Nb=true
set bH[4]=$53303030
set bH[5]=$41314C50
set bj_forLoopAIndex=4
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"morph")
call TriggerSleepAction(1.)
call PauseUnitBJ(false,RH)
set Nb=false
endfunction
function BYc takes nothing returns nothing
set Zl=CreateTrigger()
call DisableTrigger(Zl)
call TriggerRegisterAnyUnitEventBJ(Zl,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zl,Condition(function BYa))
call TriggerAddAction(Zl,function BYb)
endfunction
function BYd takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYe takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not BYd() then
return false
endif
return true
endfunction
function BYf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zm)
call EnableTrigger(Zo)
endfunction
function BYg takes nothing returns nothing
set Zn=CreateTrigger()
call DisableTrigger(Zn)
call TriggerRegisterAnyUnitEventBJ(Zn,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zn,Condition(function BYe))
call TriggerAddAction(Zn,function BYf)
endfunction
function BYh takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYi takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not BYh() then
return false
endif
return true
endfunction
function BYj takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYk takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BYj() then
return false
endif
return true
endfunction
function BYl takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nb=true
set Nf=200.
call PlaySoundBJ(B4)
call SetUnitInvulnerable(RH,true)
call PauseUnitBJ(true,RH)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(.5)
call EnableTrigger(Zo)
call StartTimerBJ(NH,false,.1)
call TriggerSleepAction(1.)
set Nf=Nf+200.
call TriggerSleepAction(1.)
set Nf=Nf+200.
call TriggerSleepAction(1.)
set Nf=Nf+200.
call TriggerSleepAction(1.)
set Nf=Nf+200.
call TriggerSleepAction(1.)
set Nf=Nf+200.
call TriggerSleepAction(1.)
set Nf=Nf+200.
call ResetUnitAnimation(RH)
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,RH)
call PauseTimerBJ(true,NH)
set Nb=false
call DisableTrigger(Zo)
call TriggerSleepAction(60.)
if BYk() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BYm takes nothing returns nothing
set Zm=CreateTrigger()
call DisableTrigger(Zm)
call TriggerRegisterAnyUnitEventBJ(Zm,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zm,Condition(function BYi))
call TriggerAddAction(Zm,function BYl)
endfunction
function BYn takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYo takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not BYn() then
return false
endif
return true
endfunction
function BYp takes nothing returns nothing
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,Nf,Nf)
call CreateNUnitsAtLoc(1,$68303643,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set QI=GetRandomLocInRect(Rx)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
call RemoveLocation(QE)
call RemoveRect(Rx)
call StartTimerBJ(NH,false,.1)
endfunction
function BYq takes nothing returns nothing
set Zo=CreateTrigger()
call DisableTrigger(Zo)
call TriggerRegisterTimerExpireEventBJ(Zo,NH)
call TriggerAddCondition(Zo,Condition(function BYo))
call TriggerAddAction(Zo,function BYp)
endfunction
function BYr takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYs takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=70.) then
return false
endif
if not BYr() then
return false
endif
return true
endfunction
function BYt takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zp)
endfunction
function BYu takes nothing returns nothing
set Zq=CreateTrigger()
call DisableTrigger(Zq)
call TriggerRegisterAnyUnitEventBJ(Zq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zq,Condition(function BYs))
call TriggerAddAction(Zq,function BYt)
endfunction
function BYv takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BYw takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (Nb==false) then
return false
endif
if not BYv() then
return false
endif
return true
endfunction
function BYx takes nothing returns boolean
if not (IsUnitPausedBJ(GetEnumUnit())==false) then
return false
endif
return true
endfunction
function BYy takes nothing returns nothing
if BYx() then
call GroupAddUnitSimple(GetEnumUnit(),NM)
call PauseUnitBJ(true,GetEnumUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitTimeScalePercent(GetEnumUnit(),0.)
call SetUnitVertexColorBJ(GetEnumUnit(),100,100,0.,0)
else
endif
endfunction
function BYz takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),NM)
call PauseUnitBJ(false,GetEnumUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColorBJ(GetEnumUnit(),100,100,100.,0)
call SetUnitTimeScalePercent(GetEnumUnit(),100.)
endfunction
function BY0 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BY1 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BY2 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BY1() then
return false
endif
return true
endfunction
function BY3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
set Nb=true
call PlaySoundBJ(B5)
call TriggerSleepAction(2.)
call PauseUnitBJ(false,RH)
call ResetUnitAnimation(RH)
set Nb=false
if BY0() then
call ForGroupBJ(Ir,function BYy)
call TriggerSleepAction(6.)
call ForGroupBJ(Ir,function BYz)
else
endif
call TriggerSleepAction(80.)
if BY2() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BY4 takes nothing returns nothing
set Zp=CreateTrigger()
call DisableTrigger(Zp)
call TriggerRegisterAnyUnitEventBJ(Zp,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zp,Condition(function BYw))
call TriggerAddAction(Zp,function BY3)
endfunction
function BY5 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BY6 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_SUMMONED)==true) then
return false
endif
if not (GetRandomInt(1,5)==1) then
return false
endif
if not BY5() then
return false
endif
return true
endfunction
function BY7 takes nothing returns nothing
call SetUnitOwner(GetAttacker(),GetOwningPlayer(RH),true)
call AddSpecialEffectTargetUnitBJ("origin",GetAttacker(),"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BY8 takes nothing returns nothing
set Zr=CreateTrigger()
call DisableTrigger(Zr)
call TriggerRegisterAnyUnitEventBJ(Zr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zr,Condition(function BY6))
call TriggerAddAction(Zr,function BY7)
endfunction
function BY9 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZB takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not BY9() then
return false
endif
return true
endfunction
function BZC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zs)
call EnableTrigger(Zu)
call EnableTrigger(Zv)
endfunction
function BZD takes nothing returns nothing
set Zt=CreateTrigger()
call DisableTrigger(Zt)
call TriggerRegisterAnyUnitEventBJ(Zt,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zt,Condition(function BZB))
call TriggerAddAction(Zt,function BZC)
endfunction
function BZE takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZF takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (Nb==false) then
return false
endif
if not BZE() then
return false
endif
return true
endfunction
function BZG takes nothing returns nothing
call KillUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),NO)
endfunction
function BZH takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BZI takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZJ takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BZI() then
return false
endif
return true
endfunction
function BZK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(RH,"attack")
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$68303644,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call ForGroupBJ(NO,function BZG)
call StartTimerBJ(NN,false,1.)
call TriggerSleepAction(20.)
call PauseTimerBJ(true,NN)
call TriggerSleepAction(2.)
call ForGroupBJ(NO,function BZH)
call GroupClear(NO)
call TriggerSleepAction(60.)
if BZJ() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BZL takes nothing returns nothing
set Zs=CreateTrigger()
call DisableTrigger(Zs)
call TriggerRegisterAnyUnitEventBJ(Zs,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zs,Condition(function BZF))
call TriggerAddAction(Zs,function BZK)
endfunction
function BZM takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZN takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303053) then
return false
endif
if not BZM() then
return false
endif
return true
endfunction
function BZO takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BZP takes nothing returns nothing
if BZO() then
call GroupAddUnitSimple(GetTriggerUnit(),NO)
call SetUnitUserData(GetTriggerUnit(),1)
else
call KillUnit(GetTriggerUnit())
call PauseTimerBJ(true,NN)
endif
endfunction
function BZQ takes nothing returns nothing
set Zu=CreateTrigger()
call DisableTrigger(Zu)
call TriggerRegisterEnterRectSimple(Zu,GetPlayableMapRect())
call TriggerAddCondition(Zu,Condition(function BZN))
call TriggerAddAction(Zu,function BZP)
endfunction
function BZR takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZS takes nothing returns boolean
if not BZR() then
return false
endif
return true
endfunction
function BZT takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BZU takes nothing returns boolean
if GetUnitUserData(GetTriggerUnit())==1 then
return true
endif
if GetRandomInt(1,2)==1 then
return true
endif
return false
endfunction
function BZV takes nothing returns boolean
if not (CountUnitsInGroup(NO)<50) then
return false
endif
if not BZU() then
return false
endif
return true
endfunction
function BZW takes nothing returns nothing
if BZV() then
call SetUnitUserData(GetTriggerUnit(),0)
set QE=GetUnitLoc(GetEnumUnit())
set QI=PolarProjectionBJ(QE,GetRandomReal(300.,400.),GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303644,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
else
endif
endfunction
function BZX takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BZY takes nothing returns nothing
if BZX() then
call ForGroupBJ(NO,function BZW)
call StartTimerBJ(NN,false,1.)
else
call ForGroupBJ(NO,function BZT)
endif
endfunction
function BZZ takes nothing returns nothing
set Zv=CreateTrigger()
call DisableTrigger(Zv)
call TriggerRegisterTimerExpireEventBJ(Zv,NN)
call TriggerAddCondition(Zv,Condition(function BZS))
call TriggerAddAction(Zv,function BZY)
endfunction
function BZa takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZb takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not BZa() then
return false
endif
return true
endfunction
function BZc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zw)
call EnableTrigger(Zy)
endfunction
function BZd takes nothing returns nothing
set Zx=CreateTrigger()
call DisableTrigger(Zx)
call TriggerRegisterAnyUnitEventBJ(Zx,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zx,Condition(function BZb))
call TriggerAddAction(Zx,function BZc)
endfunction
function BZe takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZf takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (Nb==false) then
return false
endif
if not BZe() then
return false
endif
return true
endfunction
function BZg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Ng=0.
set W7[1]=GroupPickRandomUnit(Ir)
set QE=GetUnitLoc(W7[1])
call AddSpecialEffectTargetUnitBJ("origin",W7[1],"Abilities\\Spells\\Other\\Charm\\CharmTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$68303645,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
set bK=GetLastCreatedUnit()
call RemoveLocation(QE)
call StartTimerBJ(NP,false,.5)
endfunction
function BZh takes nothing returns nothing
set Zw=CreateTrigger()
call DisableTrigger(Zw)
call TriggerRegisterAnyUnitEventBJ(Zw,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zw,Condition(function BZf))
call TriggerAddAction(Zw,function BZg)
endfunction
function BZi takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZj takes nothing returns boolean
if not BZi() then
return false
endif
return true
endfunction
function BZk takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)>=150.) then
return false
endif
return true
endfunction
function BZl takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(RH))==true) then
return false
endif
return true
endfunction
function BZm takes nothing returns nothing
if BZl() then
call fD(RH,GetEnumUnit(),0)
else
endif
endfunction
function BZn takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)>=250.) then
return false
endif
return true
endfunction
function BZo takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZp takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BZo() then
return false
endif
return true
endfunction
function BZq takes nothing returns boolean
if not (Ng>=100.) then
return false
endif
return true
endfunction
function BZr takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BZs takes nothing returns nothing
if BZr() then
set Ng=Ng+5.
call SetUnitVertexColorBJ(bK,100,100.-Ng,100.-Ng,0)
if BZq() then
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(bK)
set Rx=RectFromCenterSizeBJ(QI,500.,500.)
if BZn() then
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call AddSpecialEffectTargetUnitBJ("origin",bK,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BZm)
else
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endif
call RemoveLocation(QE)
call RemoveRect(Rx)
call RemoveLocation(QI)
call RemoveUnit(bK)
call TriggerSleepAction(90.)
if BZp() then
call EnableTrigger(Zw)
else
endif
else
set QE=GetUnitLoc(W7[1])
set QI=GetUnitLoc(bK)
if BZk() then
call SetUnitPositionLoc(bK,QE)
call AddSpecialEffectTargetUnitBJ("origin",bK,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call RemoveLocation(QI)
call RemoveLocation(QE)
call StartTimerBJ(NP,false,.5)
endif
else
call RemoveUnit(bK)
endif
endfunction
function BZt takes nothing returns nothing
set Zy=CreateTrigger()
call DisableTrigger(Zy)
call TriggerRegisterTimerExpireEventBJ(Zy,NP)
call TriggerAddCondition(Zy,Condition(function BZj))
call TriggerAddAction(Zy,function BZs)
endfunction
function BZu takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZv takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=40.) then
return false
endif
if not BZu() then
return false
endif
return true
endfunction
function BZw takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Zz)
call EnableTrigger(Z1)
set NR=0
call GroupClear(Ni)
endfunction
function BZx takes nothing returns nothing
set Z0=CreateTrigger()
call DisableTrigger(Z0)
call TriggerRegisterAnyUnitEventBJ(Z0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z0,Condition(function BZv))
call TriggerAddAction(Z0,function BZw)
endfunction
function BZy takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZz takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (Nb==false) then
return false
endif
if not BZy() then
return false
endif
return true
endfunction
function BZ0 takes nothing returns boolean
if not (Nh==true) then
return false
endif
return true
endfunction
function BZ1 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZ2 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BZ1() then
return false
endif
return true
endfunction
function BZ3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set My=0.
if BZ0() then
else
call AddWeatherEffectSaveLast(GetPlayableMapRect(),$46446768)
set bD=GetLastCreatedWeatherEffect()
call EnableWeatherEffect(bD,true)
endif
set Nh=true
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+120.
set QI=PolarProjectionBJ(QE,300.,My)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Human\\Polymorph\\PolyMorphDoneGround.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$68303646,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call GroupAddUnitSimple(GetLastCreatedUnit(),Ni)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call StartTimerBJ(NS,false,1.)
call TriggerSleepAction(80.)
if BZ2() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BZ4 takes nothing returns nothing
set Zz=CreateTrigger()
call DisableTrigger(Zz)
call TriggerRegisterAnyUnitEventBJ(Zz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Zz,Condition(function BZz))
call TriggerAddAction(Zz,function BZ3)
endfunction
function BZ5 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BZ6 takes nothing returns boolean
if not BZ5() then
return false
endif
return true
endfunction
function BZ7 takes nothing returns nothing
call GroupRemoveUnitSimple(GetEnumUnit(),Ni)
call RemoveUnit(GetEnumUnit())
endfunction
function BZ8 takes nothing returns boolean
if IsUnitGroupEmptyBJ(Ni)==true then
return true
endif
if IsUnitGroupDeadBJ(Ni)==true then
return true
endif
return false
endfunction
function BZ9 takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function BaB takes nothing returns nothing
if BZ9() then
set NR=NR+Iu
else
call GroupRemoveUnitSimple(GetEnumUnit(),Ni)
call RemoveUnit(GetEnumUnit())
endif
endfunction
function BaC takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("overhead",GetEnumUnit(),"Abilities\\Weapons\\PoisonArrow\\PoisonArrowMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fB(RH,GetEnumUnit(),NR)
endfunction
function BaD takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(Ni)==false) then
return false
endif
return true
endfunction
function BaE takes nothing returns boolean
if not (NR<0) then
return false
endif
return true
endfunction
function BaF takes nothing returns boolean
if not (NR>=5) then
return false
endif
return true
endfunction
function BaG takes nothing returns boolean
if not BZ8() then
return false
endif
return true
endfunction
function BaH takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),Ni)
endfunction
function BaI takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BaJ takes nothing returns nothing
if BaI() then
if BaG() then
call ForGroupBJ(Ni,function BZ7)
call EnableWeatherEffect(bD,false)
set Nh=false
if BaF() then
set NR=NR-Iu*5
if BaE() then
set NR=0
else
endif
else
endif
else
call ForGroupBJ(Ni,function BaB)
if BaD() then
call ForGroupBJ(Ir,function BaC)
else
set NR=0
endif
endif
call StartTimerBJ(NS,false,1.)
else
call EnableWeatherEffect(bD,false)
set Nh=false
call ForGroupBJ(Ni,function BaH)
endif
endfunction
function BaK takes nothing returns nothing
set Z1=CreateTrigger()
call DisableTrigger(Z1)
call TriggerRegisterTimerExpireEventBJ(Z1,NS)
call TriggerAddCondition(Z1,Condition(function BZ6))
call TriggerAddAction(Z1,function BaJ)
endfunction
function BaL takes nothing returns boolean
if GetUnitTypeId(RH)==$6E30325A then
return true
endif
if GetUnitTypeId(RH)==$6E303330 then
return true
endif
return false
endfunction
function BaM takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
if not BaL() then
return false
endif
return true
endfunction
function BaN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[6]=$4130385A
call UnitAddAbilityBJ(bH[6],RH)
call SetUnitAbilityLevelSwapped(bH[6],RH,Iu/10)
endfunction
function BaO takes nothing returns nothing
set Z2=CreateTrigger()
call DisableTrigger(Z2)
call TriggerRegisterAnyUnitEventBJ(Z2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z2,Condition(function BaM))
call TriggerAddAction(Z2,function BaN)
endfunction
function BaP takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E30325A then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303330 then
return true
endif
return false
endfunction
function BaQ takes nothing returns boolean
if not BaP() then
return false
endif
return true
endfunction
function BaR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49304157
set V6[2]=$49304153
set V6[3]=$49304155
set MF=3
call ConditionalTriggerExecute(V3)
endfunction
function BaS takes nothing returns nothing
set cI=CreateTrigger()
call DisableTrigger(cI)
call TriggerRegisterAnyUnitEventBJ(cI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cI,Condition(function BaQ))
call TriggerAddAction(cI,function BaR)
endfunction
function BaT takes nothing returns nothing
set bF=$6E303331
set cJ=GetRectCenter(Ck)
call TriggerSleepAction(5.)
call MultiboardSetItemValueBJ(GetLastCreatedMultiboard(),1,13,"|c0000FF00Волна №: |r 61")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"Мне показалось, или труп Шиззла шевелится?...  Так и есть! Мы что, его не добили?! ",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(10),$6E303331,"Шиззл?",GetRectCenter(GetPlayableMapRect()),null,"Кррр, как приятно не утруждать себя больше дыханием... Смерть это почти не больно после первых 30и минут... Мой господин, спасибо за воскрешение...",bj_TIMETYPE_SET,10.,true)
call AddSpecialEffectLocBJ(cJ,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,bF,Player(11),GetRectCenter(Ck),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set bH[1]=$41304755
set bH[2]=$41304753
set bH[3]=$41304756
set bH[4]=$41304754
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(cK)
endfunction
function BaU takes nothing returns nothing
set W4=CreateTrigger()
call TriggerAddAction(W4,function BaT)
endfunction
function BaV takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303331) then
return false
endif
return true
endfunction
function BaW takes nothing returns boolean
if not (JE==0) then
return false
endif
return true
endfunction
function BaX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set JE=0
if BaW() then
call ConditionalTriggerExecute(WS)
else
endif
endfunction
function BaY takes nothing returns nothing
set cK=CreateTrigger()
call DisableTrigger(cK)
call TriggerRegisterAnyUnitEventBJ(cK,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cK,Condition(function BaV))
call TriggerAddAction(cK,function BaX)
endfunction
function BaZ takes nothing returns nothing
set bm=bF
set bF=$6E303336
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(cL)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Baa takes nothing returns nothing
set Wt=CreateTrigger()
call TriggerAddAction(Wt,function BaZ)
endfunction
function Bab takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function Bac takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function Bad takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function Bae takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function Baf takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function Bag takes nothing returns nothing
set Ix=GetRandomInt(1,6)
set K1=true
if Baf() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
else
if Bae() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
else
if Bad() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
else
if Bac() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cm),bj_UNIT_FACING)
else
if Bab() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cn),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
call EnableTrigger(Z4)
call EnableTrigger(Z7)
call EnableTrigger(aB)
call EnableTrigger(aE)
call EnableTrigger(aG)
call EnableTrigger(aH)
call EnableTrigger(aI)
call EnableTrigger(cM)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41304832
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Bah takes nothing returns nothing
set cL=CreateTrigger()
call DisableTrigger(cL)
call TriggerAddAction(cL,function Bag)
endfunction
function Bai takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (NL==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Baj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Z3)
endfunction
function Bak takes nothing returns nothing
set Z4=CreateTrigger()
call DisableTrigger(Z4)
call TriggerRegisterAnyUnitEventBJ(Z4,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z4,Condition(function Bai))
call TriggerAddAction(Z4,function Baj)
endfunction
function Bal takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bam takes nothing returns boolean
if not (Mt==4) then
return false
endif
return true
endfunction
function Ban takes nothing returns boolean
if not (Mt==3) then
return false
endif
return true
endfunction
function Bao takes nothing returns boolean
if not (Mt==2) then
return false
endif
return true
endfunction
function Bap takes nothing returns boolean
if not (Mt==1) then
return false
endif
return true
endfunction
function Baq takes nothing returns nothing
set Mt=GetRandomInt(1,4)
if Bap() then
set QE=GetRectCenter(CN)
else
if Bao() then
set QE=GetRectCenter(Et)
else
if Ban() then
set QE=GetRectCenter(GI)
else
if Bam() then
set QE=GetRectCenter(FT)
else
endif
endif
endif
endif
call CreateNUnitsAtLoc(1,$68303647,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
call RemoveLocation(QE)
endfunction
function Bar takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bas takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(Ir,function Baq)
call TriggerSleepAction(60.)
if Bar() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bat takes nothing returns nothing
set Z3=CreateTrigger()
call DisableTrigger(Z3)
call TriggerRegisterAnyUnitEventBJ(Z3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z3,Condition(function Bal))
call TriggerAddAction(Z3,function Bas)
endfunction
function Bau takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$75303054) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bav takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$75303032,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(QE)
endfunction
function Baw takes nothing returns nothing
set Z5=CreateTrigger()
call DisableTrigger(Z5)
call TriggerRegisterEnterRectSimple(Z5,GetPlayableMapRect())
call TriggerAddCondition(Z5,Condition(function Bau))
call TriggerAddAction(Z5,function Bav)
endfunction
function Bax takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bay takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Z8)
call EnableTrigger(Z7)
endfunction
function Baz takes nothing returns nothing
set Z7=CreateTrigger()
call DisableTrigger(Z7)
call TriggerRegisterAnyUnitEventBJ(Z7,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z7,Condition(function Bax))
call TriggerAddAction(Z7,function Bay)
endfunction
function Ba0 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Ba1 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Ba2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
call SetUnitInvulnerable(RH,true)
call SetUnitAnimationWithRarity(RH,"spell",RARITY_FREQUENT)
call AddSpecialEffectTargetUnitBJ("origin",RH,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Nb=true
set NG=0
call StartTimerBJ(NH,false,.1)
call TriggerSleepAction(5.)
set Nb=false
call ResetUnitAnimation(RH)
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,RH)
call TriggerSleepAction(60.)
if Ba1() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Ba3 takes nothing returns nothing
set Z6=CreateTrigger()
call DisableTrigger(Z6)
call TriggerRegisterAnyUnitEventBJ(Z6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z6,Condition(function Ba0))
call TriggerAddAction(Z6,function Ba2)
endfunction
function Ba4 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Ba5 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function Ba6 takes nothing returns nothing
if Ba5() then
call fD(RH,GetEnumUnit(),0)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function Ba7 takes nothing returns boolean
if not (NG<60) then
return false
endif
return true
endfunction
function Ba8 takes nothing returns nothing
set NG=NG+1
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,500.+50.*I2R(NG),500.+50.*I2R(NG))
set QI=GetRandomLocInRect(Rx)
set Tt=RectFromCenterSizeBJ(QI,150.,150.)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QI,"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Tt),function Ba6)
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call RemoveRect(Tt)
if Ba7() then
call StartTimerBJ(NH,false,.1)
else
endif
endfunction
function Ba9 takes nothing returns nothing
set Z8=CreateTrigger()
call DisableTrigger(Z8)
call TriggerRegisterTimerExpireEventBJ(Z8,NH)
call TriggerAddCondition(Z8,Condition(function Ba4))
call TriggerAddAction(Z8,function Ba8)
endfunction
function BbB takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
if not (NL==1) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BbC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(Z9)
call EnableTrigger(aC)
endfunction
function BbD takes nothing returns nothing
set aB=CreateTrigger()
call DisableTrigger(aB)
call TriggerRegisterAnyUnitEventBJ(aB,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aB,Condition(function BbB))
call TriggerAddAction(aB,function BbC)
endfunction
function BbE takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BbF takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function BbG takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"spell")
set Nb=true
call TriggerSleepAction(1.)
set Nb=false
call PauseUnitBJ(false,RH)
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
set Tq=PolarProjectionBJ(QE,2000.,AngleBetweenPoints(QE,QI))
call CreateNUnitsAtLoc(1,$68303648,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call SetUnitPathing(GetLastCreatedUnit(),false)
set bK=GetLastCreatedUnit()
call UnitApplyTimedLifeBJ(10.,$42466967,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"move",Tq)
call RemoveLocation(Tq)
call RemoveLocation(QE)
call RemoveLocation(QI)
call StartTimerBJ(NN,false,.8)
call TriggerSleepAction(25.)
if BbF() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BbH takes nothing returns nothing
set Z9=CreateTrigger()
call DisableTrigger(Z9)
call TriggerRegisterAnyUnitEventBJ(Z9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(Z9,Condition(function BbE))
call TriggerAddAction(Z9,function BbG)
endfunction
function BbI takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function BbJ takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (IsUnitAliveBJ(bK)==true) then
return false
endif
return true
endfunction
function BbK takes nothing returns nothing
if BbJ() then
set QE=GetUnitLoc(bK)
call CreateNUnitsAtLoc(1,$68303649,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call StartTimerBJ(NN,false,.8)
else
call KillUnit(bK)
endif
endfunction
function BbL takes nothing returns nothing
set aC=CreateTrigger()
call DisableTrigger(aC)
call TriggerRegisterTimerExpireEventBJ(aC,NN)
call TriggerAddCondition(aC,Condition(function BbI))
call TriggerAddAction(aC,function BbK)
endfunction
function BbM takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (NL==2) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BbN takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aD)
call EnableTrigger(aF)
endfunction
function BbO takes nothing returns nothing
set aE=CreateTrigger()
call DisableTrigger(aE)
call TriggerRegisterAnyUnitEventBJ(aE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aE,Condition(function BbM))
call TriggerAddAction(aE,function BbN)
endfunction
function BbP takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BbQ takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BbR takes nothing returns nothing
if BbQ() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call UnitDamageTargetBJ(RH,GetEnumUnit(),150.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function BbS takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BbT takes nothing returns nothing
if BbS() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function BbU takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BbV takes nothing returns nothing
if BbU() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function BbW takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BbX takes nothing returns nothing
if BbW() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function BbY takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function BbZ takes nothing returns nothing
if BbY() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function Bba takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function Bbb takes nothing returns nothing
if Bba() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function Bbc takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function Bbd takes nothing returns nothing
if Bbc() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fC(RH,GetEnumUnit(),0)
else
endif
endfunction
function Bbe takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bbf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set NR=0
set Nb=true
call PauseUnitBJ(true,RH)
call SetUnitFacingToFaceUnitTimed(RH,GetAttacker(),.3)
call SetUnitAnimation(RH,"spell")
set bq=GetUnitLoc(RH)
set QE=GetUnitLoc(GetAttacker())
set Nf=AngleBetweenPoints(bq,QE)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BbR)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.4)
call SetUnitAnimation(RH,"spell")
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BbT)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
call TriggerSleepAction(.4)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BbV)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
call TriggerSleepAction(.4)
call PauseUnitBJ(false,RH)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BbX)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QI)
call TriggerSleepAction(.4)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BbZ)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call TriggerSleepAction(.4)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bbb)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
call TriggerSleepAction(.4)
set NR=NR+200
set QI=PolarProjectionBJ(bq,I2R(NR),Nf)
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QI,200.,200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bbd)
call RemoveRect(Rx)
call CreateNUnitsAtLoc(1,$6830364A,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42466967,GetLastCreatedUnit())
set Nb=false
call PauseUnitBJ(false,RH)
call ResetUnitAnimation(RH)
call RemoveLocation(bq)
call TriggerSleepAction(40.)
if Bbe() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bbg takes nothing returns nothing
set aF=CreateTrigger()
call DisableTrigger(aF)
call TriggerRegisterAnyUnitEventBJ(aF,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aF,Condition(function BbP))
call TriggerAddAction(aF,function Bbf)
endfunction
function Bbh takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830364A) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bbi takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RH),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function Bbj takes nothing returns nothing
if Bbi() then
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fD(RH,GetEnumUnit(),0)
else
endif
endfunction
function Bbk takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bbj)
call CreateNUnitsAtLoc(1,$75303032,GetOwningPlayer(RH),QE,GetRandomDirectionDeg())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveRect(Rx)
call RemoveLocation(QE)
endfunction
function Bbl takes nothing returns nothing
set aD=CreateTrigger()
call DisableTrigger(aD)
call TriggerRegisterAnyUnitEventBJ(aD,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(aD,Condition(function Bbh))
call TriggerAddAction(aD,function Bbk)
endfunction
function Bbm takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
if not (NL==2) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bbn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPathing(RH,false)
endfunction
function Bbo takes nothing returns nothing
set aG=CreateTrigger()
call DisableTrigger(aG)
call TriggerRegisterAnyUnitEventBJ(aG,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aG,Condition(function Bbm))
call TriggerAddAction(aG,function Bbn)
endfunction
function Bbp takes nothing returns boolean
if not (GetKillingUnitBJ()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bbq takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function Bbr takes nothing returns nothing
if Bbq() then
call fH(RH,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,RH)/100*20)
else
call fH(RH,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,RH)/100*2)
endif
endfunction
function Bbs takes nothing returns nothing
set aH=CreateTrigger()
call DisableTrigger(aH)
call TriggerRegisterAnyUnitEventBJ(aH,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(aH,Condition(function Bbp))
call TriggerAddAction(aH,function Bbr)
endfunction
function Bbt takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (NL==0) then
return false
endif
return true
endfunction
function Bbu takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=70.) then
return false
endif
if not (NL==1) then
return false
endif
return true
endfunction
function Bbv takes nothing returns boolean
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
if not (NL==2) then
return false
endif
return true
endfunction
function Bbw takes nothing returns boolean
if Bbt() then
return true
endif
if Bbu() then
return true
endif
if Bbv() then
return true
endif
return false
endfunction
function Bbx takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bbw() then
return false
endif
if not (GetUnitTypeId(RH)==$6E303336) then
return false
endif
return true
endfunction
function Bby takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$41304835
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
endfunction
function Bbz takes nothing returns nothing
set aI=CreateTrigger()
call DisableTrigger(aI)
call TriggerRegisterAnyUnitEventBJ(aI,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aI,Condition(function Bbx))
call TriggerAddAction(aI,function Bby)
endfunction
function Bb0 takes nothing returns nothing
set QE=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$6830364C,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",br)
call RemoveLocation(QE)
call SetUnitLifePercentBJ(GetEnumUnit(),GetUnitLifePercent(GetEnumUnit())-50.)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Bb1 takes nothing returns nothing
set bc[10]=cJ
set NL=NL+1
set Rx=RectFromCenterSizeBJ(bc[10],400.,400.)
call AddSpecialEffectLocBJ(bc[10],"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QE=GetRandomLocInRect(Rx)
call AddSpecialEffectLocBJ(QE,"Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6830364B,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(300.,$42466967,GetLastCreatedUnit())
call RemoveLocation(QE)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveRect(Rx)
call TriggerSleepAction(5.)
call ForGroupBJ(Ir,function Bb0)
call TriggerSleepAction(4.)
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(3.)
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(2.)
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(.5)
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(bc[10],"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(2.)
call CreateNUnitsAtLoc(1,bF,Player(11),bc[10],GetRandomReal(0,1))
call AddSpecialEffectLocBJ(br,"Objects\\Spawnmodels\\NightElf\\NEDeathMedium\\NEDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set RH=GetLastCreatedUnit()
set Nb=false
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41304832
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function Bb2 takes nothing returns nothing
set cN=CreateTrigger()
call DisableTrigger(cN)
call TriggerAddAction(cN,function Bb1)
endfunction
function Bb3 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303336) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
return true
endfunction
function Bb4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set JE=0
set Kr=false
call ConditionalTriggerExecute(WS)
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49304659
set V6[2]=$49304658
set V6[3]=$4930465A
set V6[4]=$49304733
set V6[5]=$49304734
set MF=5
call ConditionalTriggerExecute(V3)
endfunction
function Bb5 takes nothing returns nothing
set cO=CreateTrigger()
call DisableTrigger(cO)
call TriggerRegisterAnyUnitEventBJ(cO,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cO,Condition(function Bb3))
call TriggerAddAction(cO,function Bb4)
endfunction
function Bb6 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303336) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
return true
endfunction
function Bb7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set cJ=GetUnitLoc(GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"Ух, ну теперь точно всё...",bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303336,"Смерть",GetRectCenter(GetPlayableMapRect()),null,"Не угадал, смертный... Я питаюсь убитыми вами же существами, чтобы восстанавливать своё тело.",bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"Тогда мы будем убивать тебя столько, сколько понадобится! ВИИИИИ! ОГОООООНЬ!",bj_TIMETYPE_SET,10.,false)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303336,"Смерть",GetRectCenter(GetPlayableMapRect()),null,"Подчинитесь Смерти! Всё обратится в прах! Примите свою судьбу и УМРИТЕ!",bj_TIMETYPE_SET,10.,false)
set NL=2
call ConditionalTriggerExecute(cN)
call TriggerSleepAction(2)
call EnableTrigger(cO)
endfunction
function Bb8 takes nothing returns nothing
set cP=CreateTrigger()
call DisableTrigger(cP)
call TriggerRegisterAnyUnitEventBJ(cP,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cP,Condition(function Bb6))
call TriggerAddAction(cP,function Bb7)
endfunction
function Bb9 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303336) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
return true
endfunction
function BcB takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set cJ=GetUnitLoc(GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"Сдохла?! Смерть сдохла?!",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303336,"Смерть",GetRectCenter(GetPlayableMapRect()),null,"Мхехехе... Понимаешь, как обсурдно это звучит?!",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GroupPickRandomUnit(Ir),"Гоблин",null,"Стреляйте! Стреляйте,она снова встает!",bj_TIMETYPE_SET,8.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303336,"Смерть",GetRectCenter(GetPlayableMapRect()),null,"До вас не доходит?.. НЕЛЬЗЯ... ПОБЕДИТЬ... СМЕРТЬ!",bj_TIMETYPE_SET,8.,true)
set NL=1
call EnableTrigger(cP)
call EnableTrigger(cN)
call ConditionalTriggerExecute(cN)
endfunction
function BcC takes nothing returns nothing
set cM=CreateTrigger()
call DisableTrigger(cM)
call TriggerRegisterAnyUnitEventBJ(cM,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cM,Condition(function Bb9))
call TriggerAddAction(cM,function BcB)
endfunction
function BcD takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49303954)==true) then
return false
endif
return true
endfunction
function BcE takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),$49303954))
call DisableTrigger(GetTriggeringTrigger())
call AddWeatherEffectSaveLast(DC,$4D456473)
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000ВНИМАНИЕ!!! Открывается Демонический портал - последний ваш шанс спастись из этой мясорубки! Защищайте портал до его открытия!|r")
call StartTimerBJ(KR,false,300.)
call CreateTimerDialogBJ(KR,"Портал")
set cQ=GetLastCreatedTimerDialogBJ()
call CreateNUnitsAtLoc(1,$68303253,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(DK),bj_UNIT_FACING)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),20.)
set KT=true
call EnableTrigger(cR)
call EnableTrigger(cS)
endfunction
function BcF takes nothing returns nothing
set Wb=CreateTrigger()
call DisableTrigger(Wb)
call TriggerRegisterEnterRectSimple(Wb,DC)
call TriggerAddCondition(Wb,Condition(function BcD))
call TriggerAddAction(Wb,function BcE)
endfunction
function BcG takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303253) then
return false
endif
return true
endfunction
function BcH takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call KillUnit(GetEnumUnit())
endfunction
function BcI takes nothing returns nothing
call PauseTimerBJ(true,KR)
set KT=false
call DisplayTextToForce(GetPlayersAll(),"|c00FF0000Портал уничтожен! Сила выпущенной энергии разрушила всю пещеру, уничтожив всех находящихся в ней...|r")
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function BcH)
endfunction
function BcJ takes nothing returns nothing
set cR=CreateTrigger()
call DisableTrigger(cR)
call TriggerRegisterAnyUnitEventBJ(cR,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cR,Condition(function BcG))
call TriggerAddAction(cR,function BcI)
endfunction
function BcK takes nothing returns boolean
if not (KT==true) then
return false
endif
return true
endfunction
function BcL takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())==$68303253
endfunction
function BcM takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BcN takes nothing returns boolean
return IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true
endfunction
function BcO takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function BcP takes nothing returns nothing
call DisableTrigger(cR)
call DisableTrigger(GetTriggeringTrigger())
call DestroyTimerDialog(cQ)
call PlayMusicBJ(j)
call SetMusicVolumeBJ(100.)
call ForGroupBJ(GetUnitsInRectMatching(DC,Condition(function BcL)),function BcM)
call ForGroupBJ(GetUnitsInRectMatching(EM,Condition(function BcN)),function BcO)
call AddSpecialEffectLocBJ(GetRectCenter(DK),"Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl")
call TransmissionFromUnitWithNameBJ(Os,SR,GetPlayerName(GetOwningPlayer(SR)),null,PE[9],bj_TIMETYPE_SET,6.,false)
call CreateNUnitsAtLoc(1,$6E303342,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(DK),bj_UNIT_FACING)
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
call EnableTrigger(aK)
call EnableTrigger(aN)
call EnableTrigger(aP)
call EnableTrigger(aQ)
call EnableTrigger(aT)
call EnableTrigger(aU)
call EnableTrigger(aJ)
call EnableTrigger(cT)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BcQ takes nothing returns nothing
set cS=CreateTrigger()
call DisableTrigger(cS)
call TriggerRegisterTimerExpireEventBJ(cS,KR)
call TriggerAddCondition(cS,Condition(function BcK))
call TriggerAddAction(cS,function BcP)
endfunction
function BcR takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=70.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BcS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aL)
call StartTimerBJ(NH,false,5.)
endfunction
function BcT takes nothing returns nothing
set aK=CreateTrigger()
call DisableTrigger(aK)
call TriggerRegisterAnyUnitEventBJ(aK,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aK,Condition(function BcR))
call TriggerAddAction(aK,function BcS)
endfunction
function BcU takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function BcV takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BcW takes nothing returns nothing
if BcV() then
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,600.,600.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6E303446,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(40.,$42544C46,GetLastCreatedUnit())
call SetUnitPathing(GetLastCreatedUnit(),false)
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call QueueUnitAnimationBJ(GetLastCreatedUnit(),"stand")
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call StartTimerBJ(NH,false,8.)
else
endif
endfunction
function BcX takes nothing returns nothing
set aL=CreateTrigger()
call DisableTrigger(aL)
call TriggerRegisterTimerExpireEventBJ(aL,NH)
call TriggerAddCondition(aL,Condition(function BcU))
call TriggerAddAction(aL,function BcW)
endfunction
function BcY takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=85.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function BcZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aM)
endfunction
function Bca takes nothing returns nothing
set aN=CreateTrigger()
call DisableTrigger(aN)
call TriggerRegisterAnyUnitEventBJ(aN,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aN,Condition(function BcY))
call TriggerAddAction(aN,function BcZ)
endfunction
function Bcb takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bcc takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bcd takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
call CreateNUnitsAtLoc(1,$6830364D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(8.)
if Bcc() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bce takes nothing returns nothing
set aM=CreateTrigger()
call DisableTrigger(aM)
call TriggerRegisterAnyUnitEventBJ(aM,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aM,Condition(function Bcb))
call TriggerAddAction(aM,function Bcd)
endfunction
function Bcf takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=50.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bcg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aO)
endfunction
function Bch takes nothing returns nothing
set aP=CreateTrigger()
call DisableTrigger(aP)
call TriggerRegisterAnyUnitEventBJ(aP,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aP,Condition(function Bcf))
call TriggerAddAction(aP,function Bcg)
endfunction
function Bci takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bcj takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bck takes nothing returns boolean
if not (RectContainsUnit(Rx,GetAttacker())==false) then
return false
endif
return true
endfunction
function Bcl takes nothing returns nothing
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,600.,600.)
if Bck() then
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$6830364E,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetAttacker())
call RemoveRect(Rx)
call RemoveLocation(QE)
call TriggerSleepAction(30.)
if Bcj() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
else
call RemoveRect(Rx)
call RemoveLocation(QE)
endif
endfunction
function Bcm takes nothing returns nothing
set aO=CreateTrigger()
call DisableTrigger(aO)
call TriggerRegisterAnyUnitEventBJ(aO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aO,Condition(function Bci))
call TriggerAddAction(aO,function Bcl)
endfunction
function Bcn takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=75.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bco takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aR)
endfunction
function Bcp takes nothing returns nothing
set aQ=CreateTrigger()
call DisableTrigger(aQ)
call TriggerRegisterAnyUnitEventBJ(aQ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aQ,Condition(function Bcn))
call TriggerAddAction(aQ,function Bco)
endfunction
function Bcq takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bcr takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bcs takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetAttacker())
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830364F,GetOwningPlayer(RH),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.,$42544C46,GetLastCreatedUnit())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call QueueUnitAnimationBJ(GetLastCreatedUnit(),"stand")
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call RemoveRect(Rx)
call TriggerSleepAction(40.)
if Bcr() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bct takes nothing returns nothing
set aR=CreateTrigger()
call DisableTrigger(aR)
call TriggerRegisterAnyUnitEventBJ(aR,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aR,Condition(function Bcq))
call TriggerAddAction(aR,function Bcs)
endfunction
function Bcu takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=30.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bcv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aS)
call StartTimerBJ(NN,false,18.)
endfunction
function Bcw takes nothing returns nothing
set aT=CreateTrigger()
call DisableTrigger(aT)
call TriggerRegisterAnyUnitEventBJ(aT,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aT,Condition(function Bcu))
call TriggerAddAction(aT,function Bcv)
endfunction
function Bcx takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bcy takes nothing returns nothing
set QE=GetUnitLoc(RH)
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+60.
set QI=PolarProjectionBJ(QE,500.,My)
call CreateNUnitsAtLoc(1,$6830364F,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(4.,$42544C46,GetLastCreatedUnit())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call QueueUnitAnimationBJ(GetLastCreatedUnit(),"stand")
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call StartTimerBJ(NN,false,18.)
endfunction
function Bcz takes nothing returns nothing
set aS=CreateTrigger()
call DisableTrigger(aS)
call TriggerRegisterTimerExpireEventBJ(aS,NN)
call TriggerAddCondition(aS,Condition(function Bcx))
call TriggerAddAction(aS,function Bcy)
endfunction
function Bc0 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830364F) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
return true
endfunction
function Bc1 takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$68303650,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endfunction
function Bc2 takes nothing returns nothing
set aJ=CreateTrigger()
call DisableTrigger(aJ)
call TriggerRegisterAnyUnitEventBJ(aJ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(aJ,Condition(function Bc0))
call TriggerAddAction(aJ,function Bc1)
endfunction
function Bc3 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RH) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303342) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bc4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[5]=$4130354F
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
endfunction
function Bc5 takes nothing returns nothing
set aU=CreateTrigger()
call DisableTrigger(aU)
call TriggerRegisterAnyUnitEventBJ(aU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aU,Condition(function Bc3))
call TriggerAddAction(aU,function Bc4)
endfunction
function Bc6 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303342) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function Bc7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set QE=GetUnitLoc(GetTriggerUnit())
call CreateItemLoc($49304737,QE)
call RemoveLocation(QE)
call e5(GetLastCreatedItem(),GetUnitLoc(GetTriggerUnit()))
endfunction
function Bc8 takes nothing returns nothing
set cT=CreateTrigger()
call DisableTrigger(cT)
call TriggerRegisterAnyUnitEventBJ(cT,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cT,Condition(function Bc6))
call TriggerAddAction(cT,function Bc7)
endfunction
function Bc9 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303057) then
return false
endif
return true
endfunction
function BdB takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,WH[GetRandomInt(1,64)],Player(10),QE,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),0.,50.,0.,10.)
call RemoveLocation(QE)
endfunction
function BdC takes nothing returns nothing
set Wd=CreateTrigger()
call DisableTrigger(Wd)
call TriggerRegisterEnterRectSimple(Wd,GetPlayableMapRect())
call TriggerAddCondition(Wd,Condition(function Bc9))
call TriggerAddAction(Wd,function BdB)
endfunction
function BdD takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$65303058) then
return false
endif
return true
endfunction
function BdE takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,WI[GetRandomInt(1,64)],Player(10),QE,bj_UNIT_FACING)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),0.,50.,0.,10.)
call RemoveLocation(QE)
endfunction
function BdF takes nothing returns nothing
set Wf=CreateTrigger()
call DisableTrigger(Wf)
call TriggerRegisterEnterRectSimple(Wf,GetPlayableMapRect())
call TriggerAddCondition(Wf,Condition(function BdD))
call TriggerAddAction(Wf,function BdE)
endfunction
function BdG takes nothing returns boolean
if not (NT==true) then
return false
endif
return true
endfunction
function BdH takes nothing returns nothing
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
set Rx=RectFromCenterSizeBJ(QE,800.,800.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$6830354E,Player(11),QI,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveRect(Rx)
call RemoveLocation(QE)
call RemoveLocation(QI)
if BdG() then
call StartTimerBJ(NU,false,GetRandomReal(.5,3.))
else
call DisableTrigger(Wc)
call DisableTrigger(Wd)
call DisableTrigger(We)
call DisableTrigger(Wf)
endif
endfunction
function BdI takes nothing returns nothing
set We=CreateTrigger()
call DisableTrigger(We)
call TriggerRegisterTimerExpireEventBJ(We,NU)
call TriggerAddAction(We,function BdH)
endfunction
function BdJ takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6830354E) then
return false
endif
return true
endfunction
function BdK takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,300.,300.)
call CreateNUnitsAtLoc(1,$6830354F,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.3,$42544C46,GetLastCreatedUnit())
call CreateNUnitsAtLoc(1,$68303550,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.3,$42544C46,GetLastCreatedUnit())
call fG(GetLastCreatedUnit(),QE,200,0,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call RemoveRect(Rx)
call RemoveLocation(QE)
endfunction
function BdL takes nothing returns nothing
set Wc=CreateTrigger()
call DisableTrigger(Wc)
call TriggerRegisterAnyUnitEventBJ(Wc,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(Wc,Condition(function BdJ))
call TriggerAddAction(Wc,function BdK)
endfunction
function BdM takes nothing returns boolean
if not (NW==true) then
return false
endif
return true
endfunction
function BdN takes nothing returns nothing
set bm=bF
call TriggerSleepAction(5.)
if BdM() then
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303634,"Дежавина",GetRectCenter(GetPlayableMapRect()),null,"Настало время положить этому конец! Вы... Стойте. Я чувствую зацикленность временных потоков. Этот разговор уже состоялся ранее. Вы... Не может быть!",bj_TIMETYPE_SET,5.,true)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303634,"Дежавина",GetRectCenter(GetPlayableMapRect()),null,"ВЫ, ИДИОТЫ, ЗАЦИКЛИЛИ ВРЕМЯ, ЧТОБЫ ПОВТОРНО РАЗ ЗА РАЗОМ МЕНЯТЬ ИСТОРИЮ!? В который раз вы уже меняете ход времени? Вы понимаете, к чему это ведет?!",bj_TIMETYPE_SET,5.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"К целой горе лута и блестящих шмоток! УИИИИИИ!",bj_TIMETYPE_SET,2.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"ЕЕЕЕЕЕ! ШМОТКИ!",bj_TIMETYPE_SET,2.,true)
set bF=$6E303635
else
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303634,"Дежавина",GetRectCenter(GetPlayableMapRect()),null,"Настало время положить этому конец! Выметайтесь из прошлого, проклятые вредители! Я не позволю Вам менять историю мироздания ради собственного развлечения!",bj_TIMETYPE_SET,4.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"Я ВСЁ ЕЩЁ НИЧЕГО НЕ ПОНИМАЮ, ААААААААААА!",bj_TIMETYPE_SET,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Мы же никому не мешаем! Просто отправились в прошлое, чтобы забрать чертежи гномов в момент их написания. Ну что может пойти не так?",bj_TIMETYPE_SET,3.,true)
set bF=$6E303634
endif
call ConditionalTriggerExecute(cU)
endfunction
function BdO takes nothing returns nothing
set Wu=CreateTrigger()
call TriggerAddAction(Wu,function BdN)
endfunction
function BdP takes nothing returns boolean
if not (Kr==false) then
return false
endif
return true
endfunction
function BdQ takes nothing returns boolean
if not (NW==false) then
return false
endif
return true
endfunction
function BdR takes nothing returns nothing
set Ix=GetRandomInt(1,5)
set K1=true
set Wg=GetRandomLocInRect(WK[GetRandomInt(1,11)])
call CreateNUnitsAtLoc(1,bF,Ly,Wg,bj_UNIT_FACING)
call RemoveLocation(Wg)
set Kr=true
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
if BdQ() then
set bH[4]=$41314C55
else
set bH[4]=$41314C56
endif
call EnableTrigger(aX)
call EnableTrigger(aZ)
call EnableTrigger(ac)
call EnableTrigger(af)
call EnableTrigger(cV)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function BdS takes nothing returns nothing
set cU=CreateTrigger()
call DisableTrigger(cU)
call TriggerAddCondition(cU,Condition(function BdP))
call TriggerAddAction(cU,function BdR)
endfunction
function BdT takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303634 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303635 then
return true
endif
return false
endfunction
function BdU takes nothing returns boolean
if not BdT() then
return false
endif
return true
endfunction
function BdV takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetTriggerUnit())
call RemoveLocation(QE)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$4930324D
set MF=1
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function BdW takes nothing returns nothing
set cV=CreateTrigger()
call DisableTrigger(cV)
call TriggerRegisterAnyUnitEventBJ(cV,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cV,Condition(function BdU))
call TriggerAddAction(cV,function BdV)
endfunction
function BdX takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BdY takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=95.) then
return false
endif
if not BdX() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BdZ takes nothing returns boolean
if not (NW==false) then
return false
endif
return true
endfunction
function Bda takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if BdZ() then
call EnableTrigger(aV)
else
call EnableTrigger(aW)
endif
endfunction
function Bdb takes nothing returns nothing
set aX=CreateTrigger()
call DisableTrigger(aX)
call TriggerRegisterAnyUnitEventBJ(aX,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aX,Condition(function BdY))
call TriggerAddAction(aX,function Bda)
endfunction
function Bdc takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdd takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bdc() then
return false
endif
return true
endfunction
function Bde takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdf takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bde() then
return false
endif
return true
endfunction
function Bdg takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GroupPickRandomUnit(Ir))
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitPositionLoc(RH,QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(10.)
if Bdf() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bdh takes nothing returns nothing
set aV=CreateTrigger()
call DisableTrigger(aV)
call TriggerRegisterAnyUnitEventBJ(aV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aV,Condition(function Bdd))
call TriggerAddAction(aV,function Bdg)
endfunction
function Bdi takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdj takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bdi() then
return false
endif
return true
endfunction
function Bdk takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdl takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bdk() then
return false
endif
return true
endfunction
function Bdm takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddSpecialEffectTargetUnitBJ("overhead",GetAttacker(),"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fO(GetAttacker(),RH,4)
call TriggerSleepAction(10.)
if Bdl() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bdn takes nothing returns nothing
set aW=CreateTrigger()
call DisableTrigger(aW)
call TriggerRegisterAnyUnitEventBJ(aW,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aW,Condition(function Bdj))
call TriggerAddAction(aW,function Bdm)
endfunction
function Bdo takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdp takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not Bdo() then
return false
endif
return true
endfunction
function Bdq takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(aY)
endfunction
function Bdr takes nothing returns nothing
set aZ=CreateTrigger()
call DisableTrigger(aZ)
call TriggerRegisterAnyUnitEventBJ(aZ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aZ,Condition(function Bdp))
call TriggerAddAction(aZ,function Bdq)
endfunction
function Bds takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bdt takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bds() then
return false
endif
return true
endfunction
function Bdu takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
return true
endfunction
function Bdv takes nothing returns nothing
if Bdu() then
call PauseUnitBJ(true,GetEnumUnit())
call fC(RH,GetEnumUnit(),0)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function Bdw takes nothing returns boolean
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
return true
endfunction
function Bdx takes nothing returns nothing
if Bdw() then
call PauseUnitBJ(true,GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),0.)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function Bdy takes nothing returns boolean
if not (NW==false) then
return false
endif
return true
endfunction
function Bdz takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
call SetUnitTimeScalePercent(GetEnumUnit(),100.)
endfunction
function Bd0 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bd1 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bd0() then
return false
endif
return true
endfunction
function Bd2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nb=true
call PauseUnitBJ(true,RH)
call SetUnitInvulnerable(RH,true)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(3.)
if Bdy() then
call ForGroupBJ(Ir,function Bdx)
else
call ForGroupBJ(Ir,function Bdv)
endif
call SetUnitInvulnerable(RH,false)
call PauseUnitBJ(false,RH)
call ResetUnitAnimation(RH)
set Nb=false
call TriggerSleepAction(6.)
call ForGroupBJ(Ir,function Bdz)
call TriggerSleepAction(60.)
if Bd1() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bd3 takes nothing returns nothing
set aY=CreateTrigger()
call DisableTrigger(aY)
call TriggerRegisterAnyUnitEventBJ(aY,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aY,Condition(function Bdt))
call TriggerAddAction(aY,function Bd2)
endfunction
function Bd4 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bd5 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bd4() then
return false
endif
return true
endfunction
function Bd6 takes nothing returns boolean
if not (NW==false) then
return false
endif
return true
endfunction
function Bd7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if Bd6() then
call EnableTrigger(aa)
else
call EnableTrigger(ab)
endif
endfunction
function Bd8 takes nothing returns nothing
set ac=CreateTrigger()
call DisableTrigger(ac)
call TriggerRegisterAnyUnitEventBJ(ac,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ac,Condition(function Bd5))
call TriggerAddAction(ac,function Bd7)
endfunction
function Bd9 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeB takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not Bd9() then
return false
endif
return true
endfunction
function BeC takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
endfunction
function BeD takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeE takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BeD() then
return false
endif
return true
endfunction
function BeF takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nb=true
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"channel")
call TriggerSleepAction(2.)
call SetUnitAnimation(RH,"attack")
set Nf=GetRandomDirectionDeg()
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304C,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call PauseUnitBJ(false,RH)
set Nb=false
call TriggerSleepAction(6.)
call ForGroupBJ(Ir,function BeC)
call TriggerSleepAction(45.)
if BeE() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BeG takes nothing returns nothing
set aa=CreateTrigger()
call DisableTrigger(aa)
call TriggerRegisterAnyUnitEventBJ(aa,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aa,Condition(function BeB))
call TriggerAddAction(aa,function BeF)
endfunction
function BeH takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeI takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not BeH() then
return false
endif
return true
endfunction
function BeJ takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
endfunction
function BeK takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeL takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BeK() then
return false
endif
return true
endfunction
function BeM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nb=true
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"channel")
call TriggerSleepAction(2.)
call SetUnitAnimation(RH,"attack")
set Nf=GetRandomDirectionDeg()
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\AncestralSpirit\\AncestralSpiritCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(.3)
call SetUnitAnimation(RH,"attack")
set Nf=45.+Nf
set QE=GetUnitLoc(RH)
set QI=PolarProjectionBJ(QE,256,Nf)
call CreateNUnitsAtLoc(1,$6530304D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitAddAbilityBJ($41363932,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"breathoffire",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call PauseUnitBJ(false,RH)
set Nb=false
call TriggerSleepAction(6.)
call ForGroupBJ(Ir,function BeJ)
call TriggerSleepAction(45.)
if BeL() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BeN takes nothing returns nothing
set ab=CreateTrigger()
call DisableTrigger(ab)
call TriggerRegisterAnyUnitEventBJ(ab,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ab,Condition(function BeI))
call TriggerAddAction(ab,function BeM)
endfunction
function BeO takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeP takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=40.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not BeO() then
return false
endif
return true
endfunction
function BeQ takes nothing returns boolean
if not (NW==false) then
return false
endif
return true
endfunction
function BeR takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if BeQ() then
set bH[5]=$41363934
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
else
set bH[5]=$41314C54
call UnitAddAbilityBJ(bH[5],RH)
call SetUnitAbilityLevelSwapped(bH[5],RH,Iu/10)
endif
call EnableTrigger(ad)
call EnableTrigger(ae)
call EnableTrigger(ag)
endfunction
function BeS takes nothing returns nothing
set af=CreateTrigger()
call DisableTrigger(af)
call TriggerRegisterAnyUnitEventBJ(af,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(af,Condition(function BeP))
call TriggerAddAction(af,function BeR)
endfunction
function BeT takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeU takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not BeT() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BeV takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function BeW takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BeV() then
return false
endif
return true
endfunction
function BeX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrder(RH,"cripple",GetAttacker())
call TriggerSleepAction(5.)
if BeW() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BeY takes nothing returns nothing
set ad=CreateTrigger()
call DisableTrigger(ad)
call TriggerRegisterAnyUnitEventBJ(ad,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ad,Condition(function BeU))
call TriggerAddAction(ad,function BeX)
endfunction
function BeZ takes nothing returns boolean
if GetSpellAbilityId()==$41363934 then
return true
endif
if GetSpellAbilityId()==$41314C54 then
return true
endif
return false
endfunction
function Bea takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Beb takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not BeZ() then
return false
endif
if not Bea() then
return false
endif
return true
endfunction
function Bec takes nothing returns nothing
set Tv=GetSpellTargetUnit()
set bq=GetUnitLoc(Tv)
call StartTimerBJ(NN,false,2.)
endfunction
function Bed takes nothing returns nothing
set ae=CreateTrigger()
call DisableTrigger(ae)
call TriggerRegisterAnyUnitEventBJ(ae,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(ae,Condition(function Beb))
call TriggerAddAction(ae,function Bec)
endfunction
function Bee takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303634 then
return true
endif
if GetUnitTypeId(RH)==$6E303635 then
return true
endif
return false
endfunction
function Bef takes nothing returns boolean
if not Bee() then
return false
endif
return true
endfunction
function Beg takes nothing returns boolean
if not (DistanceBetweenPoints(bq,QE)>=50.) then
return false
endif
return true
endfunction
function Beh takes nothing returns boolean
if not (UnitHasBuffBJ(Tv,$42303634)==true) then
return false
endif
return true
endfunction
function Bei takes nothing returns nothing
if Beh() then
set QE=GetUnitLoc(Tv)
if Beg() then
call SetUnitPositionLoc(Tv,bq)
call AddSpecialEffectLocBJ(bq,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
call RemoveLocation(QE)
call StartTimerBJ(NN,false,1.)
else
call RemoveLocation(bq)
endif
endfunction
function Bej takes nothing returns nothing
set ag=CreateTrigger()
call DisableTrigger(ag)
call TriggerRegisterTimerExpireEventBJ(ag,NN)
call TriggerAddCondition(ag,Condition(function Bef))
call TriggerAddAction(ag,function Bei)
endfunction
function Bek takes nothing returns nothing
set bm=bF
set bF=$6E303643
call TriggerSleepAction(5.)
call fn()
endfunction
function Bel takes nothing returns nothing
set Wv=CreateTrigger()
call TriggerAddAction(Wv,function Bek)
endfunction
function Bem takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303643) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
if not (IsUnitIllusionBJ(GetTriggerUnit())==false) then
return false
endif
return true
endfunction
function Ben takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$4930324E
set MF=1
call ConditionalTriggerExecute(V3)
call ConditionalTriggerExecute(W6)
endfunction
function Beo takes nothing returns nothing
set cX=CreateTrigger()
call DisableTrigger(cX)
call TriggerRegisterAnyUnitEventBJ(cX,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cX,Condition(function Bem))
call TriggerAddAction(cX,function Ben)
endfunction
function Bep takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303643) then
return false
endif
return true
endfunction
function Beq takes nothing returns boolean
if not (NL==5) then
return false
endif
return true
endfunction
function Ber takes nothing returns boolean
if not (NL==4) then
return false
endif
return true
endfunction
function Bes takes nothing returns boolean
if not (NL==3) then
return false
endif
return true
endfunction
function Bet takes nothing returns boolean
if not (NL==2) then
return false
endif
return true
endfunction
function Beu takes nothing returns boolean
if not (NL==1) then
return false
endif
return true
endfunction
function Bev takes nothing returns nothing
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"slam")
call ConditionalTriggerExecute(ai)
set L8=GetRandomInt(1,5)
set NL=L8
call CreateNUnitsAtLoc(1,$68303845,GetOwningPlayer(RH),GetRectCenter(GetPlayableMapRect()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call SetUnitVertexColorBJ(WV[NL],100,80.,80.,0.)
if Beu() then
call TriggerSleepAction(1.5)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(3.)
call SetUnitAnimation(RH,"slam")
call TriggerSleepAction(1.5)
call fp()
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
else
if Bet() then
call TriggerSleepAction(2.)
set Tv=GroupPickRandomUnit(Ir)
call AddSpecialEffectTargetUnitBJ("overhead",Tv,"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl")
set W8=GetLastCreatedEffectBJ()
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(3.)
call DestroyEffect(W8)
call AddSpecialEffectTargetUnitBJ("origin",Tv,"Objects\\Spawnmodels\\Undead\\UDeathSmall\\UDeathSmall.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitAnimation(RH,"slam")
call fD(RH,Tv,0)
call TriggerSleepAction(1.5)
call fq()
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
else
if Bes() then
call TriggerSleepAction(1.5)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(3.)
call SetUnitAnimation(RH,"slam")
call TriggerSleepAction(1.5)
call fr()
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
else
if Ber() then
call TriggerSleepAction(1.5)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(3.)
call SetUnitAnimation(RH,"slam")
call TriggerSleepAction(1.5)
call fs()
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
else
if Beq() then
call TriggerSleepAction(1.5)
call SetUnitAnimationWithRarity(RH,"channel",RARITY_FREQUENT)
call TriggerSleepAction(3.)
call SetUnitAnimation(RH,"slam")
call TriggerSleepAction(1.5)
call ft()
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
set bH[1]=$41314B53
set bH[2]=$41314B54
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(WX)
call AddUnitAnimationPropertiesBJ(true,"defend",RH)
else
endif
endif
endif
endif
endif
call StartTimerBJ(NH,false,25.)
endfunction
function Bew takes nothing returns nothing
set ah=CreateTrigger()
call DisableTrigger(ah)
call TriggerRegisterTimerExpireEventBJ(ah,NH)
call TriggerAddCondition(ah,Condition(function Bep))
call TriggerAddAction(ah,function Bev)
endfunction
function Bex takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303643) then
return false
endif
return true
endfunction
function Bey takes nothing returns nothing
call DestroyEffect(WT[1])
call DestroyEffect(WT[2])
call DestroyEffect(WT[3])
call DestroyEffect(WT[4])
call DestroyEffect(WT[5])
call TriggerSleepAction(.1)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(WW[GetForLoopIndexA()],"Doodads\\Cinematic\\TownBurningFireEmitter\\TownBurningFireEmitter.mdl")
set WT[GetForLoopIndexA()]=GetLastCreatedEffectBJ()
call SetUnitVertexColorBJ(WV[GetForLoopIndexA()],100,0.,0.,50.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set NL=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitRemoveAbilityBJ(bH[GetForLoopIndexA()],RH)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisableTrigger(WX)
call AddUnitAnimationPropertiesBJ(false,"defend",RH)
endfunction
function Bez takes nothing returns nothing
set ai=CreateTrigger()
call DisableTrigger(ai)
call TriggerAddCondition(ai,Condition(function Bex))
call TriggerAddAction(ai,function Bey)
endfunction
function Be0 takes nothing returns boolean
if not (UnitHasBuffBJ(GetTriggerUnit(),$42303546)==true) then
return false
endif
return true
endfunction
function Be1 takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6864756D,Player(11),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
set bK=GetLastCreatedUnit()
call UnitAddAbilityBJ($41314449,bK)
call IssuePointOrderLoc(GetLastCreatedUnit(),"silence",QE)
call RemoveLocation(QE)
call fD(RH,GetTriggerUnit(),0)
endfunction
function Be2 takes nothing returns nothing
set WX=CreateTrigger()
call DisableTrigger(WX)
call TriggerRegisterAnyUnitEventBJ(WX,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(WX,Condition(function Be0))
call TriggerAddAction(WX,function Be1)
endfunction
function Be3 takes nothing returns boolean
if not (Kr==false) then
return false
endif
return true
endfunction
function Be4 takes nothing returns nothing
set bF=$6E303641
call PlaySoundBJ(By)
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(cY)
set PF=true
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303641,"Пилот Разрушителя",GetRectCenter(GetPlayableMapRect()),null,"Самоходный Разрушитель Клана Железных Кулаков прибыл! Нарушителям конец! Вкусите мощь чуда гномьей инжеенерии!",bj_TIMETYPE_SET,10.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"О, инженерия! Я в этом шарю, ребята!",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"Пора раскрутить пару механизмов на запчасти!",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"А я слышал про этот Самоходный Разрушитель! Отличная была штука... Поговаривают, что она сгинула где-то в болотах.",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Но в этой временной линии этот Разрушитель будет нашим! Я хочу его пушку!",bj_TIMETYPE_SET,8.,false)
endfunction
function Be5 takes nothing returns nothing
set Ww=CreateTrigger()
call TriggerAddCondition(Ww,Condition(function Be3))
call TriggerAddAction(Ww,function Be4)
endfunction
function Be6 takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function Be7 takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function Be8 takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function Be9 takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function BfB takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function BfC takes nothing returns nothing
set Ix=GetRandomInt(1,6)
set K1=true
if BfB() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
else
if Be9() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
else
if Be8() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
else
if Be7() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cm),bj_UNIT_FACING)
else
if Be6() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cn),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
call StartTimerBJ(NH,false,GetRandomReal(1.,5.))
call StartTimerBJ(NN,false,3.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(aw)
call EnableTrigger(ax)
call EnableTrigger(av)
call EnableTrigger(aj)
call EnableTrigger(am)
call EnableTrigger(ap)
call EnableTrigger(as)
call EnableTrigger(au)
call EnableTrigger(cZ)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BfD takes nothing returns nothing
set cY=CreateTrigger()
call DisableTrigger(cY)
call TriggerAddAction(cY,function BfC)
endfunction
function BfE takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=70.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BfF takes nothing returns nothing
set NL=1
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BfG takes nothing returns nothing
set aw=CreateTrigger()
call DisableTrigger(aw)
call TriggerRegisterAnyUnitEventBJ(aw,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aw,Condition(function BfE))
call TriggerAddAction(aw,function BfF)
endfunction
function BfH takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BfI takes nothing returns nothing
set NL=2
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BfJ takes nothing returns nothing
set ax=CreateTrigger()
call DisableTrigger(ax)
call TriggerRegisterAnyUnitEventBJ(ax,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ax,Condition(function BfH))
call TriggerAddAction(ax,function BfI)
endfunction
function BfK takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BfL takes nothing returns boolean
if not (Na==true) then
return false
endif
return true
endfunction
function BfM takes nothing returns nothing
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
set QI=PolarProjectionBJ(QE,GetRandomReal(400.,800.),GetRandomDirectionDeg())
call IssuePointOrderLoc(RH,"move",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
if BfL() then
call StartTimerBJ(NH,false,GetRandomReal(1.,2.))
else
call StartTimerBJ(NH,false,GetRandomReal(1.,5.))
endif
endfunction
function BfN takes nothing returns nothing
set av=CreateTrigger()
call DisableTrigger(av)
call TriggerRegisterTimerExpireEventBJ(av,NH)
call TriggerAddCondition(av,Condition(function BfK))
call TriggerAddAction(av,function BfM)
endfunction
function BfO takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BfQ takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)<=2000.) then
return false
endif
return true
endfunction
function BfR takes nothing returns nothing
set QE=GetUnitLoc(GetEnumUnit())
set QI=GetUnitLoc(RH)
if BfQ() then
call GroupAddUnitSimple(GetEnumUnit(),NM)
else
endif
call RemoveLocation(QE)
call RemoveLocation(QI)
endfunction
function BfS takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(NM)==false) then
return false
endif
return true
endfunction
function BfT takes nothing returns boolean
if not (NL==1) then
return false
endif
return true
endfunction
function BfU takes nothing returns boolean
if not (NL==2) then
return false
endif
return true
endfunction
function BfV takes nothing returns boolean
if not (NR==6) then
return false
endif
return true
endfunction
function BfW takes nothing returns boolean
if not (NR==5) then
return false
endif
return true
endfunction
function BfX takes nothing returns boolean
if not (NR==4) then
return false
endif
return true
endfunction
function BfY takes nothing returns boolean
if not (NR==3) then
return false
endif
return true
endfunction
function BfZ takes nothing returns boolean
if not (NR==2) then
return false
endif
return true
endfunction
function Bfa takes nothing returns boolean
if not (NR==1) then
return false
endif
return true
endfunction
function Bfb takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(NM)==false) then
return false
endif
return true
endfunction
function Bfc takes nothing returns boolean
if not (Na==true) then
return false
endif
return true
endfunction
function Bfd takes nothing returns boolean
if not (NR==6) then
return false
endif
return true
endfunction
function Bfe takes nothing returns boolean
if not (NR==5) then
return false
endif
return true
endfunction
function Bff takes nothing returns boolean
if not (NR==4) then
return false
endif
return true
endfunction
function Bfg takes nothing returns boolean
if not (NR==3) then
return false
endif
return true
endfunction
function Bfh takes nothing returns boolean
if not (NR==2) then
return false
endif
return true
endfunction
function Bfi takes nothing returns boolean
if not (NR==1) then
return false
endif
return true
endfunction
function Bfj takes nothing returns boolean
if not (IsUnitGroupEmptyBJ(NM)==false) then
return false
endif
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bfk takes nothing returns boolean
if not (Nb==false) then
return false
endif
return true
endfunction
function Bfl takes nothing returns boolean
if not (Na==true) then
return false
endif
return true
endfunction
function Bfm takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bfn takes nothing returns nothing
if Bfk() then
set Nb=true
set NR=0
call GroupClear(NM)
call ForGroupBJ(Ir,function BfR)
if BfS() then
set bJ=GetUnitLoc(GroupPickRandomUnit(NM))
call CreateNUnitsAtLoc(1,$68303630,Player(11),bJ,bj_UNIT_FACING)
set XB[1]=GetLastCreatedUnit()
call SetUnitLookAt(RH,"bone_head",XB[1],0,0,90)
else
endif
if BfU() then
set NR=GetRandomInt(1,6)
else
if BfT() then
set NR=GetRandomInt(1,5)
else
set NR=GetRandomInt(1,4)
endif
endif
if Bfb() then
if Bfa() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl")
set W8=GetLastCreatedEffectBJ()
else
if BfZ() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
set W8=GetLastCreatedEffectBJ()
else
if BfY() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl")
set W8=GetLastCreatedEffectBJ()
else
if BfX() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
set W8=GetLastCreatedEffectBJ()
else
if BfW() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Weapons\\GreenDragonMissile\\GreenDragonMissile.mdl")
set W8=GetLastCreatedEffectBJ()
else
if BfV() then
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Units\\Creeps\\HeroTinkerFactory\\HeroTinkerFactoryMissle.mdl")
set W8=GetLastCreatedEffectBJ()
else
endif
endif
endif
endif
endif
endif
else
endif
if Bfc() then
call TriggerSleepAction(1.)
else
call TriggerSleepAction(2.)
endif
if Bfj() then
set QE=GetUnitLoc(RH)
if Bfi() then
call CreateNUnitsAtLoc(1,$68303555,Player(11),QE,bj_UNIT_FACING)
else
if Bfh() then
call CreateNUnitsAtLoc(1,$68303556,Player(11),QE,bj_UNIT_FACING)
else
if Bfg() then
call CreateNUnitsAtLoc(1,$68303557,Player(11),QE,bj_UNIT_FACING)
else
if Bff() then
call CreateNUnitsAtLoc(1,$68303558,Player(11),QE,bj_UNIT_FACING)
else
if Bfe() then
call CreateNUnitsAtLoc(1,$68303559,Player(11),QE,bj_UNIT_FACING)
else
if Bfd() then
call CreateNUnitsAtLoc(1,$6830355A,Player(11),QE,bj_UNIT_FACING)
else
endif
endif
endif
endif
endif
endif
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",bJ)
call DestroyEffect(W8)
call RemoveUnit(XB[1])
call RemoveLocation(bJ)
set Nb=false
else
call DestroyEffect(W8)
call RemoveUnit(XB[1])
call RemoveLocation(bJ)
set Nb=false
endif
else
endif
if Bfm() then
if Bfl() then
call StartTimerBJ(NN,false,1.5)
else
call StartTimerBJ(NN,false,3.)
endif
else
endif
endfunction
function Bfo takes nothing returns nothing
set aj=CreateTrigger()
call DisableTrigger(aj)
call TriggerRegisterTimerExpireEventBJ(aj,NN)
call TriggerAddCondition(aj,Condition(function BfO))
call TriggerAddAction(aj,function Bfn)
endfunction
function Bfp takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (GetUnitLifePercent(RH)<=65.) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bfq takes nothing returns nothing
call EnableTrigger(ak)
call EnableTrigger(al)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bfr takes nothing returns nothing
set am=CreateTrigger()
call DisableTrigger(am)
call TriggerRegisterAnyUnitEventBJ(am,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(am,Condition(function Bfp))
call TriggerAddAction(am,function Bfq)
endfunction
function Bfs takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bft takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function Bfu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseTimerBJ(true,NH)
call IssueImmediateOrder(RH,"berserk")
set Na=true
call ConditionalTriggerExecute(av)
call TriggerSleepAction(12.)
set Na=false
call TriggerSleepAction(18.)
if Bft() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bfv takes nothing returns nothing
set ak=CreateTrigger()
call DisableTrigger(ak)
call TriggerRegisterAnyUnitEventBJ(ak,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ak,Condition(function Bfs))
call TriggerAddAction(ak,function Bfu)
endfunction
function Bfw takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303652) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function Bfx takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(GetTriggerUnit()))==true) then
return false
endif
return true
endfunction
function Bfy takes nothing returns nothing
if Bfx() then
set Mt=R2I(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit()))/2
call e8(GetEnumUnit(),GetTriggerUnit(),Mt)
else
endif
endfunction
function Bfz takes nothing returns nothing
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set QE=GetUnitLoc(GetTriggerUnit())
set Rx=RectFromCenterSizeBJ(QE,250.,250.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bfy)
call RemoveRect(Rx)
call RemoveLocation(QE)
endfunction
function Bf0 takes nothing returns nothing
set al=CreateTrigger()
call DisableTrigger(al)
call TriggerRegisterAnyUnitEventBJ(al,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(al,Condition(function Bfw))
call TriggerAddAction(al,function Bfz)
endfunction
function Bf1 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bf2 takes nothing returns nothing
call EnableTrigger(an)
call EnableTrigger(ao)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bf3 takes nothing returns nothing
set ap=CreateTrigger()
call DisableTrigger(ap)
call TriggerRegisterAnyUnitEventBJ(ap,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ap,Condition(function Bf1))
call TriggerAddAction(ap,function Bf2)
endfunction
function Bf4 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (Nb==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bf5 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bf6 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bf7 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function Bf8 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RH)
call SetUnitAnimationWithRarity(RH,"ready",RARITY_FREQUENT)
set Nb=true
call TriggerSleepAction(2.)
if Bf5() then
set QE=GetUnitLoc(RH)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=PolarProjectionBJ(QE,256,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303552,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call SetUnitAnimation(RH,"attack")
else
endif
call TriggerSleepAction(2.)
if Bf6() then
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,GetTriggerUnit())
set Nb=false
call ConditionalTriggerExecute(av)
else
endif
call TriggerSleepAction(30.)
if Bf7() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bf9 takes nothing returns nothing
set an=CreateTrigger()
call DisableTrigger(an)
call TriggerRegisterAnyUnitEventBJ(an,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(an,Condition(function Bf4))
call TriggerAddAction(an,function Bf8)
endfunction
function BgB takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303551) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BgC takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6F303036,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endfunction
function BgD takes nothing returns nothing
set ao=CreateTrigger()
call DisableTrigger(ao)
call TriggerRegisterEnterRectSimple(ao,GetPlayableMapRect())
call TriggerAddCondition(ao,Condition(function BgB))
call TriggerAddAction(ao,function BgC)
endfunction
function BgE takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BgF takes nothing returns nothing
call EnableTrigger(aq)
call EnableTrigger(ar)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BgG takes nothing returns nothing
set as=CreateTrigger()
call DisableTrigger(as)
call TriggerRegisterAnyUnitEventBJ(as,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(as,Condition(function BgE))
call TriggerAddAction(as,function BgF)
endfunction
function BgH takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BgJ takes nothing returns nothing
set Nc=Nc+1
call GroupAddUnitSimple(GetEnumUnit(),NM)
set bc[Nc]=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$68303630,Player(11),bc[Nc],bj_UNIT_FACING)
set XB[Nc]=GetLastCreatedUnit()
endfunction
function BgK takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (IsUnitGroupEmptyBJ(NM)==false) then
return false
endif
return true
endfunction
function BgL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(aj)
set Nb=true
set Nc=0
call PlaySoundBJ(P)
call GroupClear(NM)
call ForGroupBJ(Ir,function BgJ)
call AddSpecialEffectTargetUnitBJ("weapon",RH,"Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl")
set W8=GetLastCreatedEffectBJ()
call SetUnitLookAt(RH,"bone_head",XB[1],0,0,90)
call TriggerSleepAction(2.)
if BgK() then
set Nc=1
call ConditionalTriggerExecute(ar)
else
call DestroyEffect(W8)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=CountUnitsInGroup(NM)
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveUnit(XB[1])
call RemoveLocation(bc[GetForLoopIndexA()])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endfunction
function BgM takes nothing returns nothing
set aq=CreateTrigger()
call DisableTrigger(aq)
call TriggerRegisterAnyUnitEventBJ(aq,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(aq,Condition(function BgH))
call TriggerAddAction(aq,function BgL)
endfunction
function BgN takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BgO takes nothing returns boolean
if not (Na==true) then
return false
endif
return true
endfunction
function BgP takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BgQ takes nothing returns boolean
if not (Nc<=CountUnitsInGroup(NM)) then
return false
endif
return true
endfunction
function BgR takes nothing returns boolean
if not (Nc<=CountUnitsInGroup(NM)) then
return false
endif
return true
endfunction
function BgS takes nothing returns nothing
if BgR() then
set QE=GetUnitLoc(RH)
call CreateNUnitsAtLoc(1,$68303555,Player(11),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",bc[Nc])
call DestroyEffect(W8)
call RemoveUnit(XB[Nc])
call RemoveLocation(bc[Nc])
set Nc=Nc+1
if BgQ() then
call SetUnitLookAt(RH,"bone_head",XB[Nc],0,0,90)
else
endif
call TriggerSleepAction(.5)
call ConditionalTriggerExecute(GetTriggeringTrigger())
else
set Nb=false
call EnableTrigger(aj)
if BgO() then
call StartTimerBJ(NN,false,1.5)
else
call StartTimerBJ(NN,false,3.)
endif
call TriggerSleepAction(50.)
if BgP() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endif
endfunction
function BgT takes nothing returns nothing
set ar=CreateTrigger()
call DisableTrigger(ar)
call TriggerAddCondition(ar,Condition(function BgN))
call TriggerAddAction(ar,function BgS)
endfunction
function BgU takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=15.) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BgV takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("hand,left",RH,"Doodads\\Cinematic\\FireRockSmall\\FireRockSmall.mdl")
call StartTimerBJ(NP,false,GetRandomReal(.5,2.))
call EnableTrigger(at)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BgW takes nothing returns nothing
set au=CreateTrigger()
call DisableTrigger(au)
call TriggerRegisterAnyUnitEventBJ(au,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(au,Condition(function BgU))
call TriggerAddAction(au,function BgV)
endfunction
function BgX takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not (GetUnitTypeId(RH)==$6E303641) then
return false
endif
return true
endfunction
function BgY takes nothing returns nothing
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,800.,800.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303554,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
call RemoveLocation(QE)
call RemoveRect(Rx)
call StartTimerBJ(NP,false,GetRandomReal(.5,2.))
endfunction
function BgZ takes nothing returns nothing
set at=CreateTrigger()
call DisableTrigger(at)
call TriggerRegisterTimerExpireEventBJ(at,NP)
call TriggerAddCondition(at,Condition(function BgX))
call TriggerAddAction(at,function BgY)
endfunction
function Bga takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303641) then
return false
endif
return true
endfunction
function Bgb takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49304B52
set V6[2]=$49304B51
set V6[3]=$49304B50
set MF=3
call ConditionalTriggerExecute(V3)
endfunction
function Bgc takes nothing returns nothing
set cZ=CreateTrigger()
call DisableTrigger(cZ)
call TriggerRegisterAnyUnitEventBJ(cZ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cZ,Condition(function Bga))
call TriggerAddAction(cZ,function Bgb)
endfunction
function Bgd takes nothing returns boolean
if not (Kr==false) then
return false
endif
return true
endfunction
function Bge takes nothing returns nothing
set bF=$6E303638
call TriggerSleepAction(5.)
call ConditionalTriggerExecute(ca)
set PF=true
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303638,"Пилот Разрушителя",GetRectCenter(GetPlayableMapRect()),null,"Ну всё, допрыгались, паразиты! Я, Глазмар Меткий, Охотник на великанов, гроза драконов, погибель... Разных... Прочих страшных тварей! И я открываю на вас охоту!",bj_TIMETYPE_SET,10.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Не хотелось бы быть дичью...",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),SR,"Гоблин",null,"Кря!",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Кстати - Глазмар, по легенде, был действительно опытным охотником. Нужно быть осторожней с ним.",bj_TIMETYPE_SET,8.,false)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),WQ,"Гоблин",null,"Да-да, а когда закончим - я заберу его ружье!",bj_TIMETYPE_SET,8.,false)
endfunction
function Bgf takes nothing returns nothing
set Wx=CreateTrigger()
call TriggerAddCondition(Wx,Condition(function Bgd))
call TriggerAddAction(Wx,function Bge)
endfunction
function Bgg takes nothing returns boolean
if not (Ix==5) then
return false
endif
return true
endfunction
function Bgh takes nothing returns boolean
if not (Ix==4) then
return false
endif
return true
endfunction
function Bgi takes nothing returns boolean
if not (Ix==3) then
return false
endif
return true
endfunction
function Bgj takes nothing returns boolean
if not (Ix==2) then
return false
endif
return true
endfunction
function Bgk takes nothing returns boolean
if not (Ix==1) then
return false
endif
return true
endfunction
function Bgl takes nothing returns nothing
set Nd=96.
set Ix=GetRandomInt(1,6)
set K1=true
if Bgk() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ci),bj_UNIT_FACING)
else
if Bgj() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Ck),bj_UNIT_FACING)
else
if Bgi() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cl),bj_UNIT_FACING)
else
if Bgh() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cm),bj_UNIT_FACING)
else
if Bgg() then
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cn),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,bF,Player(11),GetRandomLocInRect(Cj),bj_UNIT_FACING)
endif
endif
endif
endif
endif
set RH=GetLastCreatedUnit()
set NR=0
set NL=0
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RH)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RH,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(ay)
call EnableTrigger(a0)
call EnableTrigger(a3)
call EnableTrigger(a5)
call EnableTrigger(a7)
call EnableTrigger(a8)
call EnableTrigger(a9)
call EnableTrigger(bC)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bgm takes nothing returns nothing
set ca=CreateTrigger()
call DisableTrigger(ca)
call TriggerAddAction(ca,function Bgl)
endfunction
function Bgn takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bgo takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not Bgn() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bgp takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)<=200.) then
return false
endif
return true
endfunction
function Bgq takes nothing returns boolean
if not (Nb==false) then
return false
endif
return true
endfunction
function Bgr takes nothing returns nothing
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
if Bgp() then
call IssueImmediateOrder(RH,"fanofknives")
else
endif
call IssueImmediateOrder(RH,"metamorphosis")
if Bgq() then
call IssueImmediateOrder(RH,"berserk")
else
endif
call RemoveLocation(QE)
call RemoveLocation(QI)
endfunction
function Bgs takes nothing returns nothing
set ay=CreateTrigger()
call DisableTrigger(ay)
call TriggerRegisterAnyUnitEventBJ(ay,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ay,Condition(function Bgo))
call TriggerAddAction(ay,function Bgr)
endfunction
function Bgt takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bgu takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=95.) then
return false
endif
if not Bgt() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bgv takes nothing returns nothing
call CreateNUnitsAtLoc(1,$68303634,GetOwningPlayer(RH),GetRectCenter(GB),bj_UNIT_FACING)
set XB[11]=GetLastCreatedUnit()
call EnableTrigger(az)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bgw takes nothing returns nothing
set a0=CreateTrigger()
call DisableTrigger(a0)
call TriggerRegisterAnyUnitEventBJ(a0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a0,Condition(function Bgu))
call TriggerAddAction(a0,function Bgv)
endfunction
function Bgx takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bgy takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetSpellAbilityId()==$41314C30) then
return false
endif
if not Bgx() then
return false
endif
return true
endfunction
function Bgz takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(RH))==true) then
return false
endif
return true
endfunction
function Bg0 takes nothing returns nothing
if Bgz() then
call AddSpecialEffectTargetUnitBJ("head",GetEnumUnit(),"Abilities\\Spells\\Human\\Polymorph\\PolyMorphTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fQ(GetOwningPlayer(GetTriggerUnit()),GetEnumUnit(),$41314C33,"cripple")
else
endif
endfunction
function Bg1 takes nothing returns nothing
set QE=GetUnitLoc(RH)
set Rx=RectFromCenterSizeBJ(QE,400.,400.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bg0)
call RemoveRect(Rx)
call RemoveLocation(QE)
endfunction
function Bg2 takes nothing returns nothing
set az=CreateTrigger()
call DisableTrigger(az)
call TriggerRegisterAnyUnitEventBJ(az,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(az,Condition(function Bgy))
call TriggerAddAction(az,function Bg1)
endfunction
function Bg3 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bg4 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not Bg3() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bg5 takes nothing returns nothing
call EnableTrigger(a1)
call EnableTrigger(a2)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bg6 takes nothing returns nothing
set a3=CreateTrigger()
call DisableTrigger(a3)
call TriggerRegisterAnyUnitEventBJ(a3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a3,Condition(function Bg4))
call TriggerAddAction(a3,function Bg5)
endfunction
function Bg7 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bg8 takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not Bg7() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bg9 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function BhB takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bg9() then
return false
endif
return true
endfunction
function BhC takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bq=GetUnitLoc(RH)
set Nb=true
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"spell")
call TriggerSleepAction(.3)
set Rx=RectFromCenterSizeBJ(bq,400.,400.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,$68303632,Player(PLAYER_NEUTRAL_PASSIVE),bq,bj_UNIT_FACING)
set QI=GetRandomLocInRect(Rx)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QI)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveRect(Rx)
call RemoveLocation(bq)
call TriggerSleepAction(1.3)
call PauseUnitBJ(false,RH)
call ResetUnitAnimation(RH)
set Nb=false
call TriggerSleepAction(45.)
if BhB() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BhD takes nothing returns nothing
set a1=CreateTrigger()
call DisableTrigger(a1)
call TriggerRegisterAnyUnitEventBJ(a1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a1,Condition(function Bg8))
call TriggerAddAction(a1,function BhC)
endfunction
function BhE takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function BhF takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303633) then
return false
endif
if not BhE() then
return false
endif
return true
endfunction
function BhG takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6F303037,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(180.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
endfunction
function BhH takes nothing returns nothing
set a2=CreateTrigger()
call DisableTrigger(a2)
call TriggerRegisterEnterRectSimple(a2,GetPlayableMapRect())
call TriggerAddCondition(a2,Condition(function BhF))
call TriggerAddAction(a2,function BhG)
endfunction
function BhI takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function BhJ takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not BhI() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BhK takes nothing returns nothing
call CreateNUnitsAtLoc(1,$68303635,GetOwningPlayer(RH),GetRectCenter(GB),bj_UNIT_FACING)
set XB[12]=GetLastCreatedUnit()
call EnableTrigger(a4)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BhL takes nothing returns nothing
set a5=CreateTrigger()
call DisableTrigger(a5)
call TriggerRegisterAnyUnitEventBJ(a5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a5,Condition(function BhJ))
call TriggerAddAction(a5,function BhK)
endfunction
function BhM takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function BhN takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetSpellAbilityId()==$41314C34) then
return false
endif
if not (Nb==false) then
return false
endif
if not BhM() then
return false
endif
return true
endfunction
function BhO takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303638) then
return false
endif
return true
endfunction
function BhP takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303638) then
return false
endif
return true
endfunction
function BhQ takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303638) then
return false
endif
return true
endfunction
function BhR takes nothing returns boolean
if not (GetUnitTypeId(RH)==$6E303638) then
return false
endif
return true
endfunction
function BhS takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function BhT takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not BhS() then
return false
endif
return true
endfunction
function BhU takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BhV takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BhW takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function BhX takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(ay)
set Nb=true
set Tv=GroupPickRandomUnit(Ir)
set br=GetUnitLoc(RH)
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set QE=GetUnitLoc(Tv)
if BhO() then
set QI=PolarProjectionBJ(QE,500.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
else
set QI=PolarProjectionBJ(QE,100.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
endif
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
call RemoveLocation(QE)
call TriggerSleepAction(1.)
if BhW() then
set Nb=true
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set QE=GetUnitLoc(Tv)
if BhP() then
set QI=PolarProjectionBJ(QE,500.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
else
set QI=PolarProjectionBJ(QE,100.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
endif
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
call RemoveLocation(QE)
call TriggerSleepAction(1.)
if BhV() then
set Nb=true
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set QE=GetUnitLoc(Tv)
if BhQ() then
set QI=PolarProjectionBJ(QE,500.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
else
set QI=PolarProjectionBJ(QE,100.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
endif
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
call RemoveLocation(QE)
call TriggerSleepAction(1.)
if BhU() then
set Nb=true
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
set QE=GetUnitLoc(Tv)
if BhR() then
set QI=PolarProjectionBJ(QE,500.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
else
set QI=PolarProjectionBJ(QE,100.,GetRandomDirectionDeg())
call SetUnitPositionLocFacingLocBJ(RH,QI,QE)
endif
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
call RemoveLocation(QE)
call TriggerSleepAction(1.)
if BhT() then
set Nb=true
set QE=GetUnitLoc(RH)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call SetUnitPositionLoc(RH,br)
call AddSpecialEffectLocBJ(br,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set Nb=false
call RemoveLocation(br)
call EnableTrigger(GetTriggeringTrigger())
call EnableTrigger(ay)
else
endif
else
endif
else
endif
else
endif
endfunction
function BhY takes nothing returns nothing
set a4=CreateTrigger()
call DisableTrigger(a4)
call TriggerRegisterAnyUnitEventBJ(a4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(a4,Condition(function BhN))
call TriggerAddAction(a4,function BhX)
endfunction
function BhZ takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bha takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=70.) then
return false
endif
if not BhZ() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhb takes nothing returns nothing
call EnableTrigger(a6)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bhc takes nothing returns nothing
set a7=CreateTrigger()
call DisableTrigger(a7)
call TriggerRegisterAnyUnitEventBJ(a7,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a7,Condition(function Bha))
call TriggerAddAction(a7,function Bhb)
endfunction
function Bhd takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhe takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not Bhd() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhf takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bhg takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bhh takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhi takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bhh() then
return false
endif
return true
endfunction
function Bhj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PlaySoundBJ(Bz)
call DisableTrigger(ay)
set Nb=true
set W7[1]=GroupPickRandomUnit(Ir)
call AddSpecialEffectTargetUnitBJ("overhead",W7[1],"Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl")
set W8=GetLastCreatedEffectBJ()
call PauseUnitBJ(true,RH)
call SetUnitAnimation(RH,"ready")
call SetUnitFacingToFaceUnitTimed(RH,W7[1],1.)
call TriggerSleepAction(3.)
if Bhg() then
call SetUnitFacingToFaceUnitTimed(RH,W7[1],0.)
call SetUnitAnimation(RH,"spell slam")
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(W7[1])
call CreateNUnitsAtLoc(1,$65303059,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"carrionswarm",QI)
call RemoveLocation(QI)
call RemoveLocation(QE)
call TriggerSleepAction(2.)
if Bhf() then
call PauseUnitBJ(false,RH)
call ResetUnitAnimation(RH)
else
endif
else
endif
call DestroyEffect(W8)
set Nb=false
call EnableTrigger(ay)
call TriggerSleepAction(10.)
if Bhi() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bhk takes nothing returns nothing
set a6=CreateTrigger()
call DisableTrigger(a6)
call TriggerRegisterAnyUnitEventBJ(a6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a6,Condition(function Bhe))
call TriggerAddAction(a6,function Bhj)
endfunction
function Bhl takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhm takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not Bhl() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhn takes nothing returns nothing
call CreateNUnitsAtLoc(1,$68303636,GetOwningPlayer(RH),GetRectCenter(GB),bj_UNIT_FACING)
set XB[13]=GetLastCreatedUnit()
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bho takes nothing returns nothing
set a8=CreateTrigger()
call DisableTrigger(a8)
call TriggerRegisterAnyUnitEventBJ(a8,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a8,Condition(function Bhm))
call TriggerAddAction(a8,function Bhn)
endfunction
function Bhp takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhq takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<Nd) then
return false
endif
if not Bhp() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhr takes nothing returns nothing
set QE=GetUnitLoc(RH)
set Nd=Nd-4.
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C37,GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped($41314C37,GetLastCreatedUnit(),(100-R2I(Nd))/4)
call IssueImmediateOrder(GetLastCreatedUnit(),"howlofterror")
call RemoveLocation(QE)
endfunction
function Bhs takes nothing returns nothing
set a9=CreateTrigger()
call DisableTrigger(a9)
call TriggerRegisterAnyUnitEventBJ(a9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(a9,Condition(function Bhq))
call TriggerAddAction(a9,function Bhr)
endfunction
function Bht takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhu takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (GetUnitLifePercent(RH)<=30.) then
return false
endif
if not Bht() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhv takes nothing returns nothing
call EnableTrigger(bB)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function Bhw takes nothing returns nothing
set bC=CreateTrigger()
call DisableTrigger(bC)
call TriggerRegisterAnyUnitEventBJ(bC,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(bC,Condition(function Bhu))
call TriggerAddAction(bC,function Bhv)
endfunction
function Bhx takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bhy takes nothing returns boolean
if not (GetTriggerUnit()==RH) then
return false
endif
if not (Nb==false) then
return false
endif
if not Bhx() then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bhz takes nothing returns boolean
if not (DistanceBetweenPoints(QE,QI)<DistanceBetweenPoints(QE,Tq)) then
return false
endif
return true
endfunction
function Bh0 takes nothing returns nothing
set Tq=GetUnitLoc(GetEnumUnit())
if Bhz() then
call RemoveLocation(QI)
set QI=GetUnitLoc(GetEnumUnit())
else
endif
call RemoveLocation(Tq)
endfunction
function Bh1 takes nothing returns boolean
if GetUnitTypeId(RH)==$6E303638 then
return true
endif
if GetUnitTypeId(RH)==$6E303639 then
return true
endif
return false
endfunction
function Bh2 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
if not Bh1() then
return false
endif
return true
endfunction
function Bh3 takes nothing returns boolean
if not (IsUnitAliveBJ(RH)==true) then
return false
endif
return true
endfunction
function Bh4 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(ay)
set Nb=true
set QE=GetUnitLoc(RH)
set QI=GetUnitLoc(GetAttacker())
call ForGroupBJ(Ir,function Bh0)
call PlaySoundBJ(Bz)
call PauseUnitBJ(true,RH)
call SetUnitFacingToFaceLocTimed(RH,QI,0)
call SetUnitAnimation(RH,"spell")
call CreateNUnitsAtLoc(1,$68303631,GetOwningPlayer(RH),QE,bj_UNIT_FACING)
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(2.)
if Bh3() then
call ResetUnitAnimation(RH)
call PauseUnitBJ(false,RH)
set Nb=false
call EnableTrigger(ay)
call TriggerSleepAction(10.)
if Bh2() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
else
endif
endfunction
function Bh5 takes nothing returns nothing
set bB=CreateTrigger()
call DisableTrigger(bB)
call TriggerRegisterAnyUnitEventBJ(bB,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(bB,Condition(function Bhy))
call TriggerAddAction(bB,function Bh4)
endfunction
function Bh6 takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303638 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303639 then
return true
endif
return false
endfunction
function Bh7 takes nothing returns boolean
if not Bh6() then
return false
endif
return true
endfunction
function Bh8 takes nothing returns boolean
if not (GetRandomInt(1,100)<=30+MP) then
return false
endif
return true
endfunction
function Bh9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(W6)
if Bh8() then
call CreateItemLoc($49303255,QE)
else
endif
set bM=GetKillingUnitBJ()
set V4=GetDyingUnit()
set V6[1]=$49304B55
set V6[2]=$49304B53
set V6[3]=$49304B54
set MF=3
call ConditionalTriggerExecute(V3)
endfunction
function BiB takes nothing returns nothing
set cb=CreateTrigger()
call DisableTrigger(cb)
call TriggerRegisterAnyUnitEventBJ(cb,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cb,Condition(function Bh7))
call TriggerAddAction(cb,function Bh9)
endfunction
function BiC takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303146) then
return false
endif
if not (GetUnitTypeId(GetKillingUnitBJ())!=0) then
return false
endif
return true
endfunction
function BiD takes nothing returns boolean
if not (GetRandomInt(1,100)<=10) then
return false
endif
return true
endfunction
function BiE takes nothing returns boolean
if not (GetRandomInt(1,100)<=15) then
return false
endif
return true
endfunction
function BiF takes nothing returns boolean
if not (GetRandomInt(1,100)<=25) then
return false
endif
return true
endfunction
function BiG takes nothing returns boolean
if not (GetRandomInt(1,100)<=30) then
return false
endif
return true
endfunction
function BiH takes nothing returns boolean
if not (GetRandomInt(1,100)<=35) then
return false
endif
return true
endfunction
function BiI takes nothing returns boolean
if not (GetRandomInt(1,100)<=40) then
return false
endif
return true
endfunction
function BiJ takes nothing returns boolean
if not (GetRandomInt(1,100)<=50) then
return false
endif
return true
endfunction
function BiK takes nothing returns boolean
if not (GetRandomInt(1,100)<=65) then
return false
endif
return true
endfunction
function BiL takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BiM takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BiN takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BiO takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BiP takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
if not (MD[NQ]<=4) then
return false
endif
return true
endfunction
function BiQ takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
if not (MD[NQ]<=3) then
return false
endif
return true
endfunction
function BiR takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
if not (MD[NQ]<=2) then
return false
endif
return true
endfunction
function BiS takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
if not (MD[NQ]<=1) then
return false
endif
return true
endfunction
function BiT takes nothing returns boolean
if not (GetRandomInt(1,100)<=10+MD[MG]) then
return false
endif
return true
endfunction
function BiU takes nothing returns boolean
if not (GetRandomInt(1,2)==1) then
return false
endif
return true
endfunction
function BiV takes nothing returns boolean
if not (GetRandomInt(1,100)<=3+MD[MG]) then
return false
endif
return true
endfunction
function BiW takes nothing returns boolean
if not (OH[NQ]>=1) then
return false
endif
if not (NQ!=0) then
return false
endif
return true
endfunction
function BiX takes nothing returns boolean
if not (GetRandomInt(1,20)<=MD[NQ]) then
return false
endif
if not (NQ!=0) then
return false
endif
if not (PG<=5) then
return false
endif
return true
endfunction
function BiY takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==true) then
return false
endif
return true
endfunction
function BiZ takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))]==8) then
return false
endif
return true
endfunction
function Bia takes nothing returns nothing
set Tq=GetUnitLoc(GetTriggerUnit())
set PG=0
set NQ=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
if BiS() then
set Kn[100]=GetRandomInt(1,15)
set Kn[101]=1
loop
exitwhen Kn[101]>GetRandomInt(1,5)
call CreateItemLoc(SD[Kn[100]],Tq)
set Kn[101]=Kn[101]+1
endloop
if BiD() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiR() then
call CreateItemLoc(SD[GetRandomInt(101,110)],Tq)
if BiE() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiQ() then
call CreateItemLoc(SD[GetRandomInt(201,209)],Tq)
if BiF() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiP() then
call CreateItemLoc(SD[GetRandomInt(302,310)],Tq)
if BiG() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiO() then
call CreateItemLoc(SD[GetRandomInt(402,407)],Tq)
if BiH() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiN() then
call CreateItemLoc(SD[GetRandomInt(502,510)],Tq)
if BiI() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiM() then
call CreateItemLoc(SD[GetRandomInt(602,610)],Tq)
if BiJ() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
if BiL() then
call CreateItemLoc(SD[GetRandomInt(702,704)],Tq)
if BiK() then
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),Tq,bj_UNIT_FACING)
else
endif
else
endif
endif
endif
endif
endif
endif
endif
endif
if BiW() then
if BiT() then
call CreateItemLoc($49303033,Tq)
call SetItemCharges(GetLastCreatedItem(),GetRandomInt(1,3))
else
endif
if BiV() then
if BiU() then
call CreateItemLoc($49304643,Tq)
else
call CreateItemLoc($49304645,Tq)
endif
else
endif
else
endif
if BiX() then
call AddSpecialEffectLocBJ(Tq,"Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set PG=PG+1
call ConditionalTriggerExecute(GetTriggeringTrigger())
else
endif
set NQ=0
call RemoveLocation(Tq)
if BiZ() then
if BiY() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetKillingUnitBJ()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
call ConditionalTriggerExecute(cd)
endfunction
function Bib takes nothing returns nothing
set cc=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(cc,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cc,Condition(function BiC))
call TriggerAddAction(cc,function Bia)
endfunction
function Bic takes nothing returns nothing
set QE=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(1,$68303146,Player(PLAYER_NEUTRAL_PASSIVE),QE,GetRandomReal(0,360.))
call RemoveLocation(QE)
endfunction
function Bid takes nothing returns nothing
set cd=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(cd,90.)
call TriggerAddAction(cd,function Bic)
endfunction
function Bie takes nothing returns boolean
if RectContainsUnit(GG,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Cf,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Ce,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(GV,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(GW,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Cg,GetTriggerUnit())==true then
return true
endif
return false
endfunction
function Bif takes nothing returns boolean
if not (GetSpellAbilityId()==$4130454D) then
return false
endif
if not Bie() then
return false
endif
return true
endfunction
function Big takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304137)==true) then
return false
endif
return true
endfunction
function Bih takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304138)==true) then
return false
endif
return true
endfunction
function Bii takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304139)==true) then
return false
endif
return true
endfunction
function Bij takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304141)==true) then
return false
endif
return true
endfunction
function Bik takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),$49304356)==true) then
return false
endif
return true
endfunction
function Bil takes nothing returns boolean
if not (MG==3) then
return false
endif
return true
endfunction
function Bim takes nothing returns boolean
if not (MG==2) then
return false
endif
return true
endfunction
function Bin takes nothing returns boolean
if not (MG==1) then
return false
endif
return true
endfunction
function Bio takes nothing returns boolean
if RectContainsUnit(GG,GetTriggerUnit())==true then
return true
endif
if RectContainsUnit(Ce,GetTriggerUnit())==true then
return true
endif
return false
endfunction
function Bip takes nothing returns boolean
if not (MH[LS]==0) then
return false
endif
if not (GetHeroLevel(GetTriggerUnit())>=20) then
return false
endif
if not Bio() then
return false
endif
return true
endfunction
function Biq takes nothing returns boolean
if not (TM==$49304356) then
return false
endif
return true
endfunction
function Bir takes nothing returns boolean
if not (J9<=104) then
return false
endif
return true
endfunction
function Bis takes nothing returns boolean
if not (J9<=100) then
return false
endif
return true
endfunction
function Bit takes nothing returns boolean
if not (J9<=95) then
return false
endif
return true
endfunction
function Biu takes nothing returns boolean
if not (J9<=90) then
return false
endif
return true
endfunction
function Biv takes nothing returns boolean
if not (J9<=85) then
return false
endif
return true
endfunction
function Biw takes nothing returns boolean
if not (J9<=80) then
return false
endif
return true
endfunction
function Bix takes nothing returns boolean
if not (J9<=65) then
return false
endif
return true
endfunction
function Biy takes nothing returns boolean
if not (J9<=50) then
return false
endif
return true
endfunction
function Biz takes nothing returns boolean
if not (J9<=30) then
return false
endif
return true
endfunction
function Bi0 takes nothing returns boolean
if not (J9<=10) then
return false
endif
return true
endfunction
function Bi1 takes nothing returns boolean
if not (TM==$49303948) then
return false
endif
if not (J8<=20) then
return false
endif
return true
endfunction
function Bi2 takes nothing returns boolean
if not (TM==$49304137) then
return false
endif
if not (J8<=40) then
return false
endif
return true
endfunction
function Bi3 takes nothing returns boolean
if not (TM==$49304138) then
return false
endif
if not (J8<=60) then
return false
endif
return true
endfunction
function Bi4 takes nothing returns boolean
if not (TM==$49304139) then
return false
endif
if not (J8<=80) then
return false
endif
return true
endfunction
function Bi5 takes nothing returns boolean
if Bi1() then
return true
endif
if Bi2() then
return true
endif
if Bi3() then
return true
endif
if Bi4() then
return true
endif
if TM==$49304141 then
return true
endif
if TM==$49304356 then
return true
endif
return false
endfunction
function Bi6 takes nothing returns boolean
if not Bi5() then
return false
endif
return true
endfunction
function Bi7 takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function Bi8 takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==7) then
return false
endif
return true
endfunction
function Bi9 takes nothing returns boolean
if not (ON[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==true) then
return false
endif
return true
endfunction
function BjB takes nothing returns boolean
if not (OZ[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==7) then
return false
endif
return true
endfunction
function BjC takes nothing returns boolean
if not (KF[LS]>0) then
return false
endif
if not (J9<=95) then
return false
endif
return true
endfunction
function BjD takes nothing returns boolean
if TM==$49304935 then
return true
endif
if TM==$49304831 then
return true
endif
if TM==$49304934 then
return true
endif
if TM==$49304936 then
return true
endif
return false
endfunction
function BjE takes nothing returns boolean
if not BjD() then
return false
endif
return true
endfunction
function BjF takes nothing returns boolean
if not (RectContainsUnit(Cg,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjG takes nothing returns boolean
if not (RectContainsUnit(Ce,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjH takes nothing returns boolean
if not (RectContainsUnit(Cf,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjI takes nothing returns boolean
if not (RectContainsUnit(GW,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjJ takes nothing returns boolean
if not (RectContainsUnit(GV,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjK takes nothing returns boolean
if not (RectContainsUnit(GG,GetTriggerUnit())==true) then
return false
endif
return true
endfunction
function BjL takes nothing returns boolean
if not (Le==true) then
return false
endif
return true
endfunction
function BjM takes nothing returns nothing
set J8=GetRandomInt(1,100)
set J9=GetRandomInt(1,105)
set QE=GetUnitLoc(GetTriggerUnit())
set LS=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
set Le=true
if Bik() then
set TM=$49304356
else
if Bij() then
set TM=$49304141
else
if Bii() then
set TM=$49304139
else
if Bih() then
set TM=$49304138
else
if Big() then
set TM=$49304137
else
set TM=$49303948
endif
endif
endif
endif
endif
if Bi6() then
if Bi0() then
if Bip() then
set MG=GetRandomInt(1,4)
if Bin() then
set TM=$49304935
else
if Bim() then
set TM=$49304831
else
if Bil() then
set TM=$49304934
else
set TM=$49304936
endif
endif
endif
else
set TM=$49303949
endif
else
if Biz() then
set TM=$49303949
else
if Biy() then
set TM=$4930394B
else
if Bix() then
set TM=$4930394C
else
if Biw() then
set TM=$4930394F
else
if Biv() then
set TM=$49303950
else
if Biu() then
set TM=$4930394D
else
if Bit() then
set TM=$49303951
else
if Bis() then
set TM=$49303349
else
if Bir() then
set TM=$4930395A
else
if Biq() then
set TM=$49304357
else
set TM=$4930395A
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
set Le=false
endif
if BjL() then
call CreateItemLoc(TM,QE)
call UnitAddItemSwapped(GetLastCreatedItem(),GetTriggerUnit())
if BjE() then
call SetItemUserData(GetLastCreatedItem(),LS)
else
if BjC() then
set L8=GetRandomInt(1,KF[LS])
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(GetLastCreatedItem())+L8)
if BjB() then
if Bi9() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
set OT[OO]=OT[OO]+(L8+1)
call ff()
else
endif
else
endif
else
if Bi8() then
if Bi7() then
set OO=GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))
set OT[OO]=OT[OO]+1
call ff()
else
endif
else
endif
endif
endif
if BjK() then
set QE=GetRectCenter(GH)
else
if BjJ() then
set QE=GetRectCenter(DY)
else
if BjI() then
set QE=GetRectCenter(DZ)
else
if BjH() then
set QE=GetRectCenter(DX)
else
if BjG() then
set QE=GetRectCenter(DW)
else
if BjF() then
set QE=GetRectCenter(Da)
else
endif
endif
endif
endif
endif
endif
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"|c00FFFFFFНе клюёт...|r")
endif
call RemoveLocation(QE)
endfunction
function BjN takes nothing returns nothing
set ce=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ce,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(ce,Condition(function Bif))
call TriggerAddAction(ce,function BjM)
endfunction
function BjO takes nothing returns nothing
local integer Pi=1
loop
exitwhen Pi>10
set RX=GetRandomLocInRect(GetPlayableMapRect())
call CreateNUnitsAtLoc(GetRandomInt(1,3),$6E303244,Player(PLAYER_NEUTRAL_PASSIVE),RX,bj_UNIT_FACING)
call RemoveLocation(RX)
set Pi=Pi+1
endloop
endfunction
function BjP takes nothing returns nothing
set cf=CreateTrigger()
call TriggerRegisterTimerEventSingle(cf,45.)
call TriggerAddAction(cf,function BjO)
endfunction
function BjQ takes nothing returns boolean
if not (UnitHasBuffBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())],$42303059)==true) then
return false
endif
return true
endfunction
function BjR takes nothing returns boolean
if not (GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)>=300) then
return false
endif
return true
endfunction
function BjS takes nothing returns boolean
if not (GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)<=10) then
return false
endif
return true
endfunction
function BjT takes nothing returns boolean
if not (GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)==0) then
return false
endif
return true
endfunction
function BjU takes nothing returns boolean
if not (IsUnitAliveBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())])==true) then
return false
endif
return true
endfunction
function BjV takes nothing returns nothing
if BjU() then
call AdjustPlayerStateBJ(-1,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
if BjT() then
if BjQ() then
call SetUnitLifeBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())],GetUnitStateSwap(UNIT_STATE_LIFE,Pd[GetConvertedPlayerId(GetEnumPlayer())])-I2R(GetHeroStatBJ(bj_HEROSTAT_STR,Pd[GetConvertedPlayerId(GetEnumPlayer())],true)))
call SetUnitManaBJ(Pd[GetConvertedPlayerId(GetEnumPlayer())],GetUnitStateSwap(UNIT_STATE_MANA,Pd[GetConvertedPlayerId(GetEnumPlayer())])-I2R(GetHeroStatBJ(bj_HEROSTAT_INT,Pd[GetConvertedPlayerId(GetEnumPlayer())],true)))
else
endif
set RX=GetUnitLoc(Pd[GetConvertedPlayerId(GetEnumPlayer())])
call CreateNUnitsAtLoc(1,$6864756D,GetEnumPlayer(),RX,bj_UNIT_FACING)
call RemoveLocation(RX)
call UnitAddAbilityBJ($41304555,GetLastCreatedUnit())
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",Pd[GetConvertedPlayerId(GetEnumPlayer())])
else
call UnitRemoveBuffBJ($42303059,Pd[GetConvertedPlayerId(GetEnumPlayer())])
if BjS() then
call DisplayTimedTextToForce(GetForceOfPlayer(GetEnumPlayer()),1.,"|c00FF0000Вы начинаете голодать...|r")
else
if BjR() then
call SetUnitAbilityLevelSwapped($41303430,Pd[GetConvertedPlayerId(GetEnumPlayer())],GetHeroLevel(Pd[GetConvertedPlayerId(GetEnumPlayer())]))
else
call SetUnitAbilityLevelSwapped($41303430,Pd[GetConvertedPlayerId(GetEnumPlayer())],1)
endif
endif
endif
else
endif
endfunction
function BjW takes nothing returns nothing
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BjV)
endfunction
function BjX takes nothing returns nothing
set cg=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(cg,KD)
call TriggerAddAction(cg,function BjW)
endfunction
function BjY takes nothing returns nothing
call AdjustPlayerStateBJ(100,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function BjZ takes nothing returns nothing
call AdjustPlayerStateBJ(350,GetEnumPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function Bja takes nothing returns nothing
local integer H9=GetItemTypeId(GetManipulatedItem())
local integer Tp=KH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if H9==$49303158 or H9==$49303037 or H9==$49303337 or H9==$49303254 or H9==$49303038 or H9==$49303336 or H9==$49303234 or H9==$49303658 then
if GetRandomInt(1,100)<=Tp*10 then
call AdjustPlayerStateBJ(Tp+2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
call UnitRemoveBuffBJ($42303059,Pd[GetConvertedPlayerId(GetEnumPlayer())])
endif
if H9==$49303959 or H9==$49303956 or H9==$49304131 or H9==$49303952 or H9==$49304143 or H9==$49304132 or H9==$49303953 or H9==$49303958 or H9==$49304133 or H9==$49304134 or H9==$49304135 or H9==$49304136 or H9==$4930414B or H9==$4930394F or H9==$4930394B or H9==$49304130 or H9==$49304142 or H9==$4930394C or H9==$49303949 or H9==$49303950 then
if GetRandomInt(1,100)<=Tp*10 then
call AdjustPlayerStateBJ(Tp,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
call UnitRemoveBuffBJ($42303059,Pd[GetConvertedPlayerId(GetEnumPlayer())])
endif
if H9==$4930434E then
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BjY)
endif
if H9==$49304B56 then
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BjZ)
endif
if H9==$49304357 then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())-50.)
endif
call DoNothing()
if H9==$4930394F or H9==$4930394C or H9==$49303949 or H9==$49303950 then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())+1)
elseif H9==$49303951 then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())+10.)
elseif H9==$49303957 then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())+20.)
elseif H9==$49303953 or H9==$49303952 or H9==$49303956 or H9==$49303959 then
call SetUnitManaPercentBJ(GetTriggerUnit(),GetUnitManaPercent(GetTriggerUnit())+2.)
endif
endfunction
function Bjb takes nothing returns nothing
set ch=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ch,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(ch,function Bja)
endfunction
function Bjc takes nothing returns nothing
endfunction
function Bjd takes nothing returns nothing
set ci=CreateTrigger()
call TriggerRegisterTimerEventSingle(ci,1.)
call TriggerAddAction(ci,function Bjc)
endfunction
function Bje takes nothing returns nothing
call ConditionalTriggerExecute(ck)
endfunction
function Bjf takes nothing returns nothing
set cj=CreateTrigger()
call TriggerRegisterTimerExpireEventBJ(cj,O4)
call TriggerAddAction(cj,function Bje)
endfunction
function Bjg takes nothing returns boolean
if not (MW==1) then
return false
endif
return true
endfunction
function Bjh takes nothing returns nothing
call UnitShareVisionBJ(true,cr,GetEnumPlayer())
endfunction
function Bji takes nothing returns boolean
if not (MW==2) then
return false
endif
return true
endfunction
function Bjj takes nothing returns boolean
if not (MW==3) then
return false
endif
return true
endfunction
function Bjk takes nothing returns nothing
call CreateNUnitsAtLoc(1,$68303356,GetEnumPlayer(),GetUnitLoc(ct),bj_UNIT_FACING)
endfunction
function Bjl takes nothing returns boolean
if not (MW==4) then
return false
endif
return true
endfunction
function Bjm takes nothing returns boolean
if not (Jk==5) then
return false
endif
return true
endfunction
function Bjn takes nothing returns boolean
if not (Jk==4) then
return false
endif
return true
endfunction
function Bjo takes nothing returns boolean
if not (Jk==3) then
return false
endif
return true
endfunction
function Bjp takes nothing returns boolean
if not (Jk==2) then
return false
endif
return true
endfunction
function Bjq takes nothing returns boolean
if not (Jk==1) then
return false
endif
return true
endfunction
function Bjr takes nothing returns boolean
if not (MW==5) then
return false
endif
return true
endfunction
function Bjs takes nothing returns boolean
if not (MW==6) then
return false
endif
return true
endfunction
function Bjt takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$68303142) then
return false
endif
return true
endfunction
function Bju takes nothing returns nothing
if Bjt() then
call ExplodeUnitBJ(GetEnumUnit())
else
endif
endfunction
function Bjv takes nothing returns nothing
call UnitShareVisionBJ(true,cr,GetEnumPlayer())
endfunction
function Bjw takes nothing returns boolean
if not (MW==7) then
return false
endif
return true
endfunction
function Bjx takes nothing returns boolean
if not (MW==8) then
return false
endif
return true
endfunction
function Bjy takes nothing returns boolean
if not (MW==9) then
return false
endif
return true
endfunction
function Bjz takes nothing returns boolean
if not (Jk==8) then
return false
endif
return true
endfunction
function Bj0 takes nothing returns boolean
if not (Jk==7) then
return false
endif
return true
endfunction
function Bj1 takes nothing returns boolean
if not (Jk==6) then
return false
endif
return true
endfunction
function Bj2 takes nothing returns boolean
if not (Jk==5) then
return false
endif
return true
endfunction
function Bj3 takes nothing returns boolean
if not (Jk==4) then
return false
endif
return true
endfunction
function Bj4 takes nothing returns boolean
if not (Jk==3) then
return false
endif
return true
endfunction
function Bj5 takes nothing returns boolean
if not (Jk==2) then
return false
endif
return true
endfunction
function Bj6 takes nothing returns boolean
if not (Jk==1) then
return false
endif
return true
endfunction
function Bj7 takes nothing returns boolean
if not (MW==10) then
return false
endif
return true
endfunction
function Bj8 takes nothing returns boolean
if not (MW==11) then
return false
endif
return true
endfunction
function Bj9 takes nothing returns boolean
if not (MW==12) then
return false
endif
return true
endfunction
function BkB takes nothing returns boolean
if not (MW==13) then
return false
endif
return true
endfunction
function BkC takes nothing returns boolean
if not (MW==14) then
return false
endif
return true
endfunction
function BkD takes nothing returns boolean
if not (MW==15) then
return false
endif
return true
endfunction
function BkE takes nothing returns boolean
if not (MW==16) then
return false
endif
return true
endfunction
function BkF takes nothing returns boolean
if not (MW==17) then
return false
endif
return true
endfunction
function BkG takes nothing returns boolean
if not (MW==18) then
return false
endif
return true
endfunction
function BkH takes nothing returns boolean
if not (MW==19) then
return false
endif
return true
endfunction
function BkI takes nothing returns boolean
if not (MW==20) then
return false
endif
return true
endfunction
function BkJ takes nothing returns boolean
if not (MW==21) then
return false
endif
return true
endfunction
function BkK takes nothing returns boolean
if not (MW==22) then
return false
endif
return true
endfunction
function BkL takes nothing returns boolean
if not (MW==23) then
return false
endif
return true
endfunction
function BkM takes nothing returns nothing
if Bjg() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[1],O7[1],"ReplaceableTextures\\CommandButtons\\BTNMurlocNightCrawler.blp")
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Найдите снаряжение")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$6E303047,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(DW),GetRandomReal(0,360.))
set QQ=GetLastCreatedQuestBJ()
set PC=true
set RI=GetLastCreatedUnit()
set cl=GetLastCreatedQuestItemBJ()
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41314C58
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set cm[MW]=QQ
call EnableTrigger(cn)
call EnableTrigger(co)
call EnableTrigger(cp)
return
else
endif
if Bji() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[2],O7[2],"ReplaceableTextures\\CommandButtons\\BTNStasisTrap.blp")
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Просканировать пещеру")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set QQ=GetLastCreatedQuestBJ()
set cl=GetLastCreatedQuestItemBJ()
set cq=R6[GetRandomInt(1,20)]
call CreateNUnitsAtLoc(1,$6E303453,Kf,GetRectCenter(cq),bj_UNIT_FACING)
set cr=GetLastCreatedUnit()
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(cq),3.)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function Bjh)
call TriggerRegisterEnterRectSimple(cs,cq)
call EnableTrigger(cs)
set cm[MW]=QQ
return
else
endif
if Bjj() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[3],O7[3],"ReplaceableTextures\\CommandButtons\\BTNAuraOfDarkness.blp")
call CreateNUnitsAtLoc(1,$68303141,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(Fg),52.18)
set ct=GetLastCreatedUnit()
call SetUnitLifeBJ(ct,2000.)
call SetUnitAnimation(ct,"death")
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Найдите выжившего")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set QQ=GetLastCreatedQuestBJ()
set cl=GetLastCreatedQuestItemBJ()
call ShowUnitShow(ct)
call EnableTrigger(cu)
set cm[MW]=QQ
call TriggerSleepAction(4.)
call ShowUnitShow(ct)
call SetUnitInvulnerable(ct,true)
return
else
endif
if Bjl() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[4],O7[4],"ReplaceableTextures\\CommandButtons\\BTNRifleman.blp")
call SetUnitOwner(ct,Kf,false)
call SetUnitInvulnerable(ct,false)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function Bjk)
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Исцелите выжившего гнома")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set QQ=GetLastCreatedQuestBJ()
set cl=GetLastCreatedQuestItemBJ()
set cm[MW]=QQ
call EnableTrigger(cv)
call EnableTrigger(cw)
return
else
endif
if Bjr() then
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,O9[1],PB[1],"BTNLetter.blp")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Получена новая информация! F9 - просмотр списка квестов.")
call TriggerSleepAction(2)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[5],O7[5],"ReplaceableTextures\\WorldEditUI\\Editor-Random-Item.blp")
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Найдите кузницу и убейте её стража.")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set QQ=GetLastCreatedQuestBJ()
set K1=true
set cl=GetLastCreatedQuestItemBJ()
set Jk=GetRandomInt(1,6)
if Bjq() then
call ShowUnitShow(G6)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(DL),GetRandomReal(0,360.))
else
if Bjp() then
call ShowUnitShow(G9)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(F9),GetRandomReal(0,360.))
else
if Bjo() then
call ShowUnitShow(G7)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(DN),GetRandomReal(0,360.))
else
if Bjn() then
call ShowUnitShow(G8)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(DO),GetRandomReal(0,360.))
else
if Bjm() then
call ShowUnitShow(HB)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(CQ),GetRandomReal(0,360.))
else
call ShowUnitShow(HC)
call CreateNUnitsAtLoc(1,$6E303149,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(CP),GetRandomReal(0,360.))
endif
endif
endif
endif
endif
set RI=GetLastCreatedUnit()
call AddUnitAnimationPropertiesBJ(true,"alternate",GetLastCreatedUnit())
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41303945
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set cm[MW]=QQ
call EnableTrigger(cx)
call EnableTrigger(cy)
call EnableTrigger(cz)
return
else
endif
if Bjs() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[6],O7[6],"ReplaceableTextures\\CommandButtons\\BTNGlyph.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Принесите гному 3 Разряженных таблички")
set c0=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateItemLoc($4930354C,GetRectCenter(R7[GetRandomInt(1,40)]))
call CreateItemLoc($4930354C,GetRectCenter(R7[GetRandomInt(1,40)]))
call CreateItemLoc($4930354C,GetRectCenter(R7[GetRandomInt(1,40)]))
call EnableTrigger(c1)
call EnableTrigger(c2)
return
else
endif
if Bjw() then
call CreateItemLoc($4930354C,GetRectCenter(DI))
call CreateItemLoc($4930354C,GetRectCenter(DI))
call CreateItemLoc($4930354C,GetRectCenter(DI))
call AddSpecialEffectLocBJ(GetRectCenter(DI),"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call TriggerSleepAction(.5)
call DestroyEffect(GetLastCreatedEffectBJ())
call ForGroupBJ(GetUnitsInRectAll(GetPlayableMapRect()),function Bju)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[7],O7[7],"ReplaceableTextures\\CommandButtons\\BTNIceCrownObelisk.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Установите генератор помех")
set cl=GetLastCreatedQuestItemBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Обороняйте генератор помех")
set c0=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$68303150,Player(11),GetRectCenter(C7),bj_UNIT_FACING)
set c3=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$68303151,Player(11),GetRectCenter(C8),bj_UNIT_FACING)
set c4=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$68303139,Player(11),GetRectCenter(C9),bj_UNIT_FACING)
set c5=GetLastCreatedUnit()
call CreateNUnitsAtLoc(1,$68303342,Player(11),GetRectCenter(DB),bj_UNIT_FACING)
set c6=GetLastCreatedUnit()
call EnableTrigger(c7)
set cq=R6[GetRandomInt(1,20)]
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(cq),3.)
call CreateNUnitsAtLoc(1,$6E303453,Kf,GetRectCenter(cq),bj_UNIT_FACING)
set cr=GetLastCreatedUnit()
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function Bjv)
call TriggerRegisterEnterRectSimple(c7,cq)
return
else
endif
if Bjx() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[8],O7[8],"ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp")
set QQ=GetLastCreatedQuestBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Обнаружить источник помех")
set cl=GetLastCreatedQuestItemBJ()
set cm[MW]=QQ
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$68303239,Player(10),GetRectCenter(DS),GetRandomReal(0,360.))
call CreateNUnitsAtLoc(1,$68303238,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DT),GetRandomReal(0,360.))
set c8=GetLastCreatedUnit()
call EnableTrigger(c9)
return
else
endif
if Bjy() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[9],O7[9],"ReplaceableTextures\\CommandButtons\\BTNChestOfGold.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Принести Попсу 40 сьедобных грыбочков")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set Jn=0
call EnableTrigger(dB)
return
else
endif
if Bj7() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[10],O7[10],"ReplaceableTextures\\CommandButtons\\BTNManaStone.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Принести Попсу какой-нибудь необычный гриб")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
set Jk=GetRandomInt(1,8)
if Bj6() then
call CreateItemLoc($49303731,GetRectCenter(C4))
else
if Bj5() then
call CreateItemLoc($49303731,GetRectCenter(Fe))
else
if Bj4() then
call CreateItemLoc($49303731,GetRectCenter(C3))
else
if Bj3() then
call CreateItemLoc($49303731,GetRectCenter(C5))
else
if Bj2() then
call CreateItemLoc($49303731,GetRectCenter(C1))
else
if Bj1() then
call CreateItemLoc($49303731,GetRectCenter(C2))
else
if Bj0() then
call CreateItemLoc($49303731,GetRectCenter(C6))
else
if Bjz() then
call CreateItemLoc($49303731,GetRectCenter(Fd))
else
endif
endif
endif
endif
endif
endif
endif
endif
call EnableTrigger(dC)
return
else
endif
if Bj8() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[11],O7[11],"ReplaceableTextures\\CommandButtons\\BTNGreaterInvisibility.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Собрать для Попса нагревательную установку")
set cl=GetLastCreatedQuestItemBJ()
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Нагревательная установка","TRIGSTR_002","BTNLetter.blp")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FF00Получена новая информация! F9 - просмотр списка квестов.")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dD)
return
else
endif
if Bj9() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[12],O7[12],"ReplaceableTextures\\CommandButtons\\BTNHeroBlademaster.blp")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),c8,"Попс Алхимик",null,"Спасибо что собрали мне нагревательную машину... Но хочу вас расстроить - я вас нагрел! Хахаха! Потом расскажете каково быть расплавленными заживо! Хотя не расскажете!",bj_TIMETYPE_ADD,10.,true)
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Убить Попса Алхимика")
set cl=GetLastCreatedQuestItemBJ()
call ReplaceUnitBJ(c8,$6E303243,bj_UNIT_STATE_METHOD_RELATIVE)
set RI=GetLastReplacedUnitBJ()
set c8=GetLastReplacedUnitBJ()
set bH[1]=$41314236
set bH[2]=$41304E32
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitOwner(c8,Player(10),true)
call SetUnitInvulnerable(c8,false)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dE)
return
else
endif
if BkB() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[13],O7[13],"ReplaceableTextures\\CommandButtons\\BTNWallOfFire.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Одновременно обезвредить 9 зарядов взрывчатки")
set cl=GetLastCreatedQuestItemBJ()
call StartTimerBJ(Oy,false,250.-I2R(CountUnitsInGroup(Ir))*10.)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),"Детонация")
set dF=GetLastCreatedTimerDialogBJ()
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CR),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CS),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CT),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CU),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CV),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CW),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CX),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CY),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303243,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CZ),bj_UNIT_FACING)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dG)
call EnableTrigger(dH)
return
else
endif
if BkC() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[14],O7[14],"ReplaceableTextures\\CommandButtons\\BTNHolyBolt.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Найти посланца ангелов")
set cl=GetLastCreatedQuestItemBJ()
call CreateNUnitsAtLocFacingLocBJ(1,$6E303436,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DM),GetRectCenter(DK))
call TriggerRegisterUnitEvent(Tx,GetLastCreatedUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(T1,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
set WN=GetLastCreatedUnit()
call SetUnitInvulnerable(WN,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dI)
return
else
endif
if BkD() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[15],O7[15],"ReplaceableTextures\\CommandButtons\\BTNResurrection.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Найти демона-кузнеца")
set cl=GetLastCreatedQuestItemBJ()
call CreateNUnitsAtLocFacingLocBJ(1,$6E303437,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DP),GetRectCenter(DO))
call TriggerRegisterUnitEvent(Tx,GetLastCreatedUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(T1,GetLastCreatedUnit(),EVENT_UNIT_DEATH)
set WO=GetLastCreatedUnit()
call SetUnitInvulnerable(WO,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dJ)
return
else
endif
if BkE() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[16],O7[16],"ReplaceableTextures\\CommandButtons\\BTNHoldPosition.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Убить демона-кузнеца !ИЛИ! убить Духа Света")
set cl=GetLastCreatedQuestItemBJ()
call SetUnitInvulnerable(WO,false)
call SetUnitInvulnerable(WN,false)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dK)
call EnableTrigger(dL)
call EnableTrigger(dM)
call EnableTrigger(dN)
return
else
endif
if BkF() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[17],O7[17],"ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Собрать Голосовой Модуль")
set cl=GetLastCreatedQuestItemBJ()
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Голосовой Модуль","Для того, чтобы собрать Голосовой Модуль, вам понадобится.
1) 100 слитков железа.
2) 50 слитков тория
3) Арканитовый меха-гоблин","BTNLetter.blp")
call SetUnitAnimation(HE,"stand,channel")
call SetUnitAnimation(HE,"victory")
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dO)
return
else
endif
if BkG() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[18],O7[18],"ReplaceableTextures\\CommandButtons\\BTNOrbOfDarkness.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Наполнить Сферу Душ и принести к останкам")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$68303252,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(Cd),GetRandomReal(0,360.))
call CreateItemLoc($49304854,GetUnitLoc(HE))
set dP=GetLastCreatedUnit()
call EnableTrigger(dQ)
call EnableTrigger(dR)
return
else
endif
if BkH() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[19],O7[19],"ReplaceableTextures\\CommandButtons\\BTNFrostWyrm.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Убить дракона")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$6E303449,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(Cd),GetRandomReal(0,360.))
set RI=GetLastCreatedUnit()
set dP=GetLastCreatedUnit()
call SetUnitInvulnerable(dP,true)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41305754
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),dP,"Ноулион",null,"Проклятые зеленые демоны! Я вновь жив, и отомщу вам за свою смерть!",bj_TIMETYPE_SET,4.,true)
call SetUnitOwner(dP,Player(PLAYER_NEUTRAL_AGGRESSIVE),true)
call SetUnitInvulnerable(dP,false)
call SetUnitPositionLoc(dP,GetUnitLoc(dP))
call EnableTrigger(dS)
call EnableTrigger(dT)
call EnableTrigger(dU)
call EnableTrigger(dV)
call EnableTrigger(dW)
return
else
endif
if BkI() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[20],O7[20],"ReplaceableTextures\\CommandButtons\\BTNGreenDragon.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Опять убить дракона")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call CreateNUnitsAtLoc(1,$6E30344A,Player(PLAYER_NEUTRAL_PASSIVE),GetUnitLoc(dP),GetRandomReal(0,360.))
set RI=GetLastCreatedUnit()
set dP=GetLastCreatedUnit()
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,50.)
call SetUnitInvulnerable(dP,true)
call UnitAddAbilityBJ($41304E32,GetLastCreatedUnit())
call UnitAddAbilityBJ($41305556,GetLastCreatedUnit())
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41303537
set bH[4]=$41305754
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),dP,"Ноулион",null,"Вы уничтожили моё тело, но вам не сломить мой бессмертный дух, ничтожные изрыжки Пустоты!",bj_TIMETYPE_SET,4.,false)
call SetUnitOwner(dP,Player(PLAYER_NEUTRAL_AGGRESSIVE),true)
call SetUnitInvulnerable(dP,false)
call EnableTrigger(dX)
call EnableTrigger(dY)
call EnableTrigger(dZ)
call EnableTrigger(da)
call EnableTrigger(db)
call EnableTrigger(dc)
return
else
endif
if BkJ() then
call CreateNUnitsAtLoc(1,$68303732,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(GU),0.)
set UN=GetLastCreatedUnit()
call AddSpecialEffectTargetUnitBJ("origin",GetLastCreatedUnit(),"war3mapImported\\EntanglingSpikes.mdx")
set dd=GetLastCreatedEffectBJ()
call SetUnitAnimationWithRarity(GetLastCreatedUnit(),"victory",RARITY_FREQUENT)
call CreateNUnitsAtLoc(1,$6830354A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(Fl),270.)
set de=GetLastCreatedUnit()
call TriggerRegisterUnitEvent(df,de,EVENT_UNIT_DEATH)
call CreateNUnitsAtLoc(1,$6830354A,Player(PLAYER_NEUTRAL_AGGRESSIVE),GetRectCenter(Fm),180.)
set dg=GetLastCreatedUnit()
call TriggerRegisterUnitEvent(df,dg,EVENT_UNIT_DEATH)
call EnableTrigger(df)
set MW=22
call StartTimerBJ(O4,false,10.)
return
else
endif
if BkK() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[22],O7[22],"BTNLimeTimeless.blp")
set MW=22
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
set Jn=0
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Собрать 5 фрагментов чертежа")
set cl=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dh)
call EnableTrigger(di)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=65
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set dj[GetForLoopIndexA()]=R3[GetForLoopIndexA()]
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set NQ=1
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=5
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set Mt=GetRandomInt(6,65)
set dk=GetRectCenter(dj[Mt])
set dj[Mt]=dj[NQ]
set NQ=NQ+1
call CreateItemLoc($49304B49,dk)
call RemoveLocation(dk)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
return
else
endif
if BkL() then
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[23],O7[23],"ReplaceableTextures\\CommandButtons\\BTNInfernalFlameCannon.blp")
set QQ=GetLastCreatedQuestBJ()
set cm[MW]=QQ
set Jn=0
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Привести инженера к месту постройки")
set dl[1]=GetLastCreatedQuestItemBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Добавить в постройку 20 железа")
set dl[2]=GetLastCreatedQuestItemBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Добавить в постройку 20 серебра")
set dl[3]=GetLastCreatedQuestItemBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Добавить в постройку 20 тория")
set dl[4]=GetLastCreatedQuestItemBJ()
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Добавить в постройку 20 арканита")
set dl[5]=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call EnableTrigger(dm)
set QE=GetRectCenter(Fo)
call AddSpecialEffectLocBJ(QE,"buildings\\other\\CircleOfPower\\CircleOfPower.mdl")
call RemoveLocation(QE)
set dn[1]=GetLastCreatedEffectBJ()
return
else
endif
endfunction
function BkN takes nothing returns nothing
set ck=CreateTrigger()
call TriggerAddAction(ck,function BkM)
endfunction
function BkO takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303355) then
return false
endif
return true
endfunction
function BkP takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BkQ takes nothing returns nothing
call AddHeroXPSwapped(50,GetEnumUnit(),true)
call AdjustPlayerStateBJ(150,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BkP() then
call AddHeroXPSwapped(5*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(5*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BkR takes nothing returns nothing
call RemoveItem(GetManipulatedItem())
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+50|r|c0000FF00 опыта и |c00FED25F+150|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function BkQ)
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
set MW=MW+1
call DisableTrigger(co)
call DisableTrigger(cp)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
set KX=false
endfunction
function BkS takes nothing returns nothing
set cn=CreateTrigger()
call DisableTrigger(cn)
call TriggerRegisterAnyUnitEventBJ(cn,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(cn,Condition(function BkO))
call TriggerAddAction(cn,function BkR)
endfunction
function BkT takes nothing returns boolean
if not (IsUnitAliveBJ(GetTriggerUnit())==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BkU takes nothing returns nothing
call UnitShareVisionBJ(true,dP,GetEnumPlayer())
endfunction
function BkV takes nothing returns nothing
call RemoveUnit(cr)
call CreateNUnitsAtLoc(1,$6F303041,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(cq),bj_UNIT_FACING)
set dP=GetLastCreatedUnit()
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BkU)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Магически-техническая штуковина установлена! Обороняйте её до тех пор, пока данные не будут собраны.")
call StartTimerBJ(Oy,false,GetRandomReal(220.,450.))
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),"Сканирование...")
set dF=GetLastCreatedTimerDialogBJ()
call EnableTrigger(do)
call EnableTrigger(dp)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BkW takes nothing returns nothing
set cs=CreateTrigger()
call DisableTrigger(cs)
call TriggerAddCondition(cs,Condition(function BkT))
call TriggerAddAction(cs,function BkV)
endfunction
function BkX takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303041) then
return false
endif
return true
endfunction
function BkY takes nothing returns nothing
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|c0000FF00Магически-техническая штуковина была уничтожена! Квест провален, дальнейшее выполнение квестов невозможно!|r")
call DestroyTimerDialog(dF)
call QuestSetFailed(QQ,true)
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00FF3000ПРОВАЛЕНО.|r")
call DisableTrigger(dp)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BkZ takes nothing returns nothing
set do=CreateTrigger()
call DisableTrigger(do)
call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(do,Condition(function BkX))
call TriggerAddAction(do,function BkY)
endfunction
function Bka takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bkb takes nothing returns nothing
call AddHeroXPSwapped(100,GetEnumUnit(),true)
call AdjustPlayerStateBJ(200,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bka() then
call AddHeroXPSwapped(10*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(10*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bkc takes nothing returns nothing
call DestroyTimerDialog(dF)
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+100|r|c0000FF00 опыта и |c00FED25F+200|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call RemoveUnit(dP)
set KX=true
call ForGroupBJ(Ir,function Bkb)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call DisableTrigger(do)
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(2)
set KX=false
endfunction
function Bkd takes nothing returns nothing
set dp=CreateTrigger()
call DisableTrigger(dp)
call TriggerRegisterTimerExpireEventBJ(dp,Oy)
call TriggerAddAction(dp,function Bkc)
endfunction
function Bke takes nothing returns boolean
if not (GetTriggerUnit()==ct) then
return false
endif
if not (IsUnitVisible(ct,GetTriggerPlayer())==true) then
return false
endif
return true
endfunction
function Bkf takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bkg takes nothing returns nothing
call AddHeroXPSwapped(130,GetEnumUnit(),true)
call AdjustPlayerStateBJ(250,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bkf() then
call AddHeroXPSwapped(13*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(13*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bkh takes nothing returns nothing
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+130|r|c0000FF00 опыта и |c00FED25F+250|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bkg)
call DisableTrigger(GetTriggeringTrigger())
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function Bki takes nothing returns nothing
set cu=CreateTrigger()
call DisableTrigger(cu)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(cu,Player(9),true)
call TriggerAddCondition(cu,Condition(function Bke))
call TriggerAddAction(cu,function Bkh)
endfunction
function Bkj takes nothing returns boolean
if not (GetUnitLifePercent(ct)==100.) then
return false
endif
return true
endfunction
function Bkk takes nothing returns nothing
call RemoveUnit(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303356)))
endfunction
function Bkl takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bkm takes nothing returns nothing
call AddHeroXPSwapped(150,GetEnumUnit(),true)
call AdjustPlayerStateBJ(300,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bkl() then
call AddHeroXPSwapped(15*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(15*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bkn takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(cw)
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+150|r|c0000FF00 опыта и |c00FED25F+300|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function Bkk)
call ForGroupBJ(Ir,function Bkm)
call SetUnitOwner(ct,Player(PLAYER_NEUTRAL_PASSIVE),true)
call UnitRemoveItemSwapped(UnitItemInSlotBJ(ct,1),ct)
call SetUnitAnimation(ct,"spell")
call TriggerSleepAction(2.)
call ReplaceUnitBJ(ct,$68303142,bj_UNIT_STATE_METHOD_RELATIVE)
call SetUnitInvulnerable(GetLastReplacedUnitBJ(),true)
call SetUnitPathing(GetLastReplacedUnitBJ(),false)
call IssuePointOrderLoc(GetLastReplacedUnitBJ(),"move",GetRectCenter(DI))
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
set KX=false
endfunction
function Bko takes nothing returns nothing
set cv=CreateTrigger()
call DisableTrigger(cv)
call TriggerRegisterTimerEventPeriodic(cv,5.)
call TriggerAddCondition(cv,Condition(function Bkj))
call TriggerAddAction(cv,function Bkn)
endfunction
function Bkp takes nothing returns boolean
if not (IsUnitDeadBJ(ct)==true) then
return false
endif
return true
endfunction
function Bkq takes nothing returns nothing
call RemoveUnit(GroupPickRandomUnit(GetUnitsOfPlayerAndTypeId(GetEnumPlayer(),$68303356)))
endfunction
function Bkr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(cv)
call QuestSetFailed(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|c0000FF00Квест провален! Гном погиб! Дальнейшее прохождение квестов невозможно.|r")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00FF3000ПРОВАЛЕНО.|r")
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function Bkq)
endfunction
function Bks takes nothing returns nothing
set cw=CreateTrigger()
call DisableTrigger(cw)
call TriggerRegisterTimerEventPeriodic(cw,2)
call TriggerAddCondition(cw,Condition(function Bkp))
call TriggerAddAction(cw,function Bkr)
endfunction
function Bkt takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303142) then
return false
endif
return true
endfunction
function Bku takes nothing returns nothing
call SetUnitFacingToFaceLocTimed(GetTriggerUnit(),GetRectCenter(GP),1.)
call UnitRemoveTypeBJ(UNIT_TYPE_FLYING,GetTriggerUnit())
call UnitAddTypeBJ(UNIT_TYPE_GROUND,GetTriggerUnit())
endfunction
function Bkv takes nothing returns nothing
set dq=CreateTrigger()
call TriggerRegisterEnterRectSimple(dq,DI)
call TriggerAddCondition(dq,Condition(function Bkt))
call TriggerAddAction(dq,function Bku)
endfunction
function Bkw takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303149) then
return false
endif
return true
endfunction
function Bkx takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bky takes nothing returns nothing
call AddHeroXPSwapped(200,GetEnumUnit(),true)
call AdjustPlayerStateBJ(400,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bkx() then
call AddHeroXPSwapped(20*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(20*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bkz takes nothing returns boolean
if not (Jk==5) then
return false
endif
return true
endfunction
function Bk0 takes nothing returns boolean
if not (Jk==4) then
return false
endif
return true
endfunction
function Bk1 takes nothing returns boolean
if not (Jk==3) then
return false
endif
return true
endfunction
function Bk2 takes nothing returns boolean
if not (Jk==2) then
return false
endif
return true
endfunction
function Bk3 takes nothing returns boolean
if not (Jk==1) then
return false
endif
return true
endfunction
function Bk4 takes nothing returns nothing
local location Tb
local location Ty
call CreateItemLoc($4930424A,GetUnitLoc(GetTriggerUnit()))
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),"Страж Кузницы",k,"Вы....",bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),GetTriggerUnit(),"Страж Кузницы",null,"Достойны...",bj_TIMETYPE_ADD,3.,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+200|r|c0000FF00 опыта и |c00FED25F+400|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bky)
if Bk3() then
call SetUnitOwner(G6,Kf,true)
else
if Bk2() then
call SetUnitOwner(G9,Kf,true)
else
if Bk1() then
call SetUnitOwner(G7,Kf,true)
else
if Bk0() then
call SetUnitOwner(G8,Kf,true)
else
if Bkz() then
call SetUnitOwner(HB,Kf,true)
else
call SetUnitOwner(HC,Kf,true)
endif
endif
endif
endif
endif
set Tb=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(Tb,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+72.
set Ty=PolarProjectionBJ(Tb,150.,My)
call CreateNUnitsAtLoc(1,$68303245,Player(PLAYER_NEUTRAL_PASSIVE),Ty,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(Ty)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(Tb)
call DisableTrigger(dr)
call DisableTrigger(cy)
call DisableTrigger(ds)
call DisableTrigger(cz)
call DisableTrigger(dt)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function Bk5 takes nothing returns nothing
set cx=CreateTrigger()
call DisableTrigger(cx)
call TriggerRegisterAnyUnitEventBJ(cx,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(cx,Condition(function Bkw))
call TriggerAddAction(cx,function Bk4)
endfunction
function Bk6 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$4930354C)==true) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$68303142) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
return true
endfunction
function Bk7 takes nothing returns nothing
set Jn=Jn+1
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$4930354C))
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FFFFОсталось принести табличек: |r"+I2S(3-Jn))
call ConditionalTriggerExecute(c2)
endfunction
function Bk8 takes nothing returns nothing
set c1=CreateTrigger()
call DisableTrigger(c1)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(c1,Player(9),true)
call TriggerAddCondition(c1,Condition(function Bk6))
call TriggerAddAction(c1,function Bk7)
endfunction
function Bk9 takes nothing returns boolean
if not (Jn==3) then
return false
endif
return true
endfunction
function BlB takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BlC takes nothing returns nothing
call AddHeroXPSwapped(300,GetEnumUnit(),true)
call AdjustPlayerStateBJ(600,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BlB() then
call AddHeroXPSwapped(30*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(30*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BlD takes nothing returns nothing
call QuestItemSetCompleted(c0,true)
call QuestSetCompleted(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+300|r|c0000FF00 опыта и |c00FED25F+600|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call DisableTrigger(c1)
set KX=true
call ForGroupBJ(Ir,function BlC)
call DisableTrigger(GetTriggeringTrigger())
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function BlE takes nothing returns nothing
set c2=CreateTrigger()
call DisableTrigger(c2)
call TriggerAddCondition(c2,Condition(function Bk9))
call TriggerAddAction(c2,function BlD)
endfunction
function BlF takes nothing returns boolean
if not (IsUnitAliveBJ(GetTriggerUnit())==true) then
return false
endif
if not (IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BlG takes nothing returns nothing
call UnitShareVisionBJ(true,dP,GetEnumPlayer())
endfunction
function BlH takes nothing returns nothing
call RemoveUnit(cr)
call CreateNUnitsAtLoc(1,$6F303042,GetOwningPlayer(GetTriggerUnit()),GetRectCenter(cq),bj_UNIT_FACING)
set dP=GetLastCreatedUnit()
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BlG)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|c0000FF00Генератор помех установлен! Нам осталось только продержаться несколько минут, под давлением аур обелисков... ЗАРЯЖАААААЙ!")
call StartTimerBJ(Oy,false,300.)
call CreateTimerDialogBJ(GetLastCreatedTimerBJ(),"Перехват обелисков")
set dF=GetLastCreatedTimerDialogBJ()
call EnableTrigger(du)
call EnableTrigger(dv)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BlI takes nothing returns nothing
set c7=CreateTrigger()
call DisableTrigger(c7)
call TriggerAddCondition(c7,Condition(function BlF))
call TriggerAddAction(c7,function BlH)
endfunction
function BlJ takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6F303042) then
return false
endif
return true
endfunction
function BlK takes nothing returns nothing
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|c0000FF00Генератор помех уничтожен! Теперь ауры обелисков будут подавлять нас, пока мы не умрем! Дальнейшее прохождение квестов невозможно|r")
call DestroyTimerDialog(dF)
call QuestSetFailed(QQ,true)
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00FF3000ПРОВАЛЕНО.|r")
call DisableTrigger(dv)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BlL takes nothing returns nothing
set du=CreateTrigger()
call DisableTrigger(du)
call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(du,Condition(function BlJ))
call TriggerAddAction(du,function BlK)
endfunction
function BlM takes nothing returns boolean
if GetUnitTypeId(GetEnumUnit())==$68303154 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303153 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303150 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303152 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303139 then
return true
endif
if GetUnitTypeId(GetEnumUnit())==$68303151 then
return true
endif
return false
endfunction
function BlN takes nothing returns boolean
if not BlM() then
return false
endif
return true
endfunction
function BlO takes nothing returns nothing
if BlN() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function BlP takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BlQ takes nothing returns nothing
call AddHeroXPSwapped(350,GetEnumUnit(),true)
call AdjustPlayerStateBJ(700,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BlP() then
call AddHeroXPSwapped(35*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(35*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BlR takes nothing returns nothing
call DisableTrigger(du)
call DestroyTimerDialog(dF)
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestItemSetCompleted(c0,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+300|r|c0000FF00 опыта и |c00FED25F+700|r|c0000FF00 золота!
Теперь вы можете активировать обелиски на 10 минут с помощью заряженных табличек!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call RemoveUnit(dP)
call ForGroupBJ(GetUnitsOfPlayerAll(Player(11)),function BlO)
call RemoveUnit(c3)
call RemoveUnit(c5)
call RemoveUnit(c6)
call RemoveUnit(c4)
set KX=true
call ForGroupBJ(Ir,function BlQ)
call DisableTrigger(GetTriggeringTrigger())
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function BlS takes nothing returns nothing
set dv=CreateTrigger()
call DisableTrigger(dv)
call TriggerRegisterTimerExpireEventBJ(dv,Oy)
call TriggerAddAction(dv,function BlR)
endfunction
function BlT takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303239) then
return false
endif
return true
endfunction
function BlU takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BlV takes nothing returns nothing
call AddHeroXPSwapped(400,GetEnumUnit(),true)
call AdjustPlayerStateBJ(800,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BlU() then
call AddHeroXPSwapped(40*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(40*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BlW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+400|r|c0000FF00 опыта и |c00FED25F+800|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),c8,"Попс Алхимик",null,"Хэй-хэй! Зачем так грубо?! Давайте поговорим, обсудим всё...",bj_TIMETYPE_ADD,3.,true)
set KX=true
call ForGroupBJ(Ir,function BlV)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
call TriggerSleepAction(2)
set KX=false
endfunction
function BlX takes nothing returns nothing
set c9=CreateTrigger()
call DisableTrigger(c9)
call TriggerRegisterAnyUnitEventBJ(c9,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(c9,Condition(function BlT))
call TriggerAddAction(c9,function BlW)
endfunction
function BlY takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303238) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
return true
endfunction
function BlZ takes nothing returns boolean
if not (40-Jn<GetItemCharges(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158))) then
return false
endif
return true
endfunction
function Bla takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158)==true) then
return false
endif
return true
endfunction
function Blb takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Blc takes nothing returns nothing
call AddHeroXPSwapped(500,GetEnumUnit(),true)
call AdjustPlayerStateBJ(900,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Blb() then
call AddHeroXPSwapped(50*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(50*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bld takes nothing returns boolean
if not (Jn>=40) then
return false
endif
return true
endfunction
function Ble takes nothing returns nothing
if Bla() then
if BlZ() then
call SetItemCharges(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158),GetItemCharges(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158))-(40-Jn))
set Jn=40
else
set Jn=Jn+GetItemCharges(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158))
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303158))
endif
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FFFFНайдено грибов: |r"+(I2S(Jn)+"|c0000FFFF из|r 40"))
else
endif
if Bld() then
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+500|r|c0000FF00 опыта и |c00FED25F+900|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Blc)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
else
endif
endfunction
function Blf takes nothing returns nothing
set dB=CreateTrigger()
call DisableTrigger(dB)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dB,Player(9),true)
call TriggerAddCondition(dB,Condition(function BlY))
call TriggerAddAction(dB,function Ble)
endfunction
function Blg takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303238) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303731)==true) then
return false
endif
return true
endfunction
function Blh takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(DN))
endfunction
function Bli takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Blj takes nothing returns nothing
call AddHeroXPSwapped(600,GetEnumUnit(),true)
call AdjustPlayerStateBJ(900,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bli() then
call AddHeroXPSwapped(60*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(60*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Blk takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49303731))
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+500|r|c0000FF00 опыта и |c00FED25F+900|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call ForGroupBJ(GetUnitsInRectAll(DS),function Blh)
call CreateNUnitsAtLoc(1,$68303242,GetTriggerPlayer(),GetRectCenter(DS),GetRandomReal(0,360.))
set KX=true
call ForGroupBJ(Ir,function Blj)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function Bll takes nothing returns nothing
set dC=CreateTrigger()
call DisableTrigger(dC)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dC,Player(9),true)
call TriggerAddCondition(dC,Condition(function Blg))
call TriggerAddAction(dC,function Blk)
endfunction
function Blm takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303238) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$4930374D)==true) then
return false
endif
return true
endfunction
function Bln takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Blo takes nothing returns nothing
call AddHeroXPSwapped(5000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bln() then
call AddHeroXPSwapped(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Blp takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$4930374D))
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+5000|r|c0000FF00 опыта и |c00FED25F+2000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Blo)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function Blq takes nothing returns nothing
set dD=CreateTrigger()
call DisableTrigger(dD)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dD,Player(9),true)
call TriggerAddCondition(dD,Condition(function Blm))
call TriggerAddAction(dD,function Blp)
endfunction
function Blr takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303243) then
return false
endif
return true
endfunction
function Bls takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Blt takes nothing returns nothing
call AddHeroXPSwapped(3000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bls() then
call AddHeroXPSwapped(300*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(300*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Blu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+3000|r|c0000FF00 опыта и |c00FED25F+5000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Blt)
set MW=MW+1
call StartTimerBJ(O4,false,20.)
call TriggerSleepAction(2)
set KX=false
endfunction
function Blv takes nothing returns nothing
set dE=CreateTrigger()
call DisableTrigger(dE)
call TriggerRegisterAnyUnitEventBJ(dE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dE,Condition(function Blr))
call TriggerAddAction(dE,function Blu)
endfunction
function Blw takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49303831) then
return false
endif
return true
endfunction
function Blx takes nothing returns nothing
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"Миссия Попса","Попс Алхимик, для тебя у меня есть одно небольшое заданьице. Почему я пишу именно тебе - потому что силой мою проблемку пока решить не удается. В этом деле нужен хитр","ReplaceableTextures\\CommandButtons\\BTNScrollOfHealing.blp")
endfunction
function Bly takes nothing returns nothing
set dw=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(dw,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(dw,Condition(function Blw))
call TriggerAddAction(dw,function Blx)
endfunction
function Blz takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303243) then
return false
endif
return true
endfunction
function Bl0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_MISSIONFAILED,"|c0000FF00Одна из взрывчаток обезврежена! У вас осталось 45 секунд, чтобы обезвредить оставшиеся 8!")
call StartTimerBJ(Oy,false,45.)
endfunction
function Bl1 takes nothing returns nothing
set dG=CreateTrigger()
call DisableTrigger(dG)
call TriggerRegisterAnyUnitEventBJ(dG,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dG,Condition(function Blz))
call TriggerAddAction(dG,function Bl0)
endfunction
function Bl2 takes nothing returns boolean
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
return true
endfunction
function Bl3 takes nothing returns nothing
if Bl2() then
set J4=J4+1
else
endif
endfunction
function Bl4 takes nothing returns boolean
if not (J4>0) then
return false
endif
return true
endfunction
function Bl5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ForGroupBJ(GetUnitsOfPlayerAndTypeId(Player(PLAYER_NEUTRAL_PASSIVE),$68303243),function Bl3)
if Bl4() then
call ConditionalTriggerExecute(dx)
else
call ConditionalTriggerExecute(dy)
endif
endfunction
function Bl6 takes nothing returns nothing
set dH=CreateTrigger()
call DisableTrigger(dH)
call TriggerRegisterTimerExpireEventBJ(dH,Oy)
call TriggerAddAction(dH,function Bl5)
endfunction
function Bl7 takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),50.)
endfunction
function Bl8 takes nothing returns boolean
if not (GetUnitTypeId(GetEnumUnit())==$68303243) then
return false
endif
return true
endfunction
function Bl9 takes nothing returns nothing
if Bl8() then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function BmB takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function BmC takes nothing returns nothing
if BmB() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fD(GetEnumUnit(),GetEnumUnit(),100000)
else
endif
endfunction
function BmD takes nothing returns nothing
call ForGroupBJ(GetUnitsOfPlayerAll(GetEnumPlayer()),function BmC)
endfunction
function BmE takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function BmF takes nothing returns nothing
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|c0000FF00Вы не успели обезвредить все бомбы вовремя! Дальнейшее прохождение цепочки заданий невозможно, а вам сейчас будет нанесен огрмоный урон...")
call DestroyTimerDialog(dF)
call ForForce(GetPlayersAll(),function Bl7)
call CinematicFadeBJ(bj_CINEFADETYPE_FADEOUTIN,2,"ReplaceableTextures\\CameraMasks\\SpecialSplatMask.blp",100.,0,0,0)
call ForGroupBJ(GetUnitsOfPlayerAll(Player(PLAYER_NEUTRAL_PASSIVE)),function Bl9)
call ForForce(GetPlayersByMapControl(MAP_CONTROL_USER),function BmD)
call TriggerSleepAction(2.)
call ForForce(GetPlayersAll(),function BmE)
call QuestSetFailed(QQ,true)
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00FF3000ПРОВАЛЕНО.|r")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function BmG takes nothing returns nothing
set dx=CreateTrigger()
call DisableTrigger(dx)
call TriggerAddAction(dx,function BmF)
endfunction
function BmH takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(GV))
endfunction
function BmI takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BmJ takes nothing returns nothing
call AddHeroXPSwapped(8000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BmI() then
call AddHeroXPSwapped(800*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(800*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BmK takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyTimerDialog(dF)
call QuestSetCompleted(QQ,true)
call QuestItemSetCompleted(cl,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+8000|r|c0000FF00 опыта и |c00FED25F+5000|r|c0000FF00 золота!
А так-же был найден сейф с украденными Попсом рецептами гномов...")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call ForGroupBJ(GetUnitsInRectAll(CR),function BmH)
call CreateNUnitsAtLoc(1,$68303249,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(CR),bj_UNIT_FACING)
call PingMinimapLocForForce(GetPlayersAll(),GetRectCenter(CR),2.)
set KX=true
call ForGroupBJ(Ir,function BmJ)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
call TriggerSleepAction(2)
set KX=false
endfunction
function BmL takes nothing returns nothing
set dy=CreateTrigger()
call DisableTrigger(dy)
call TriggerAddAction(dy,function BmK)
endfunction
function BmM takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303436) then
return false
endif
if not (IsUnitVisible(GetTriggerUnit(),GetTriggerPlayer())==true) then
return false
endif
return true
endfunction
function BmN takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BmO takes nothing returns nothing
call AddHeroXPSwapped(5000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BmN() then
call AddHeroXPSwapped(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BmP takes nothing returns nothing
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+5000|r|c0000FF00 опыта и |c00FED25F+2000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function BmO)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
call TriggerSleepAction(2)
set KX=false
endfunction
function BmQ takes nothing returns nothing
set dI=CreateTrigger()
call DisableTrigger(dI)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dI,Player(9),true)
call TriggerAddCondition(dI,Condition(function BmM))
call TriggerAddAction(dI,function BmP)
endfunction
function BmR takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303437) then
return false
endif
if not (IsUnitVisible(GetTriggerUnit(),GetTriggerPlayer())==true) then
return false
endif
return true
endfunction
function BmS takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BmT takes nothing returns nothing
call AddHeroXPSwapped(5000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BmS() then
call AddHeroXPSwapped(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(500*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BmU takes nothing returns nothing
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+5000|r|c0000FF00 опыта и |c00FED25F+2000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function BmT)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
call TriggerSleepAction(2)
set KX=false
endfunction
function BmV takes nothing returns nothing
set dJ=CreateTrigger()
call DisableTrigger(dJ)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dJ,Player(9),true)
call TriggerAddCondition(dJ,Condition(function BmR))
call TriggerAddAction(dJ,function BmU)
endfunction
function BmW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(WN,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41305452
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],WN)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],WN,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitInvulnerable(WO,true)
call EnableTrigger(d0)
call EnableTrigger(d1)
call EnableTrigger(d2)
call EnableTrigger(d3)
call DisableTrigger(dM)
call DisableTrigger(dL)
call DisableTrigger(dN)
endfunction
function BmX takes nothing returns nothing
set dz=CreateTrigger()
call TriggerAddAction(dz,function BmW)
endfunction
function BmY takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(WO,Player(PLAYER_NEUTRAL_AGGRESSIVE),false)
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$4130384D
set bH[4]=$41304743
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],WO)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],WO,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitInvulnerable(WN,true)
call EnableTrigger(d5)
call EnableTrigger(d6)
call EnableTrigger(d7)
call EnableTrigger(d8)
call DisableTrigger(dM)
call DisableTrigger(dL)
call DisableTrigger(dN)
endfunction
function BmZ takes nothing returns nothing
set d4=CreateTrigger()
call TriggerAddAction(d4,function BmY)
endfunction
function Bma takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303437) then
return false
endif
return true
endfunction
function Bmb takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303436) then
return false
endif
return true
endfunction
function Bmc takes nothing returns nothing
if Bmb() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(dz)
else
if Bma() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(d4)
else
endif
endif
endfunction
function Bmd takes nothing returns nothing
set dL=CreateTrigger()
call DisableTrigger(dL)
call TriggerRegisterAnyUnitEventBJ(dL,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(dL,function Bmc)
endfunction
function Bme takes nothing returns boolean
if not (GetUnitLifePercent(WO)<=99.) then
return false
endif
return true
endfunction
function Bmf takes nothing returns boolean
if not (GetUnitLifePercent(WN)<=99.) then
return false
endif
return true
endfunction
function Bmg takes nothing returns nothing
if Bmf() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(dz)
else
if Bme() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(d4)
else
endif
endif
endfunction
function Bmh takes nothing returns nothing
set dM=CreateTrigger()
call DisableTrigger(dM)
call TriggerRegisterTimerEventPeriodic(dM,10.)
call TriggerAddAction(dM,function Bmg)
endfunction
function Bmi takes nothing returns boolean
if not (GetUnitTypeId(GetSpellTargetUnit())==$6E303437) then
return false
endif
return true
endfunction
function Bmj takes nothing returns boolean
if not (GetUnitTypeId(GetSpellTargetUnit())==$6E303436) then
return false
endif
return true
endfunction
function Bmk takes nothing returns nothing
if Bmj() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(dz)
else
if Bmi() then
call DisableTrigger(GetTriggeringTrigger())
call ConditionalTriggerExecute(d4)
else
endif
endif
endfunction
function Bml takes nothing returns nothing
set dN=CreateTrigger()
call DisableTrigger(dN)
call TriggerRegisterAnyUnitEventBJ(dN,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(dN,function Bmk)
endfunction
function Bmm takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())==$6E303437 then
return true
endif
if GetUnitTypeId(GetTriggerUnit())==$6E303436 then
return true
endif
return false
endfunction
function Bmn takes nothing returns boolean
if not Bmm() then
return false
endif
return true
endfunction
function Bmo takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Bmp takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bmq takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bmp() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bmr takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bms takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bmr() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bmt takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303437) then
return false
endif
return true
endfunction
function Bmu takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(d0)
call DisableTrigger(d9)
call DisableTrigger(eB)
call DisableTrigger(d1)
call DisableTrigger(d2)
call DisableTrigger(d3)
call DisableTrigger(d5)
call DisableTrigger(d6)
call DisableTrigger(eC)
call DisableTrigger(d7)
call DisableTrigger(eD)
call DisableTrigger(d8)
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call ForGroupBJ(Nj,function Bmo)
if Bmt() then
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Теперь вы можете пользоваться Ангельской Кузницей и покупать Книги Времени. Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+5000|r|c0000FF00 золот")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bms)
call RemoveUnit(WN)
call CreateNUnitsAtLoc(1,$68303248,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DQ),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$68303246,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DM),bj_UNIT_FACING)
call SetUnitOwner(GetLastCreatedUnit(),Kf,true)
else
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Теперь вы можете пользоваться Демонической Кузницей и покупать Демонические Рецепты. Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+5000|r")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bmq)
call RemoveUnit(WO)
call CreateNUnitsAtLoc(1,$6830324B,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DP),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,$6830324A,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(DR),bj_UNIT_FACING)
call SetUnitOwner(GetLastCreatedUnit(),Kf,true)
endif
call TriggerSleepAction(2)
set MW=MW+1
call StartTimerBJ(O4,false,GetRandomReal(10.,100.))
set KX=false
endfunction
function Bmv takes nothing returns nothing
set dK=CreateTrigger()
call DisableTrigger(dK)
call TriggerRegisterAnyUnitEventBJ(dK,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dK,Condition(function Bmn))
call TriggerAddAction(dK,function Bmu)
endfunction
function Bmw takes nothing returns boolean
if not (GetTriggerUnit()==HE) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49304853)==true) then
return false
endif
return true
endfunction
function Bmx takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bmy takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bmx() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bmz takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49304853))
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call DisableTrigger(GetTriggeringTrigger())
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+5000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bmy)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
call TriggerSleepAction(2)
set KX=false
endfunction
function Bm0 takes nothing returns nothing
set dO=CreateTrigger()
call DisableTrigger(dO)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dO,Player(9),true)
call TriggerAddCondition(dO,Condition(function Bmw))
call TriggerAddAction(dO,function Bmz)
endfunction
function Bm1 takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetKillingUnitBJ(),$49304854)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),$49304854))!=500) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnitBJ()))==true) then
return false
endif
if not (IsUnitType(GetAttackedUnitBJ(),UNIT_TYPE_SUMMONED)==false) then
return false
endif
return true
endfunction
function Bm2 takes nothing returns nothing
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),$49304854),GetItemCharges(GetItemOfTypeFromUnitBJ(GetKillingUnitBJ(),$49304854))+1)
endfunction
function Bm3 takes nothing returns nothing
set dQ=CreateTrigger()
call DisableTrigger(dQ)
call TriggerRegisterAnyUnitEventBJ(dQ,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dQ,Condition(function Bm1))
call TriggerAddAction(dQ,function Bm2)
endfunction
function Bm4 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303252) then
return false
endif
if not (DistanceBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetUnitLoc(Pd[GetConvertedPlayerId(GetTriggerPlayer())]))<=250.) then
return false
endif
if not (UnitHasItemOfTypeBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49304854)==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49304854))==500) then
return false
endif
return true
endfunction
function Bm5 takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bm6 takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bm5() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bm7 takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(Pd[GetConvertedPlayerId(GetTriggerPlayer())],$49304854))
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(dQ)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
set KX=true
call ForGroupBJ(Ir,function Bm6)
call TriggerSleepAction(2)
set KX=false
call RemoveUnit(dP)
call AddSpecialEffectLocBJ(GetRectCenter(Cd),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(2)
call AddSpecialEffectLocBJ(GetRectCenter(Cd),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(2)
call AddSpecialEffectLocBJ(GetRectCenter(Cd),"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(2)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
endfunction
function Bm8 takes nothing returns nothing
set dR=CreateTrigger()
call DisableTrigger(dR)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(dR,Player(9),true)
call TriggerAddCondition(dR,Condition(function Bm4))
call TriggerAddAction(dR,function Bm7)
endfunction
function Bm9 takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E303449) then
return false
endif
return true
endfunction
function BnB takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BnC takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BnB() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BnD takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(eE)
call DisableTrigger(dS)
call DisableTrigger(dT)
call DisableTrigger(eF)
call DisableTrigger(dU)
call DisableTrigger(eG)
call DisableTrigger(dV)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),dP,"Ноулион",null,"На этот раз... Я.... Не... Сдамся!",bj_TIMETYPE_SET,4.,true)
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call CreateItemLoc($49304855,GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Ir,function BnC)
set MW=MW+1
call StartTimerBJ(O4,false,10.)
call TriggerSleepAction(2)
set KX=false
endfunction
function BnE takes nothing returns nothing
set dW=CreateTrigger()
call DisableTrigger(dW)
call TriggerRegisterAnyUnitEventBJ(dW,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dW,Condition(function Bm9))
call TriggerAddAction(dW,function BnD)
endfunction
function BnF takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30344B) then
return false
endif
return true
endfunction
function BnG takes nothing returns nothing
call SetUnitVertexColorBJ(GetTriggerUnit(),100,100,100,50.)
endfunction
function BnH takes nothing returns nothing
set dc=CreateTrigger()
call DisableTrigger(dc)
call TriggerRegisterEnterRectSimple(dc,GetPlayableMapRect())
call TriggerAddCondition(dc,Condition(function BnF))
call TriggerAddAction(dc,function BnG)
endfunction
function BnI takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$6E30344A) then
return false
endif
return true
endfunction
function BnJ takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function BnK takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if BnJ() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function BnL takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(dc)
call DisableTrigger(eH)
call DisableTrigger(dY)
call DisableTrigger(dZ)
call DisableTrigger(eI)
call DisableTrigger(da)
call DisableTrigger(eJ)
call DisableTrigger(db)
call CreateItemLoc($49304933,GetUnitLoc(GetTriggerUnit()))
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),dP,"Ноулион",null,"Вы... Слишком сильны... Даже для демонов... Вы... Вы и не демоны вовсе!.. Агрх...",bj_TIMETYPE_SET,4.,true)
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call CreateItemLoc($49304855,GetUnitLoc(GetTriggerUnit()))
call ForGroupBJ(Ir,function BnK)
call TriggerSleepAction(2)
set KX=false
call TriggerSleepAction(8.)
call CreateNUnitsAtLoc(1,$68303332,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(Cd),0.)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,100,100,50.)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),dP,"Ноулион",null,"Теперь, когда вы упокоили мой гнев - я вижу, что вы не демоны. И я вижу в вас силу, способную остановить демоническое отродье! Ах, это была славная, но утомляющая битва",bj_TIMETYPE_SET,4.,true)
endfunction
function BnM takes nothing returns nothing
set dX=CreateTrigger()
call DisableTrigger(dX)
call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dX,Condition(function BnI))
call TriggerAddAction(dX,function BnL)
endfunction
function BnN takes nothing returns boolean
if not (IsUnitDeadBJ(de)==true) then
return false
endif
if not (IsUnitDeadBJ(dg)==true) then
return false
endif
return true
endfunction
function BnO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyEffect(dd)
call ResetUnitAnimation(UN)
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O6[21],O7[21],"ReplaceableTextures\\CommandButtons\\BTNKelThuzad.blp")
set eK=GetLastCreatedQuestBJ()
set Nn=CountUnitsInGroup(Ir)*70000
set No=0
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Дать торговцу |cffffd700"+(I2S(Nn)+"|r золота"))
set eL=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
call ReplaceUnitBJ(UN,$68303844,bj_UNIT_STATE_METHOD_RELATIVE)
set UN=GetLastReplacedUnitBJ()
endfunction
function BnP takes nothing returns nothing
set df=CreateTrigger()
call DisableTrigger(df)
call TriggerAddCondition(df,Condition(function BnN))
call TriggerAddAction(df,function BnO)
endfunction
function BnQ takes nothing returns boolean
if not (No>=Nn) then
return false
endif
return true
endfunction
function BnR takes nothing returns nothing
if BnQ() then
call ReplaceUnitBJ(UN,$68303731,bj_UNIT_STATE_METHOD_RELATIVE)
call QuestItemSetCompleted(eL,true)
call QuestSetCompleted(eK,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Теперь в пещере есть торговец!")
call PingMinimapLocForForceEx(GetPlayersAll(),GetRectCenter(GU),3.,bj_MINIMAPPINGSTYLE_FLASHY,0.,100,0.)
call EnableTrigger(eM)
call StartTimerBJ(Np,false,15.)
else
endif
endfunction
function BnS takes nothing returns nothing
set UO=CreateTrigger()
call DisableTrigger(UO)
call TriggerAddAction(UO,function BnR)
endfunction
function BnT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,$68303734,Player(PLAYER_NEUTRAL_PASSIVE),GetRectCenter(Fk),180.)
set UN=GetLastCreatedUnit()
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,O9[3],PB[3],"ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp")
set eK=GetLastCreatedQuestBJ()
set Nn=CountUnitsInGroup(Ir)*300
set No=0
call CreateQuestItemBJ(GetLastCreatedQuestBJ(),"Дать кобольду |cffffd700"+(I2S(Nn)+"|r еды"))
set eL=GetLastCreatedQuestItemBJ()
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_DISCOVERED,"|c0000FF00Получен новый квест! F9 - просмотр списка квестов.")
endfunction
function BnU takes nothing returns nothing
set eM=CreateTrigger()
call DisableTrigger(eM)
call TriggerRegisterTimerExpireEventBJ(eM,Np)
call TriggerAddAction(eM,function BnT)
endfunction
function BnV takes nothing returns boolean
if not (No>=Nn) then
return false
endif
return true
endfunction
function BnW takes nothing returns nothing
if BnV() then
call SetUnitOwner(UN,Kf,false)
call ReplaceUnitBJ(UN,$68303733,bj_UNIT_STATE_METHOD_RELATIVE)
call AddSpecialEffectTargetUnitBJ("origin",UN,"Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestItemSetCompleted(eL,true)
call QuestSetCompleted(eK,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Теперь в пещере есть котелок для создания зелий!")
call PingMinimapLocForForceEx(GetPlayersAll(),GetRectCenter(Fk),3.,bj_MINIMAPPINGSTYLE_FLASHY,0.,100,0.)
else
endif
endfunction
function BnX takes nothing returns nothing
set UP=CreateTrigger()
call DisableTrigger(UP)
call TriggerAddAction(UP,function BnW)
endfunction
function BnY takes nothing returns boolean
if not (GetOwningPlayer(GetTriggerUnit())!=Player(11)) then
return false
endif
return true
endfunction
function BnZ takes nothing returns nothing
call SetUnitOwner(GetTriggerUnit(),Player(11),false)
endfunction
function Bna takes nothing returns nothing
set di=CreateTrigger()
call DisableTrigger(di)
call TriggerAddCondition(di,Condition(function BnY))
call TriggerAddAction(di,function BnZ)
endfunction
function Bnb takes nothing returns boolean
if not (GetItemTypeId(GetManipulatedItem())==$49304B49) then
return false
endif
return true
endfunction
function Bnc takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bnd takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bnc() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bne takes nothing returns boolean
if not (Jn==5) then
return false
endif
return true
endfunction
function Bnf takes nothing returns nothing
set Jn=Jn+1
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_ALWAYSHINT,"|c0000FFFFСобрано фрагментов чертежа: |r"+I2S(Jn))
if Bne() then
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(di)
call QuestItemSetCompleted(cl,true)
call QuestSetCompleted(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
call ForGroupBJ(Ir,function Bnd)
call TriggerSleepAction(2)
set KX=false
set MW=23
call StartTimerBJ(O4,false,10.)
else
endif
endfunction
function Bng takes nothing returns nothing
set dh=CreateTrigger()
call DisableTrigger(dh)
call TriggerRegisterAnyUnitEventBJ(dh,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerRegisterAnyUnitEventBJ(dh,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(dh,Condition(function Bnb))
call TriggerAddAction(dh,function Bnf)
endfunction
function Bnh takes nothing returns boolean
if not (GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER) then
return false
endif
if not (GetUnitTypeId(GetTriggerUnit())==$4E303030) then
return false
endif
return true
endfunction
function Bni takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetRectCenter(Fo)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call DestroyEffect(dn[1])
call TriggerSleepAction(2)
set QE=GetRectCenter(Fo)
call CreateNUnitsAtLoc(1,$68303735,Kf,QE,bj_UNIT_FACING)
call RemoveLocation(QE)
set eN=GetLastCreatedUnit()
call SetUnitLifePercentBJ(eN,5.)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cffadff2fКузница начала постройку! Используйте \"|r|cffffff00Ремонт|r|cffadff2f\" чтобы добавлять в неё ресурсы.|r |cffff0000ВНИМАНИЕ! Кузница может быть уничтожена врагами!|r")
call EnableTrigger(eO)
call EnableTrigger(eP)
call QuestItemSetCompleted(dl[1],true)
set Nq=5.
set eQ[1]=$49303056
set eQ[2]=$49303057
set eQ[3]=$49303055
set eQ[4]=$49303054
set Nr=1
set Jn=0
set Nt="|c00C0C0C0Железный слиток|r"
call StartTimerBJ(Ns,true,1.)
call EnableTrigger(eR)
endfunction
function Bnj takes nothing returns nothing
set dm=CreateTrigger()
call DisableTrigger(dm)
call TriggerRegisterEnterRectSimple(dm,Fo)
call TriggerAddCondition(dm,Condition(function Bnh))
call TriggerAddAction(dm,function Bni)
endfunction
function Bnk takes nothing returns boolean
if not (GetTriggerUnit()==eN) then
return false
endif
return true
endfunction
function Bnl takes nothing returns nothing
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_FAILED,"|c0000FF00Великая кузница уничтожена! Теперь мы не сможем использовать её для создания самого мощного снаряжения!|r")
call QuestSetFailed(QQ,true)
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00FF3000ПРОВАЛЕНО.|r")
call DestroyEffect(dn[1])
call DestroyEffect(dn[2])
call DestroyEffect(dn[3])
call DestroyEffect(dn[4])
call DestroyEffect(dn[5])
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(eR)
call DisableTrigger(eP)
call PauseTimerBJ(true,Ns)
endfunction
function Bnm takes nothing returns nothing
set eO=CreateTrigger()
call DisableTrigger(eO)
call TriggerRegisterAnyUnitEventBJ(eO,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(eO,Condition(function Bnk))
call TriggerAddAction(eO,function Bnl)
endfunction
function Bnn takes nothing returns boolean
if not (IsUnitAliveBJ(eN)==true) then
return false
endif
if not (GetUnitLifePercent(eN)>Nq) then
return false
endif
return true
endfunction
function Bno takes nothing returns nothing
call SetUnitLifePercentBJ(eN,Nq)
endfunction
function Bnp takes nothing returns nothing
set eR=CreateTrigger()
call DisableTrigger(eR)
call TriggerRegisterTimerExpireEventBJ(eR,Ns)
call TriggerAddCondition(eR,Condition(function Bnn))
call TriggerAddAction(eR,function Bno)
endfunction
function Bnq takes nothing returns boolean
if not (GetSpellAbilityId()==$4130354E) then
return false
endif
if not (GetSpellTargetUnit()==eN) then
return false
endif
return true
endfunction
function Bnr takes nothing returns boolean
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),eQ[Nr]))<1) then
return false
endif
return true
endfunction
function Bns takes nothing returns boolean
if not (Nr==4) then
return false
endif
return true
endfunction
function Bnt takes nothing returns boolean
if not (Nr==3) then
return false
endif
return true
endfunction
function Bnu takes nothing returns boolean
if not (Nr==2) then
return false
endif
return true
endfunction
function Bnv takes nothing returns boolean
if not (Nr==4) then
return false
endif
return true
endfunction
function Bnw takes nothing returns boolean
if not (Jn==20) then
return false
endif
return true
endfunction
function Bnx takes nothing returns boolean
if not (UnitHasItemOfTypeBJ(GetTriggerUnit(),eQ[Nr])==true) then
return false
endif
if not (GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),eQ[Nr]))>=1) then
return false
endif
return true
endfunction
function Bny takes nothing returns nothing
if Bnx() then
set QE=GetRandomLocInRect(Fo)
call CreateTextTagLocBJ(Nt+(" : "+(I2S(Jn)+"|cffadff2f/20|r")),QE,50.,8.,0.,100,0.,0.)
call RemoveLocation(QE)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.5)
set Jn=Jn+1
call SetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),eQ[Nr]),GetItemCharges(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),eQ[Nr]))-1)
if Bnr() then
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),eQ[Jn]))
else
endif
if Bnw() then
if Bnv() then
call ConditionalTriggerExecute(eS)
else
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call QuestItemSetCompleted(dl[Nr+1],true)
set Nq=Nq+30.
set Nr=Nr+1
set Jn=0
if Bnu() then
set Nt="|c0080FFFFСеребряный слиток|r"
else
if Bnt() then
set Nt="|c00FF00FFТориевый слиток|r"
set QE=GetRandomLocInRect(Fo)
call TransmissionFromUnitTypeWithNameBJ(GetPlayersAll(),Player(11),$6E303732,"Хазул",QE,null,"Ах вы проклятые зеленые отродья! Я не позволю вам портить мой прекрасный проект Великой кузницы! Умрите!",bj_TIMETYPE_SET,5.,false)
call RemoveLocation(QE)
call EnableTrigger(eT)
call StartTimerBJ(Nu,false,8.)
else
if Bns() then
set Nt="|c00FF8040Арканитовый слиток|r"
else
endif
endif
endif
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,"|cff9acd32Кузница увеличила максимальный запас здоровья на 30%. Для дальнейшей постройки нужен: |r"+Nt)
endif
else
endif
else
set QE=GetRandomLocInRect(Fo)
call CreateTextTagLocBJ("|cffadff2fДля дальнейшей постройки кузницы нужен: |r"+Nt,QE,50.,8.,0.,100,0.,0.)
call RemoveLocation(QE)
call SetTextTagPermanentBJ(GetLastCreatedTextTag(),false)
call SetTextTagLifespanBJ(GetLastCreatedTextTag(),2.)
call SetTextTagFadepointBJ(GetLastCreatedTextTag(),1.5)
endif
endfunction
function Bnz takes nothing returns nothing
set eP=CreateTrigger()
call DisableTrigger(eP)
call TriggerRegisterAnyUnitEventBJ(eP,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(eP,Condition(function Bnq))
call TriggerAddAction(eP,function Bny)
endfunction
function Bn0 takes nothing returns nothing
set QE=GetRectCenter(CP)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303732,Player(11),QE,bj_UNIT_FACING)
call RemoveLocation(QE)
set RI=GetLastCreatedUnit()
set bH[1]=$41314236
set bH[2]=$41304E32
set bH[3]=$41304449
set bH[4]=$41314533
set bH[5]=$41303852
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitAddAbilityBJ(bH[GetForLoopIndexA()],RI)
call SetUnitAbilityLevelSwapped(bH[GetForLoopIndexA()],RI,Iu/10)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnableTrigger(eU)
call EnableTrigger(eV)
call EnableTrigger(eW)
call TriggerRegisterUnitEvent(eW,RI,EVENT_UNIT_DAMAGED)
endfunction
function Bn1 takes nothing returns nothing
set eT=CreateTrigger()
call DisableTrigger(eT)
call TriggerRegisterTimerExpireEventBJ(eT,Nu)
call TriggerAddAction(eT,function Bn0)
endfunction
function Bn2 takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=20.) then
return false
endif
return true
endfunction
function Bn3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(eU)
call DisableTrigger(eX)
call DisableTrigger(eV)
call PauseUnitBJ(true,RI)
call SetUnitInvulnerable(RI,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),RI,"Хазул",null,"Вы... Вы точно демоны! ДЕМОНЫ! ЧУДОВИЩА! Я не могу умереть здесь! Я использую свой прототип машины времени, и сражусь с вами в будущем, когда буду готов!",bj_TIMETYPE_SET,10.,true)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(2)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(1.)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.25)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(3.)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Other\\Monsoon\\MonsoonBoltTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveUnit(RI)
call RemoveLocation(QE)
endfunction
function Bn4 takes nothing returns nothing
set eW=CreateTrigger()
call DisableTrigger(eW)
call TriggerAddCondition(eW,Condition(function Bn2))
call TriggerAddAction(eW,function Bn3)
endfunction
function Bn5 takes nothing returns boolean
if not (KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]>0) then
return false
endif
return true
endfunction
function Bn6 takes nothing returns nothing
call AddHeroXPSwapped(10000,GetEnumUnit(),true)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetEnumUnit()),PLAYER_STATE_RESOURCE_GOLD)
if Bn5() then
call AddHeroXPSwapped(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],GetEnumUnit(),true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),I2S(1000*KK[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))])+"|c0080FFFF дополнительного опыта за специализацию |r|cff7fffd4Полиглот|r")
else
endif
endfunction
function Bn7 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ReplaceUnitBJ(eN,$68303547,bj_UNIT_STATE_METHOD_RELATIVE)
call DisableTrigger(eT)
call DisableTrigger(dm)
call DisableTrigger(eO)
call DisableTrigger(eP)
call DisableTrigger(eR)
call PauseTimerBJ(true,Ns)
call QuestSetCompleted(QQ,true)
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_COMPLETED,"|c0000FF00Квест выполнен! Все игроки получают |c0080FFFF+10000|r|c0000FF00 опыта и |c00FED25F+10000|r|c0000FF00 золота!")
call MultiboardSetItemValueBJ(MY,1,Is+5,"|c00FF8020Задание: |c00208080Выполнено.|r")
set KX=true
set Ne=true
call ForGroupBJ(Ir,function Bn6)
call TriggerSleepAction(2)
set KX=false
call TriggerSleepAction(8.)
endfunction
function Bn8 takes nothing returns nothing
set eS=CreateTrigger()
call DisableTrigger(eS)
call TriggerAddAction(eS,function Bn7)
endfunction
function Bn9 takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=80.) then
return false
endif
return true
endfunction
function BoB takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RI),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false) then
return false
endif
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function BoC takes nothing returns nothing
if BoB() then
call SetUnitPositionLoc(GetEnumUnit(),QE)
call fB(RI,GetEnumUnit(),0)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
else
endif
endfunction
function BoD takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function BoE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RI)
call AddSpecialEffectTargetUnitBJ("origin",RI,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RI)
call AddSpecialEffectTargetUnitBJ("origin",RI,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RI)
call AddSpecialEffectTargetUnitBJ("origin",RI,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RI)
call AddSpecialEffectTargetUnitBJ("origin",RI,"Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(.5)
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
call AddSpecialEffectTargetUnitBJ("origin",RI,"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BoC)
call RemoveLocation(QE)
call RemoveRect(Rx)
call TriggerSleepAction(10.)
if BoD() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BoF takes nothing returns nothing
set eU=CreateTrigger()
call DisableTrigger(eU)
call TriggerRegisterAnyUnitEventBJ(eU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eU,Condition(function Bn9))
call TriggerAddAction(eU,function BoE)
endfunction
function BoG takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(GetTriggerUnit())<=90.) then
return false
endif
return true
endfunction
function BoH takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bH[7]=$41314534
call UnitAddAbilityBJ(bH[7],RI)
call EnableTrigger(eX)
endfunction
function BoI takes nothing returns nothing
set eV=CreateTrigger()
call DisableTrigger(eV)
call TriggerRegisterAnyUnitEventBJ(eV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eV,Condition(function BoG))
call TriggerAddAction(eV,function BoH)
endfunction
function BoJ takes nothing returns boolean
if not (GetSpellAbilityId()==$41314534) then
return false
endif
return true
endfunction
function BoK takes nothing returns boolean
if not (IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true) then
return false
endif
return true
endfunction
function BoL takes nothing returns nothing
if BoK() then
set QI=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,$6E30354B,GetOwningPlayer(RI),QI,bj_UNIT_FACING)
call AddSpecialEffectTargetUnitBJ("overhead",GetLastCreatedUnit(),"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),0.,0.,100,50.)
call UnitApplyTimedLifeBJ(1.5,$42466967,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
else
endif
endfunction
function BoM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RI)
call UnitRemoveAbilityBJ($41314534,RI)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("overhead",RH,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call TriggerSleepAction(1.)
call ShowUnitHide(RH)
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,2000.,2000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function BoL)
call RemoveLocation(QE)
call RemoveRect(Rx)
call RemoveLocation(QI)
call TriggerSleepAction(2.)
call ShowUnitShow(RI)
call PauseUnitBJ(false,RI)
call AddSpecialEffectTargetUnitBJ("overhead",RI,"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function BoN takes nothing returns nothing
set eX=CreateTrigger()
call DisableTrigger(eX)
call TriggerRegisterAnyUnitEventBJ(eX,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(eX,Condition(function BoJ))
call TriggerAddAction(eX,function BoM)
endfunction
function BoO takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetRandomInt(1,5)==1) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303047) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function BoP takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303047) then
return false
endif
return true
endfunction
function BoQ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RI)
set QI=GetUnitLoc(GetAttacker())
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call ShowUnitHide(RI)
call PauseUnitBJ(true,RI)
call CreateNUnitsAtLoc(1,$68303651,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attackground",QI)
call RemoveLocation(QE)
call RemoveLocation(QI)
call TriggerSleepAction(8.)
if BoP() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BoR takes nothing returns nothing
set co=CreateTrigger()
call DisableTrigger(co)
call TriggerRegisterAnyUnitEventBJ(co,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(co,Condition(function BoO))
call TriggerAddAction(co,function BoQ)
endfunction
function BoS takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303652) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303047) then
return false
endif
return true
endfunction
function BoT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(QE,"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fE(GetTriggerUnit(),QE,300,0,"Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl")
call SetUnitPositionLoc(RI,QE)
call RemoveLocation(QE)
call ShowUnitShow(RI)
call PauseUnitBJ(false,RI)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function BoU takes nothing returns nothing
set cp=CreateTrigger()
call DisableTrigger(cp)
call TriggerRegisterEnterRectSimple(cp,GetPlayableMapRect())
call TriggerAddCondition(cp,Condition(function BoS))
call TriggerAddAction(cp,function BoT)
endfunction
function BoV takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function BoW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(dr)
endfunction
function BoX takes nothing returns nothing
set cy=CreateTrigger()
call DisableTrigger(cy)
call TriggerRegisterAnyUnitEventBJ(cy,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(cy,Condition(function BoV))
call TriggerAddAction(cy,function BoW)
endfunction
function BoY takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (Nk==false) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BoZ takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Boa takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Bob takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Boc takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Bod takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Boe takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Bof takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
return true
endfunction
function Bog takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nk=true
call PauseUnitBJ(true,RI)
call SetUnitAnimation(RI,"slam")
call TriggerSleepAction(.1)
if BoZ() then
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fF(RI,QE,300,0,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call RemoveLocation(QE)
else
endif
call TriggerSleepAction(.5)
if Boa() then
call SetUnitAnimation(RI,"slam")
else
endif
call TriggerSleepAction(.1)
if Bob() then
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fF(RI,QE,300,0,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call RemoveLocation(QE)
else
endif
call TriggerSleepAction(.5)
if Boc() then
call SetUnitAnimation(RI,"slam")
else
endif
call TriggerSleepAction(.1)
if Bod() then
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fF(RI,QE,300,0,"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call RemoveLocation(QE)
else
endif
call TriggerSleepAction(.5)
if Boe() then
set QE=GetUnitLoc(RI)
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call UnitAddAbilityBJ($41314C59,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"bloodlust",RI)
call RemoveLocation(QE)
call ResetUnitAnimation(RI)
call PauseUnitBJ(false,RI)
else
endif
set Nk=false
call TriggerSleepAction(8.)
if Bof() then
call EnableTrigger(GetTriggeringTrigger())
else
call RemoveUnit(RI)
endif
endfunction
function Boh takes nothing returns nothing
set dr=CreateTrigger()
call DisableTrigger(dr)
call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dr,Condition(function BoY))
call TriggerAddAction(dr,function Bog)
endfunction
function Boi takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function Boj takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(ds)
call EnableTrigger(dt)
endfunction
function Bok takes nothing returns nothing
set cz=CreateTrigger()
call DisableTrigger(cz)
call TriggerRegisterAnyUnitEventBJ(cz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(cz,Condition(function Boi))
call TriggerAddAction(cz,function Boj)
endfunction
function Bol takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_ANCIENT)==false) then
return false
endif
return true
endfunction
function Bom takes nothing returns nothing
call PauseUnitBJ(false,GetEnumUnit())
call GroupRemoveUnitSimple(GetEnumUnit(),Nj)
endfunction
function Bon takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
return true
endfunction
function Boo takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetAttacker())
set My=0.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set My=My+72.
set QI=PolarProjectionBJ(QE,100.,My)
call CreateNUnitsAtLoc(1,$68303653,Player(PLAYER_NEUTRAL_AGGRESSIVE),QI,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(5.,$42544C46,GetLastCreatedUnit())
call AddSpecialEffectLocBJ(QI,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call TriggerSleepAction(7.)
call ForGroupBJ(Nj,function Bom)
call TriggerSleepAction(20.)
if Bon() then
call EnableTrigger(GetTriggeringTrigger())
else
call RemoveUnit(RI)
endif
endfunction
function Bop takes nothing returns nothing
set ds=CreateTrigger()
call DisableTrigger(ds)
call TriggerRegisterAnyUnitEventBJ(ds,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ds,Condition(function Bol))
call TriggerAddAction(ds,function Boo)
endfunction
function Boq takes nothing returns boolean
if not (GetUnitTypeId(GetTriggerUnit())==$68303653) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303149) then
return false
endif
if not (IsUnitType(GetKillingUnitBJ(),UNIT_TYPE_HERO)==false) then
return false
endif
return true
endfunction
function Bor takes nothing returns nothing
set QE=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,$6E303658,GetOwningPlayer(RI),QE,GetRandomReal(0,1))
call UnitApplyTimedLifeBJ(20.,$42466967,GetLastCreatedUnit())
call SetUnitPathing(GetLastCreatedUnit(),false)
call GroupAddUnitSimple(GetLastCreatedUnit(),Nj)
call PauseUnitBJ(true,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"birth")
call RemoveLocation(QE)
endfunction
function Bos takes nothing returns nothing
set dt=CreateTrigger()
call DisableTrigger(dt)
call TriggerRegisterAnyUnitEventBJ(dt,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(dt,Condition(function Boq))
call TriggerAddAction(dt,function Bor)
endfunction
function Bot takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bou takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eB)
endfunction
function Bov takes nothing returns nothing
set d0=CreateTrigger()
call DisableTrigger(d0)
call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d0,Condition(function Bot))
call TriggerAddAction(d0,function Bou)
endfunction
function Bow takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (Nk==false) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Box takes nothing returns nothing
set eY[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(eY[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
endfunction
function Boy takes nothing returns nothing
call AddSpecialEffectLocBJ(eY[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],"Objects\\Spawnmodels\\NightElf\\NEDeathSmall\\NEDeathSmall.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fF(RI,eY[GetConvertedPlayerId(GetOwningPlayer(GetEnumUnit()))],300,0,"Abilities\\Spells\\Human\\Resurrect\\ResurrectCaster.mdll")
endfunction
function Boz takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
return true
endfunction
function Bo0 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nk=true
call ForGroupBJ(Ir,function Box)
call TriggerSleepAction(2)
call ForGroupBJ(Ir,function Boy)
set Nk=false
call TriggerSleepAction(8.)
if Boz() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bo1 takes nothing returns nothing
set eB=CreateTrigger()
call DisableTrigger(eB)
call TriggerRegisterAnyUnitEventBJ(eB,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eB,Condition(function Bow))
call TriggerAddAction(eB,function Bo0)
endfunction
function Bo2 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bo3 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(d9)
endfunction
function Bo4 takes nothing returns nothing
set d1=CreateTrigger()
call DisableTrigger(d1)
call TriggerRegisterAnyUnitEventBJ(d1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d1,Condition(function Bo2))
call TriggerAddAction(d1,function Bo3)
endfunction
function Bo5 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (Nk==false) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bo6 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(RI),GetOwningPlayer(GetEnumUnit()))==true) then
return false
endif
return true
endfunction
function Bo7 takes nothing returns nothing
if Bo6() then
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call fO(RI,GetEnumUnit(),4)
else
endif
endfunction
function Bo8 takes nothing returns boolean
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
return true
endfunction
function Bo9 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set Nk=true
call PauseUnitBJ(true,RI)
call SetUnitInvulnerable(RI,true)
call SetUnitAnimationWithRarity(RI,"spell",RARITY_FREQUENT)
call TriggerSleepAction(3.)
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,3000.,3000.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bo7)
call ResetUnitAnimation(RI)
call PauseUnitBJ(false,RI)
call SetUnitInvulnerable(RI,false)
call RemoveLocation(QE)
call RemoveRect(Rx)
set Nk=false
call TriggerSleepAction(30.)
if Bo8() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BpB takes nothing returns nothing
set d9=CreateTrigger()
call DisableTrigger(d9)
call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d9,Condition(function Bo5))
call TriggerAddAction(d9,function Bo9)
endfunction
function BpC takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpD takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
return true
endfunction
function BpE takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,1000.,1000.)
set QI=GetRandomLocInRect(Rx)
call CreateNUnitsAtLoc(1,$68303654,GetOwningPlayer(RI),QI,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped($41303946,RI,Iu/10)
call UnitApplyTimedLifeBJ(12.,$42687764,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call RemoveRect(Rx)
call TriggerSleepAction(1.+GetUnitLifePercent(RI)/5.)
if BpD() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BpF takes nothing returns nothing
set d2=CreateTrigger()
call DisableTrigger(d2)
call TriggerRegisterAnyUnitEventBJ(d2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d2,Condition(function BpC))
call TriggerAddAction(d2,function BpE)
endfunction
function BpG takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RI)<=5.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpH takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303436) then
return false
endif
return true
endfunction
function BpI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call SetUnitLifePercentBJ(RI,35.)
call TriggerSleepAction(120.)
if BpH() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BpJ takes nothing returns nothing
set d3=CreateTrigger()
call DisableTrigger(d3)
call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d3,Condition(function BpG))
call TriggerAddAction(d3,function BpI)
endfunction
function BpK takes nothing returns boolean
if GetAttackedUnitBJ()==RI then
return true
endif
if GetUnitTypeId(GetAttackedUnitBJ())==$6E303437 then
return true
endif
return false
endfunction
function BpL takes nothing returns boolean
if not BpK() then
return false
endif
if not (UnitHasBuffBJ(GetAttackedUnitBJ(),$42303635)==true) then
return false
endif
if not (GetRandomInt(1,10)<=3) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpM takes nothing returns nothing
set QE=GetUnitLoc(RI)
call CreateNUnitsAtLoc(1,$68303655,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetAttacker())
call RemoveLocation(QE)
endfunction
function BpN takes nothing returns nothing
set d5=CreateTrigger()
call DisableTrigger(d5)
call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d5,Condition(function BpL))
call TriggerAddAction(d5,function BpM)
endfunction
function BpO takes nothing returns boolean
if not (GetAttacker()==RI) then
return false
endif
if not (GetRandomInt(1,10)<=2) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpP takes nothing returns nothing
set QE=GetUnitLoc(GetAttackedUnitBJ())
call CreateNUnitsAtLoc(1,$6864756D,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
set bH[10]=$41303947
call UnitAddAbilityBJ(bH[10],GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(bH[10],GetLastCreatedUnit(),Iu/10)
call UnitApplyTimedLifeBJ(2.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"cripple",GetAttackedUnitBJ())
call RemoveLocation(QE)
endfunction
function BpQ takes nothing returns nothing
set d6=CreateTrigger()
call DisableTrigger(d6)
call TriggerRegisterAnyUnitEventBJ(d6,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d6,Condition(function BpO))
call TriggerAddAction(d6,function BpP)
endfunction
function BpR takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=30.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpS takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eC)
endfunction
function BpT takes nothing returns nothing
set d7=CreateTrigger()
call DisableTrigger(d7)
call TriggerRegisterAnyUnitEventBJ(d7,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d7,Condition(function BpR))
call TriggerAddAction(d7,function BpS)
endfunction
function BpU takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpV takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
return true
endfunction
function BpW takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(RI)
call PauseUnitBJ(true,RI)
call ShowUnitHide(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(2)
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303659,GetOwningPlayer(RI),QE,GetRandomDirectionDeg())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,40.,40.,50.)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),200.)
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(1.5,$42466967,GetLastCreatedUnit())
call TriggerSleepAction(1.5)
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303659,GetOwningPlayer(RI),QE,GetRandomDirectionDeg())
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,40.,40.,50.)
call SetUnitTimeScalePercent(GetLastCreatedUnit(),200.)
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(1.5,$42466967,GetLastCreatedUnit())
call TriggerSleepAction(1.5)
set QE=GetUnitLoc(GroupPickRandomUnit(Ir))
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call CreateNUnitsAtLoc(1,$6E303659,GetOwningPlayer(RI),QE,GetRandomDirectionDeg())
call SetUnitTimeScalePercent(GetLastCreatedUnit(),200.)
call SetUnitVertexColorBJ(GetLastCreatedUnit(),100,40.,40.,50.)
call RemoveLocation(QE)
call UnitApplyTimedLifeBJ(1.5,$42466967,GetLastCreatedUnit())
call TriggerSleepAction(1.5)
call ShowUnitShow(RI)
call PauseUnitBJ(false,RI)
set QE=GetUnitLoc(RI)
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
call RemoveLocation(QE)
call TriggerSleepAction(30.)
if BpV() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BpX takes nothing returns nothing
set eC=CreateTrigger()
call DisableTrigger(eC)
call TriggerRegisterAnyUnitEventBJ(eC,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eC,Condition(function BpU))
call TriggerAddAction(eC,function BpW)
endfunction
function BpY takes nothing returns boolean
if not (GetTriggerUnit()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=50.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BpZ takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eD)
endfunction
function Bpa takes nothing returns nothing
set d8=CreateTrigger()
call DisableTrigger(d8)
call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(d8,Condition(function BpY))
call TriggerAddAction(d8,function BpZ)
endfunction
function Bpb takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303437) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpc takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetRectCenter(DR)
call CreateNUnitsAtLoc(1,$68303656,GetOwningPlayer(GetTriggerUnit()),QE,bj_UNIT_FACING)
set Nj=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(RI),GetUnitTypeId(GetLastCreatedUnit()))
call RemoveLocation(QE)
endfunction
function Bpd takes nothing returns nothing
set eD=CreateTrigger()
call DisableTrigger(eD)
call TriggerRegisterAnyUnitEventBJ(eD,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eD,Condition(function Bpb))
call TriggerAddAction(eD,function Bpc)
endfunction
function Bpe takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpf takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eE)
endfunction
function Bpg takes nothing returns nothing
set dS=CreateTrigger()
call DisableTrigger(dS)
call TriggerRegisterAnyUnitEventBJ(dS,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dS,Condition(function Bpe))
call TriggerAddAction(dS,function Bpf)
endfunction
function Bph takes nothing returns boolean
if not (GetAttacker()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpi takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(RI))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetEnumUnit()!=GetAttackedUnitBJ()) then
return false
endif
return true
endfunction
function Bpj takes nothing returns nothing
if Bpi() then
call CreateNUnitsAtLoc(1,$6E30365A,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
set bH[10]=$41305754
call UnitAddAbilityBJ(bH[10],GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(bH[10],GetLastCreatedUnit(),Iu/10)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
else
endif
endfunction
function Bpk takes nothing returns boolean
if not (Nm==5) then
return false
endif
return true
endfunction
function Bpl takes nothing returns nothing
set Nm=Nm+1
if Bpk() then
set Nm=0
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,1200.,1200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bpj)
call RemoveRect(Rx)
call RemoveLocation(QE)
else
endif
endfunction
function Bpm takes nothing returns nothing
set eE=CreateTrigger()
call DisableTrigger(eE)
call TriggerRegisterAnyUnitEventBJ(eE,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eE,Condition(function Bph))
call TriggerAddAction(eE,function Bpl)
endfunction
function Bpn takes nothing returns boolean
if not (GetSpellTargetUnit()==RI) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(RI))==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
return true
endfunction
function Bpo takes nothing returns nothing
set QE=GetUnitLoc(RI)
call CreateNUnitsAtLoc(1,$6E30365A,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
call RemoveLocation(QE)
endfunction
function Bpp takes nothing returns nothing
set dT=CreateTrigger()
call DisableTrigger(dT)
call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(dT,Condition(function Bpn))
call TriggerAddAction(dT,function Bpo)
endfunction
function Bpq takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpr takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eF)
endfunction
function Bps takes nothing returns nothing
set dU=CreateTrigger()
call DisableTrigger(dU)
call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dU,Condition(function Bpq))
call TriggerAddAction(dU,function Bpr)
endfunction
function Bpt takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpu takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
return true
endfunction
function Bpv takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RI)
call SetUnitInvulnerable(RI,true)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"spell",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
set QE=GetUnitLoc(RI)
call TriggerSleepAction(.3)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303657,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call PauseUnitBJ(false,RI)
call SetUnitInvulnerable(RI,false)
call TriggerSleepAction(30.)
if Bpu() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bpw takes nothing returns nothing
set eF=CreateTrigger()
call DisableTrigger(eF)
call TriggerRegisterAnyUnitEventBJ(eF,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eF,Condition(function Bpt))
call TriggerAddAction(eF,function Bpv)
endfunction
function Bpx takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=40.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bpy takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eG)
endfunction
function Bpz takes nothing returns nothing
set dV=CreateTrigger()
call DisableTrigger(dV)
call TriggerRegisterAnyUnitEventBJ(dV,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dV,Condition(function Bpx))
call TriggerAddAction(dV,function Bpy)
endfunction
function Bp0 takes nothing returns boolean
if not (GetAttacker()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bp1 takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E303449) then
return false
endif
return true
endfunction
function Bp2 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=PolarProjectionBJ(QE,150.,40.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$68303659,GetOwningPlayer(RI),QI,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(20.,$42544C46,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"stand")
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call TriggerSleepAction(15.)
if Bp1() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function Bp3 takes nothing returns nothing
set eG=CreateTrigger()
call DisableTrigger(eG)
call TriggerRegisterAnyUnitEventBJ(eG,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eG,Condition(function Bp0))
call TriggerAddAction(eG,function Bp2)
endfunction
function Bp4 takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=80.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bp5 takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eH)
endfunction
function Bp6 takes nothing returns nothing
set dY=CreateTrigger()
call DisableTrigger(dY)
call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(dY,Condition(function Bp4))
call TriggerAddAction(dY,function Bp5)
endfunction
function Bp7 takes nothing returns boolean
if not (GetAttacker()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function Bp8 takes nothing returns boolean
if not (IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(RI))==true) then
return false
endif
if not (IsUnitAliveBJ(GetEnumUnit())==true) then
return false
endif
if not (GetEnumUnit()!=GetAttackedUnitBJ()) then
return false
endif
return true
endfunction
function Bp9 takes nothing returns nothing
if Bp8() then
call CreateNUnitsAtLoc(1,$6E303730,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
set bH[10]=$41305754
call UnitAddAbilityBJ(bH[10],GetLastCreatedUnit())
call SetUnitAbilityLevelSwapped(bH[10],GetLastCreatedUnit(),Iu/10)
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetEnumUnit())
else
endif
endfunction
function BqB takes nothing returns boolean
if not (Nm==5) then
return false
endif
return true
endfunction
function BqC takes nothing returns nothing
set Nm=Nm+1
if BqB() then
set Nm=0
set QE=GetUnitLoc(RI)
set Rx=RectFromCenterSizeBJ(QE,1200.,1200.)
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRectAll(Rx),function Bp9)
call RemoveRect(Rx)
call RemoveLocation(QE)
else
endif
endfunction
function BqD takes nothing returns nothing
set eH=CreateTrigger()
call DisableTrigger(eH)
call TriggerRegisterAnyUnitEventBJ(eH,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eH,Condition(function Bp7))
call TriggerAddAction(eH,function BqC)
endfunction
function BqE takes nothing returns boolean
if not (GetSpellTargetUnit()==RI) then
return false
endif
if not (IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(RI))==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
return true
endfunction
function BqF takes nothing returns nothing
set QE=GetUnitLoc(RI)
call CreateNUnitsAtLoc(1,$6E303730,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,$42544C46,GetLastCreatedUnit())
call IssueTargetOrder(GetLastCreatedUnit(),"attack",GetTriggerUnit())
call RemoveLocation(QE)
endfunction
function BqG takes nothing returns nothing
set dZ=CreateTrigger()
call DisableTrigger(dZ)
call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(dZ,Condition(function BqE))
call TriggerAddAction(dZ,function BqF)
endfunction
function BqH takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=60.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BqI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eI)
endfunction
function BqJ takes nothing returns nothing
set da=CreateTrigger()
call DisableTrigger(da)
call TriggerRegisterAnyUnitEventBJ(da,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(da,Condition(function BqH))
call TriggerAddAction(da,function BqI)
endfunction
function BqK takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BqL takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
return true
endfunction
function BqM takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnitBJ(true,RI)
call SetUnitInvulnerable(RI,true)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"spell",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
set QE=GetUnitLoc(RI)
call TriggerSleepAction(.3)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call SetUnitAnimationWithRarity(RI,"attack",RARITY_FREQUENT)
call TriggerSleepAction(.3)
set QE=GetUnitLoc(RI)
set QI=PolarProjectionBJ(QE,3000.,GetRandomDirectionDeg())
call CreateNUnitsAtLoc(1,$68303658,GetOwningPlayer(RI),QE,bj_UNIT_FACING)
call RemoveGuardPosition(GetLastCreatedUnit())
call IssuePointOrderLoc(GetLastCreatedUnit(),"attack",QI)
call UnitApplyTimedLifeBJ(3.,$42544C46,GetLastCreatedUnit())
call RemoveLocation(QE)
call RemoveLocation(QI)
call PauseUnitBJ(false,RI)
call SetUnitInvulnerable(RI,false)
call TriggerSleepAction(20.)
if BqL() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BqN takes nothing returns nothing
set eI=CreateTrigger()
call DisableTrigger(eI)
call TriggerRegisterAnyUnitEventBJ(eI,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eI,Condition(function BqK))
call TriggerAddAction(eI,function BqM)
endfunction
function BqO takes nothing returns boolean
if not (GetAttackedUnitBJ()==RI) then
return false
endif
if not (GetUnitLifePercent(RH)<=40.) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BqP takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(eJ)
endfunction
function BqQ takes nothing returns nothing
set db=CreateTrigger()
call DisableTrigger(db)
call TriggerRegisterAnyUnitEventBJ(db,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(db,Condition(function BqO))
call TriggerAddAction(db,function BqP)
endfunction
function BqR takes nothing returns boolean
if not (GetAttacker()==RI) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
if not (IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false) then
return false
endif
return true
endfunction
function BqS takes nothing returns boolean
if not (IsUnitAliveBJ(RI)==true) then
return false
endif
if not (GetUnitTypeId(RI)==$6E30344A) then
return false
endif
return true
endfunction
function BqT takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set QE=GetUnitLoc(GetAttackedUnitBJ())
call AddSpecialEffectLocBJ(QE,"Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl")
call DestroyEffect(GetLastCreatedEffectBJ())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set QI=PolarProjectionBJ(QE,150.,40.*I2R(GetForLoopIndexA()))
call CreateNUnitsAtLoc(1,$6830365A,GetOwningPlayer(RI),QI,GetRandomDirectionDeg())
call UnitApplyTimedLifeBJ(10.,$42544C46,GetLastCreatedUnit())
call SetUnitAnimation(GetLastCreatedUnit(),"stand")
call RemoveLocation(QI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(QE)
call TriggerSleepAction(15.)
if BqS() then
call EnableTrigger(GetTriggeringTrigger())
else
endif
endfunction
function BqU takes nothing returns nothing
set eJ=CreateTrigger()
call DisableTrigger(eJ)
call TriggerRegisterAnyUnitEventBJ(eJ,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(eJ,Condition(function BqR))
call TriggerAddAction(eJ,function BqT)
endfunction
function BqV takes nothing returns nothing
call gX()
call ga()
call gf()
call gk()
call gm()
call gp()
call gr()
call gt()
call hB()
call hS()
call hY()
call hd()
call hg()
call hn()
call hq()
call hx()
call h2()
call h7()
call iC()
call iF()
call iO()
call iS()
call iV()
call jf()
call jh()
call kF()
call kI()
call kM()
call kd()
call kf()
call km()
call ko()
call ku()
call ky()
call k1()
call k4()
call lD()
call lF()
call le()
call lg()
call lj()
call ln()
call lq()
call l2()
call l6()
call mF()
call mY()
call ma()
call mc()
call me()
call mj()
call mm()
call mt()
call mx()
call nB()
call nE()
call nH()
call nK()
call nN()
call nQ()
call nS()
call nX()
call nc()
call nk()
call ns()
call nv()
call n5()
call n7()
call oM()
call oa()
call oc()
call oe()
call oi()
call ol()
call pB()
call pE()
call pf()
call pj()
call po()
call ps()
call pz()
call qC()
call qI()
call qt()
call q1()
call rS()
call rW()
call rd()
call ri()
call rk()
call rm()
call rp()
call rw()
call sj()
call sm()
call sp()
call st()
call sw()
call s1()
call tB()
call tE()
call tM()
call tO()
call tQ()
call tY()
call te()
call tg()
call tj()
call tl()
call tn()
call tq()
call ts()
call tv()
call uL()
call uk()
call uq()
call wF()
call wr()
call ww()
call xI()
call yU()
call yg()
call y2()
call zH()
call zK()
call zN()
call zS()
call zX()
call z1()
call z4()
call BBf()
call BBl()
call BBt()
call BBy()
call BB2()
call BB5()
call BCB()
call BCE()
call BCi()
call BCp()
call BCt()
call BCw()
call BCz()
call BC5()
call BC9()
call BDG()
call BDM()
call BDP()
call BDm()
call BD4()
call BD7()
call BEo()
call BEs()
call BEw()
call BFK()
call BFk()
call BFv()
call BF5()
call BGB()
call BGI()
call BGR()
call BHG()
call BIW()
call BIq()
call BI5()
call BI9()
call BJV()
call BJc()
call BJr()
call BJx()
call BJ2()
call BJ4()
call BJ7()
call BKB()
call BKF()
call BKI()
call BKM()
call BKP()
call BKS()
call BKW()
call BKc()
call BKh()
call BKl()
call BKo()
call BKq()
call BKv()
call BKy()
call BK1()
call BK4()
call BK9()
call BLF()
call BLM()
call BLP()
call BLS()
call BLV()
call BLY()
call BLb()
call BLf()
call BLi()
call BLl()
call BLn()
call BLt()
call BLw()
call BL1()
call BL4()
call BL7()
call BMB()
call BME()
call BMH()
call BMN()
call BMQ()
call BMU()
call BMX()
call BMa()
call BMe()
call BMh()
call BMl()
call BMp()
call BMr()
call BMw()
call BM1()
call BM4()
call BND()
call BNG()
call BNJ()
call BNP()
call BNS()
call BNW()
call BNb()
call BNf()
call BNj()
call BNl()
call BNr()
call BNu()
call BNz()
call BN2()
call BN5()
call BN8()
call BOE()
call BOJ()
call BOM()
call BOP()
call BOS()
call BOX()
call BOa()
call BOg()
call BOj()
call BOr()
call BOx()
call BO2()
call BO7()
call BO9()
call BPC()
call BPF()
call BPK()
call BPN()
call BPT()
call BPW()
call BPa()
call BPd()
call BPi()
call BPl()
call BPo()
call BPs()
call BPz()
call BP2()
call BP5()
call BP9()
call BQD()
call BQF()
call BQM()
call BQR()
call BQU()
call BQZ()
call BQd()
call BQk()
call BQn()
call BQs()
call BQv()
call BQz()
call BQ2()
call BQ9()
call BRD()
call BRG()
call BRJ()
call BRO()
call BRR()
call BRU()
call BRX()
call BRZ()
call BRm()
call BRq()
call BRs()
call BRx()
call BSE()
call BSK()
call BSO()
call BSR()
call BSU()
call BSX()
call BSa()
call BSd()
call BSi()
call BSl()
call BSo()
call BSr()
call BSx()
call BS0()
call BS5()
call BS9()
call BTE()
call BTL()
call BTN()
call BTR()
call BTU()
call BTZ()
call BTb()
call BTg()
call BTj()
call BTm()
call BTp()
call BTs()
call BTw()
call BTz()
call BT2()
call BT5()
call BUB()
call BUE()
call BUK()
call BUN()
call BUQ()
call BUT()
call BUW()
call BUY()
call BUb()
call BUe()
call BUh()
call BUk()
call BUm()
call BUs()
call BUv()
call BUy()
call BU1()
call BU5()
call BU9()
call BVD()
call BVH()
call BVK()
call BVN()
call BVb()
call BVe()
call BVl()
call BVo()
call BVv()
call BVy()
call BV2()
call BV5()
call BV8()
call BWC()
call BWE()
call BWL()
call BWO()
call BWS()
call BWW()
call BWZ()
call BWd()
call BWi()
call BWk()
call BWr()
call BWu()
call BWx()
call BW0()
call BW6()
call BW9()
call BXD()
call BXK()
call BXN()
call BXU()
call BXX()
call BXf()
call BXi()
call BXo()
call BXr()
call BXx()
call BX0()
call BX3()
call BX7()
call BYB()
call BYE()
call BYL()
call BYP()
call BYR()
call BYY()
call BYc()
call BYg()
call BYm()
call BYq()
call BYu()
call BY4()
call BY8()
call BZD()
call BZL()
call BZQ()
call BZZ()
call BZd()
call BZh()
call BZt()
call BZx()
call BZ4()
call BaK()
call BaO()
call BaS()
call BaU()
call BaY()
call Baa()
call Bah()
call Bak()
call Bat()
call Baw()
call Baz()
call Ba3()
call Ba9()
call BbD()
call BbH()
call BbL()
call BbO()
call Bbg()
call Bbl()
call Bbo()
call Bbs()
call Bbz()
call Bb2()
call Bb5()
call Bb8()
call BcC()
call BcF()
call BcJ()
call BcQ()
call BcT()
call BcX()
call Bca()
call Bce()
call Bch()
call Bcm()
call Bcp()
call Bct()
call Bcw()
call Bcz()
call Bc2()
call Bc5()
call Bc8()
call BdC()
call BdF()
call BdI()
call BdL()
call BdO()
call BdS()
call BdW()
call Bdb()
call Bdh()
call Bdn()
call Bdr()
call Bd3()
call Bd8()
call BeG()
call BeN()
call BeS()
call BeY()
call Bed()
call Bej()
call Bel()
call Beo()
call Bew()
call Bez()
call Be2()
call Be5()
call BfD()
call BfG()
call BfJ()
call BfN()
call Bfo()
call Bfr()
call Bfv()
call Bf0()
call Bf3()
call Bf9()
call BgD()
call BgG()
call BgM()
call BgT()
call BgW()
call BgZ()
call Bgc()
call Bgf()
call Bgm()
call Bgs()
call Bgw()
call Bg2()
call Bg6()
call BhD()
call BhH()
call BhL()
call BhY()
call Bhc()
call Bhk()
call Bho()
call Bhs()
call Bhw()
call Bh5()
call BiB()
call Bib()
call Bid()
call BjN()
call BjP()
call BjX()
call Bjb()
call Bjd()
call Bjf()
call BkN()
call BkS()
call BkW()
call BkZ()
call Bkd()
call Bki()
call Bko()
call Bks()
call Bkv()
call Bk5()
call Bk8()
call BlE()
call BlI()
call BlL()
call BlS()
call BlX()
call Blf()
call Bll()
call Blq()
call Blv()
call Bly()
call Bl1()
call Bl6()
call BmG()
call BmL()
call BmQ()
call BmV()
call BmX()
call BmZ()
call Bmd()
call Bmh()
call Bml()
call Bmv()
call Bm0()
call Bm3()
call Bm8()
call BnE()
call BnH()
call BnM()
call BnP()
call BnS()
call BnU()
call BnX()
call Bna()
call Bng()
call Bnj()
call Bnm()
call Bnp()
call Bnz()
call Bn1()
call Bn4()
call Bn8()
call BoF()
call BoI()
call BoN()
call BoR()
call BoU()
call BoX()
call Boh()
call Bok()
call Bop()
call Bos()
call Bov()
call Bo1()
call Bo4()
call BpB()
call BpF()
call BpJ()
call BpN()
call BpQ()
call BpT()
call BpX()
call Bpa()
call Bpd()
call Bpg()
call Bpm()
call Bpp()
call Bps()
call Bpw()
call Bpz()
call Bp3()
call Bp6()
call BqD()
call BqG()
call BqJ()
call BqN()
call BqQ()
call BqU()
endfunction
function BqW takes nothing returns nothing
call ConditionalTriggerExecute(QX)
call ConditionalTriggerExecute(Ry)
call ConditionalTriggerExecute(eZ)
endfunction
function BqX takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(10),10)
call ForcePlayerStartLocation(Player(10),10)
call SetPlayerColor(Player(10),ConvertPlayerColor(10))
call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(10),false)
call SetPlayerController(Player(10),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(11),11)
call ForcePlayerStartLocation(Player(11),11)
call SetPlayerColor(Player(11),ConvertPlayerColor(11))
call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(11),false)
call SetPlayerController(Player(11),MAP_CONTROL_COMPUTER)
endfunction
function SwapControlEnable takes nothing returns nothing
	local integer numberOfPlayer=9
	local integer i=0
	local integer j=0
	
    loop
    exitwhen i>numberOfPlayer
		set j=0

		loop
		exitwhen j>numberOfPlayer
			if i!=j then
				call SetPlayerAllianceStateVisionBJ(Player(i),Player(j),true)
				call SetPlayerAllianceStateFullControlBJ(Player(i),Player(j),true)
			endif
			set j=j+1
		endloop
		
		set i=i+1
    endloop
endfunction
function BqY takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerTeam(Player(1),0)
call SetPlayerTeam(Player(2),0)
call SetPlayerTeam(Player(3),0)
call SetPlayerTeam(Player(4),0)
call SetPlayerTeam(Player(5),0)
call SetPlayerTeam(Player(6),0)
call SetPlayerTeam(Player(7),0)
call SetPlayerTeam(Player(8),0)
call SetPlayerTeam(Player(9),0)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
call SwapControlEnable()
call SetPlayerTeam(Player(10),1)
call SetPlayerTeam(Player(11),1)
call SetPlayerAllianceStateAllyBJ(Player(10),Player(11),true)
call SetPlayerAllianceStateAllyBJ(Player(11),Player(10),true)
endfunction
function BqZ takes nothing returns nothing
call SetStartLocPrioCount(0,9)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,9)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,9)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,9)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,9)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,9)
call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,9)
call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,9)
call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,9)
call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,9)
call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
call SetCameraBounds(-7424.+GetCameraMargin(CAMERA_MARGIN_LEFT),-7424.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7936.-GetCameraMargin(CAMERA_MARGIN_RIGHT),7296.-GetCameraMargin(CAMERA_MARGIN_TOP),-7424.+GetCameraMargin(CAMERA_MARGIN_LEFT),7296.-GetCameraMargin(CAMERA_MARGIN_TOP),7936.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7424.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCDalaran\\DNCDalaranTerrain\\DNCDalaranTerrain.mdl","Environment\\DNC\\DNCDalaran\\DNCDalaranUnit\\DNCDalaranUnit.mdl")
call SetWaterBaseColor(64,64,64,255)
call NewSoundEnvironment("Dungeon")
call SetAmbientDaySound("DungeonDay")
call SetAmbientNightSound("DungeonNight")
call SetMapMusic("Music",true,0)
call fv()
call gF()
call gG()
call fw()
call gE()
call InitBlizzard()
call ExecuteFunc("Bqb")
call ExecuteFunc("e4")
call fu()
call BqV()
call BqW()
endfunction
function config takes nothing returns nothing
call SetMapName("|c0080FF00GOBLIN Survival|r v1.4b")
call SetMapDescription("Примите вызов и пройдите все волны в этой гоблинской выживалке с системой save/load. Заходите в дискорд: discord.com/invite/DDMptdZ")
call SetPlayers(12)
call SetTeams(12)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-5056.,5248.)
call DefineStartLocation(1,-5056.,5248.)
call DefineStartLocation(2,-5056.,5248.)
call DefineStartLocation(3,-5056.,5248.)
call DefineStartLocation(4,-5056.,5248.)
call DefineStartLocation(5,-5056.,5248.)
call DefineStartLocation(6,-5056.,5248.)
call DefineStartLocation(7,-5056.,5248.)
call DefineStartLocation(8,-5056.,5248.)
call DefineStartLocation(9,-5056.,5248.)
call DefineStartLocation(10,-1856.,5504.)
call DefineStartLocation(11,6208.,4544.)
call BqX()
call BqY()
call BqZ()
endfunction
function Bqa takes nothing returns boolean
local integer Hq=Hm
call FlushStoredInteger(Hn,Ho+Hp[Hq],Hr[Hq])
call FlushStoredInteger(Hn,Hs+Hp[Hq],Hp[Hq])
set Hr[Hq]=null
set Hp[Hq]=null
set Ht[Hq]=0
return true
endfunction
function Bqb takes nothing returns nothing
set Hl=CreateTrigger()
call TriggerAddCondition(Hl,Condition(function Bqa))
endfunction
